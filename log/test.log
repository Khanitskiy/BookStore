  [1m[36m (224.8ms)[0m  [1mDROP DATABASE IF EXISTS "amazone_test"[0m
  [1m[35m (1896.5ms)[0m  CREATE DATABASE "amazone_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (99.1ms)[0m  CREATE TABLE "addresses" ("id" serial primary key, "address" character varying, "zipode" integer, "city" character varying, "phone" character varying, "country" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (86.3ms)[0m  [1mCREATE TABLE "authors" ("id" serial primary key, "firstname" character varying, "lastname" character varying, "biography" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (97.4ms)[0m  CREATE TABLE "books" ("id" serial primary key, "title" character varying, "description" text, "price" decimal, "in_stock" integer, "rating" decimal, "author_id" integer, "category_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (62.3ms)[0m  [1mCREATE  INDEX  "index_books_on_author_id" ON "books" USING btree ("author_id")[0m
  [1m[35m (85.2ms)[0m  CREATE  INDEX  "index_books_on_category_id" ON "books" USING btree ("category_id")
  [1m[36m (142.2ms)[0m  [1mCREATE TABLE "categories" ("id" serial primary key, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (119.8ms)[0m  CREATE TABLE "countries" ("id" serial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (142.5ms)[0m  [1mCREATE TABLE "credit_cards" ("id" serial primary key, "number" integer, "cvv" integer, "expiration_month" integer, "expiration_year" integer, "firstname" character varying, "lastname" character varying, "customer_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (64.5ms)[0m  CREATE  INDEX  "index_credit_cards_on_customer_id" ON "credit_cards" USING btree ("customer_id")
  [1m[36m (142.1ms)[0m  [1mCREATE TABLE "customers" ("id" serial primary key, "email" character varying, "password" character varying, "firstname" character varying, "lastname" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (108.7ms)[0m  CREATE TABLE "order_items" ("id" serial primary key, "price" integer, "quantity" character varying, "book_id" integer, "order_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (63.0ms)[0m  [1mCREATE  INDEX  "index_order_items_on_book_id" ON "order_items" USING btree ("book_id")[0m
  [1m[35m (63.3ms)[0m  CREATE  INDEX  "index_order_items_on_order_id" ON "order_items" USING btree ("order_id")
  [1m[36m (108.4ms)[0m  [1mCREATE TABLE "orders" ("id" serial primary key, "total_price" decimal, "completed_date" date, "state" integer, "billing_address" character varying, "shipping_address" character varying, "customer_id" integer, "credit_card_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (51.9ms)[0m  CREATE  INDEX  "index_orders_on_credit_card_id" ON "orders" USING btree ("credit_card_id")
  [1m[36m (52.0ms)[0m  [1mCREATE  INDEX  "index_orders_on_customer_id" ON "orders" USING btree ("customer_id")[0m
  [1m[35m (97.9ms)[0m  CREATE TABLE "ratings" ("id" serial primary key, "text_review" character varying, "rating" integer, "book_id" integer, "customer_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (51.9ms)[0m  [1mCREATE  INDEX  "index_ratings_on_book_id" ON "ratings" USING btree ("book_id")[0m
  [1m[35m (105.0ms)[0m  CREATE  INDEX  "index_ratings_on_customer_id" ON "ratings" USING btree ("customer_id")
  [1m[36m (47.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (53.2ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.6ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (9.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220140019')
  [1m[36m (10.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131228')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131221')
  [1m[36m (10.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220115101')[0m
  [1m[35m (11.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220115140')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131238')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131137')
  [1m[36m (10.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131202')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220115125')
  [1m[36m (10.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220093423')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Falling Flags"], ["price", "70.93"], ["description", "Incidunt minus in reprehenderit reiciendis. Dolores rem cupiditate quod tempora unde. Id molestiae dolor est sed velit in."], ["in_stock", 36], ["created_at", "2016-02-22 10:46:19.491215"], ["updated_at", "2016-02-22 10:46:19.491215"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Tomato in the Window"], ["price", "18.12"], ["description", "Pariatur expedita voluptatibus quod atque voluptas eos sint. Totam veritatis voluptates voluptas expedita corrupti. Aut dignissimos aut aut deserunt omnis."], ["in_stock", 30], ["created_at", "2016-02-22 10:46:19.499177"], ["updated_at", "2016-02-22 10:46:19.499177"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Future Discretions"], ["price", "22.26"], ["description", "Corporis aut laudantium dolorem totam vel. Omnis voluptas saepe qui et dolor. Ut libero beatae ad. Cum magnam eum qui. Unde saepe eligendi cupiditate harum."], ["in_stock", 194], ["created_at", "2016-02-22 10:46:19.504061"], ["updated_at", "2016-02-22 10:46:19.504061"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "The Odd Sister"], ["price", "8.5"], ["description", "Hic delectus aut facere. Est maxime omnis. Repudiandae eum esse id maiores debitis est. Velit harum aspernatur doloribus. Vitae quo saepe assumenda molestiae."], ["in_stock", 16], ["created_at", "2016-02-22 10:46:47.152238"], ["updated_at", "2016-02-22 10:46:47.152238"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Free Parking"], ["price", "80.93"], ["description", "Unde tenetur voluptas impedit laboriosam commodi. Placeat et voluptatibus numquam ut aut. Temporibus quia quam vel culpa vitae mollitia est. Impedit non sapiente aspernatur ullam. Quod ut dolores consequatur ullam atque et et."], ["in_stock", 36], ["created_at", "2016-02-22 10:46:47.158469"], ["updated_at", "2016-02-22 10:46:47.158469"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Stop Asking, Just Do"], ["price", "16.53"], ["description", "Sapiente dolor aut quaerat. Asperiores velit commodi voluptatem voluptatum qui a. Rerum voluptatem eaque et qui fuga consectetur omnis. Provident quisquam quia nobis veritatis accusantium. Blanditiis quo dignissimos quia aut officiis."], ["in_stock", 154], ["created_at", "2016-02-22 10:46:47.163607"], ["updated_at", "2016-02-22 10:46:47.163607"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "The Zookeeper and Her Tiger"], ["price", "44.93"], ["description", "Nemo reprehenderit consequatur nostrum. Fugit est libero vel. Est odio quae eaque repellat."], ["in_stock", 169], ["created_at", "2016-02-22 10:48:33.856269"], ["updated_at", "2016-02-22 10:48:33.856269"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Fishing With Chips"], ["price", "38.68"], ["description", "Explicabo fuga sed ut rerum unde aspernatur neque. Est provident illo debitis quasi quas. Doloremque voluptatem aliquam assumenda corrupti nisi exercitationem."], ["in_stock", 17], ["created_at", "2016-02-22 10:48:58.146355"], ["updated_at", "2016-02-22 10:48:58.146355"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Finding a New Sun"], ["price", "29.58"], ["description", "Libero sed sapiente. Natus debitis nesciunt a quia nostrum. Voluptatem sit dolore reprehenderit blanditiis excepturi fuga sequi."], ["in_stock", 132], ["created_at", "2016-02-22 10:49:13.767750"], ["updated_at", "2016-02-22 10:49:13.767750"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "No Lonely Stars"], ["price", "36.02"], ["description", "Nihil nostrum enim. Maxime temporibus nesciunt magni id et. Necessitatibus optio quibusdam officiis quo. Sapiente aliquid enim ad molestiae aut."], ["in_stock", 172], ["created_at", "2016-02-22 10:49:17.858395"], ["updated_at", "2016-02-22 10:49:17.858395"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Covered and Warm"], ["price", "18.23"], ["description", "Eum consequatur molestiae. Suscipit blanditiis ut. Repellat corrupti facilis consequatur nihil ratione autem ab. Dolor hic culpa est est laboriosam a."], ["in_stock", 68], ["created_at", "2016-02-22 10:54:15.867946"], ["updated_at", "2016-02-22 10:54:15.867946"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "A Year of Walking"], ["price", "30.29"], ["description", "Officiis aut architecto quo expedita illum corporis impedit. Dolorem ea quae et aut neque est sed. Debitis qui cumque et qui qui est est. Occaecati aut enim ipsam consequatur et praesentium voluptates. Soluta esse aut voluptates sunt."], ["in_stock", 114], ["created_at", "2016-02-22 10:56:53.352175"], ["updated_at", "2016-02-22 10:56:53.352175"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Stop Asking, Just Do"], ["price", "23.96"], ["description", "Id fugit suscipit quasi minus. Omnis perspiciatis sit. Qui nesciunt inventore voluptatem vel. Accusantium ut ab fugit. Unde ea placeat id accusamus eos."], ["in_stock", 98], ["created_at", "2016-02-22 10:56:53.359860"], ["updated_at", "2016-02-22 10:56:53.359860"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Free Parking"], ["price", "8.86"], ["description", "Vel nihil minima eaque voluptatibus repellendus est sit. Velit corporis modi harum non. Ut sapiente accusamus."], ["in_stock", 141], ["created_at", "2016-02-22 10:56:53.366007"], ["updated_at", "2016-02-22 10:56:53.366007"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Same Way Through"], ["price", "30.0"], ["description", "Rerum consectetur quia. Numquam sed et ut molestiae. Pariatur temporibus eligendi eum quia hic."], ["in_stock", 174], ["created_at", "2016-02-22 10:57:07.753861"], ["updated_at", "2016-02-22 10:57:07.753861"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Ready, Set, Die"], ["price", "0.67"], ["description", "Non praesentium eos ipsam aperiam aut id molestiae. Alias repellendus molestiae ipsam dicta dolores eum animi. A laudantium illum libero veritatis corrupti sapiente."], ["in_stock", 172], ["created_at", "2016-02-22 10:57:07.760280"], ["updated_at", "2016-02-22 10:57:07.760280"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Future Discretions"], ["price", "64.51"], ["description", "Odio assumenda quo eveniet molestias est reiciendis eius. Est perferendis ipsum perspiciatis occaecati. Accusantium impedit ad sed esse eligendi. Quisquam repellendus suscipit architecto."], ["in_stock", 4], ["created_at", "2016-02-22 10:57:07.764288"], ["updated_at", "2016-02-22 10:57:07.764288"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "The Frog Catchers Field Manual"], ["price", "34.43"], ["description", "Et impedit soluta perspiciatis modi eum culpa. Earum dignissimos commodi illum veniam et sint quos. Labore magni voluptas et. Dignissimos qui quo delectus hic et quisquam."], ["in_stock", 163], ["created_at", "2016-02-22 11:00:59.158993"], ["updated_at", "2016-02-22 11:00:59.158993"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "The Zookeeper and Her Tiger"], ["price", "34.24"], ["description", "Et labore necessitatibus exercitationem dolorem numquam aut. Natus eaque sint est nulla enim omnis. Earum molestias dolorem sapiente labore accusamus."], ["in_stock", 154], ["created_at", "2016-02-22 11:05:59.660378"], ["updated_at", "2016-02-22 11:05:59.660378"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Covered and Warm"], ["price", "34.37"], ["description", "Et rerum voluptatibus aut quia. In et excepturi est. Voluptatem consequuntur suscipit et amet earum."], ["in_stock", 186], ["created_at", "2016-02-22 11:06:08.089441"], ["updated_at", "2016-02-22 11:06:08.089441"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Candy For Two"], ["price", "32.23"], ["description", "Qui harum mollitia ut suscipit alias non. Voluptas ut eius ut est praesentium aut qui. Ut praesentium nostrum voluptatem quia fuga."], ["in_stock", 178], ["created_at", "2016-02-22 11:06:16.845733"], ["updated_at", "2016-02-22 11:06:16.845733"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "No Lonely Stars"], ["price", "47.34"], ["description", "Id qui ad dolores dolores aut molestiae asperiores. Perferendis dignissimos minus. Ut omnis reprehenderit unde libero dolorem."], ["in_stock", 33], ["created_at", "2016-02-22 11:06:52.991745"], ["updated_at", "2016-02-22 11:06:52.991745"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Zookeeper and Her Tiger"], ["price", "81.63"], ["description", "Nesciunt accusantium culpa. Aperiam aliquam veniam ea eum ut dicta. Minus neque voluptas provident. Nisi ex nam doloremque et architecto."], ["in_stock", 85], ["created_at", "2016-02-22 11:06:53.002611"], ["updated_at", "2016-02-22 11:06:53.002611"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "What Lives on Pluto"], ["price", "26.86"], ["description", "Ipsum doloremque quia autem. Recusandae ut qui consequatur magnam perferendis qui reprehenderit. Distinctio iure alias eum dolorem numquam temporibus."], ["in_stock", 79], ["created_at", "2016-02-22 11:06:53.009443"], ["updated_at", "2016-02-22 11:06:53.009443"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "To Say Nothing of the Dog"], ["price", "55.67"], ["description", "Perferendis quia animi qui ut accusantium. Rerum non neque nulla repellat fugit quia. Inventore voluptatem delectus."], ["in_stock", 148], ["created_at", "2016-02-22 11:13:26.570317"], ["updated_at", "2016-02-22 11:13:26.570317"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Other Side of Silence"], ["price", "84.96"], ["description", "Provident cupiditate voluptatem ut velit velit quod. Ad dolorem aut dolor fugit aut. Dicta blanditiis qui impedit. Harum perferendis ut quibusdam et quod voluptatem."], ["in_stock", 154], ["created_at", "2016-02-22 11:13:26.578809"], ["updated_at", "2016-02-22 11:13:26.578809"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Recalled to Life"], ["price", "65.53"], ["description", "Ipsum iste neque blanditiis et ut nemo. Quo est qui modi hic itaque omnis doloribus. Consequatur nobis tempora perspiciatis ut quo. Sunt similique sunt minima. Eum vero repellat."], ["in_stock", 86], ["created_at", "2016-02-22 11:13:26.584634"], ["updated_at", "2016-02-22 11:13:26.584634"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "A Time of Gifts"], ["price", "62.44"], ["description", "Dicta iste quia velit et. Incidunt aut sint ea minus corporis. Necessitatibus iste voluptas repellat autem impedit tempore. Tenetur nihil odio."], ["in_stock", 164], ["created_at", "2016-02-22 11:15:24.928346"], ["updated_at", "2016-02-22 11:15:24.928346"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Blue Remembered Earth"], ["price", "33.32"], ["description", "Dolore quia impedit voluptatem hic debitis eaque. Rem aut quo. Cum numquam et possimus. Eum quam reiciendis maiores."], ["in_stock", 94], ["created_at", "2016-02-22 11:15:24.936141"], ["updated_at", "2016-02-22 11:15:24.936141"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "The Mirror Crack'd from Side to Side"], ["price", "30.06"], ["description", "Est sint veritatis aut soluta iure rem quia. Rerum aut repudiandae dolores. Quisquam nisi consectetur molestias quis quia. Id neque consequatur. Repellat et molestiae suscipit placeat."], ["in_stock", 35], ["created_at", "2016-02-22 11:15:24.941850"], ["updated_at", "2016-02-22 11:15:24.941850"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Endless Night"], ["price", "56.66"], ["description", "Ratione accusantium porro. Nihil alias ipsam. Fuga quam est velit soluta possimus dolorem magni. Est unde blanditiis eius voluptatem minima."], ["in_stock", 183], ["created_at", "2016-02-22 11:16:51.692911"], ["updated_at", "2016-02-22 11:16:51.692911"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "For Whom the Bell Tolls"], ["price", "97.31"], ["description", "Nostrum sit sequi consequatur molestiae. Dolor aut recusandae quos hic facilis alias. Vel illum maxime tempora eum voluptatem. Non aliquam itaque."], ["in_stock", 183], ["created_at", "2016-02-22 11:16:51.702166"], ["updated_at", "2016-02-22 11:16:51.702166"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "A Monstrous Regiment of Women"], ["price", "41.83"], ["description", "Et asperiores in aperiam. Consequatur quibusdam molestiae sint labore. Nihil et non aliquam. Maxime totam et quibusdam."], ["in_stock", 96], ["created_at", "2016-02-22 11:16:51.708561"], ["updated_at", "2016-02-22 11:16:51.708561"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "The Wives of Bath"], ["price", "96.55"], ["description", "Architecto et quas. Eum est excepturi id rerum autem. Hic quo facere et illum fuga molestiae consequuntur. Eos et et laboriosam tenetur omnis."], ["in_stock", 67], ["created_at", "2016-02-22 11:18:41.030989"], ["updated_at", "2016-02-22 11:18:41.030989"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Wives of Bath"], ["price", "49.15"], ["description", "Fugiat alias tempore minus. Aut nulla cupiditate et nesciunt. Autem repellendus rerum ducimus. Doloremque doloribus delectus commodi."], ["in_stock", 119], ["created_at", "2016-02-22 11:18:41.041282"], ["updated_at", "2016-02-22 11:18:41.041282"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Things Fall Apart"], ["price", "74.69"], ["description", "Facilis consequatur magnam molestiae autem. Ullam aspernatur odit accusamus. Aliquid aut illo impedit occaecati qui ut. Recusandae ad deserunt aspernatur."], ["in_stock", 95], ["created_at", "2016-02-22 11:18:41.048760"], ["updated_at", "2016-02-22 11:18:41.048760"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "When the Green Woods Laugh"], ["price", "58.95"], ["description", "Et temporibus ut architecto nihil occaecati. Tempore eum quas voluptatibus vel autem. Optio quidem molestias ut eos odio et possimus. Id ut aliquid sapiente mollitia nostrum saepe iusto."], ["in_stock", 111], ["created_at", "2016-02-22 11:24:17.135650"], ["updated_at", "2016-02-22 11:24:17.135650"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Antic Hay"], ["price", "2.76"], ["description", "Eos beatae natus est occaecati voluptatem. Sunt iusto quibusdam a ut eligendi ipsa. Est nesciunt quod et. Incidunt consequatur vel."], ["in_stock", 143], ["created_at", "2016-02-22 11:24:17.144828"], ["updated_at", "2016-02-22 11:24:17.144828"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "The Moon by Night"], ["price", "22.02"], ["description", "Ducimus tempore aut consectetur expedita maxime. Voluptatem dolores doloribus quam unde. Et magni odit. Qui quod magni sequi natus sed."], ["in_stock", 138], ["created_at", "2016-02-22 11:24:17.151116"], ["updated_at", "2016-02-22 11:24:17.151116"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Consider Phlebas"], ["price", "33.49"], ["description", "Sint cum ea. Quo eum mollitia. Nihil praesentium officiis molestias consequatur eius. Voluptas tempore soluta ut dicta."], ["in_stock", 53], ["created_at", "2016-02-22 11:24:30.746319"], ["updated_at", "2016-02-22 11:24:30.746319"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Great Work of Time"], ["price", "39.22"], ["description", "Cumque aut voluptatibus placeat fugit culpa voluptatem suscipit. Quia sequi sunt tempora. Est magni eius optio."], ["in_stock", 170], ["created_at", "2016-02-22 11:24:30.754537"], ["updated_at", "2016-02-22 11:24:30.754537"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Stranger in a Strange Land"], ["price", "72.27"], ["description", "Fugiat nihil est labore cumque magni accusantium. Occaecati rerum deleniti dignissimos. Voluptatibus molestiae aut dolores dolores eos accusantium in. Aut qui porro et ad laboriosam deserunt. Omnis sit consequatur enim."], ["in_stock", 141], ["created_at", "2016-02-22 11:24:30.764661"], ["updated_at", "2016-02-22 11:24:30.764661"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "As I Lay Dying"], ["price", "60.78"], ["description", "Qui praesentium hic id veritatis nemo. Et quasi vel rerum dolores est. Doloremque ipsa aut eos molestiae quia. Expedita rem minima dolorem."], ["in_stock", 48], ["created_at", "2016-02-22 12:20:40.109990"], ["updated_at", "2016-02-22 12:20:40.109990"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Tender Is the Night"], ["price", "80.63"], ["description", "Omnis totam modi est aut. Minima libero magnam modi quam consequatur laudantium dicta. Deserunt molestiae sunt labore doloremque mollitia."], ["in_stock", 2], ["created_at", "2016-02-22 12:26:42.367578"], ["updated_at", "2016-02-22 12:26:42.367578"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "The Green Bay Tree"], ["price", "1.58"], ["description", "Minima enim ut tempore ut optio quo atque. Quidem temporibus nobis quia distinctio error aut. Provident sint sapiente quia distinctio molestiae."], ["in_stock", 200], ["created_at", "2016-02-22 12:27:41.783953"], ["updated_at", "2016-02-22 12:27:41.783953"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.7ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-22 14:13:41.269419"], ["updated_at", "2016-02-22 14:13:41.269419"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-22 14:13:41.272909"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.7ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-22 14:17:15.226428"], ["updated_at", "2016-02-22 14:17:15.226428"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-22 14:17:15.229977"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.8ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-22 14:18:31.660974"], ["updated_at", "2016-02-22 14:18:31.660974"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-22 14:18:31.663329"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.5ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-22 14:18:49.884419"], ["updated_at", "2016-02-22 14:18:49.884419"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-22 14:18:49.887184"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.8ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-22 14:18:56.088001"], ["updated_at", "2016-02-22 14:18:56.088001"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-22 14:18:56.091058"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-22 14:43:21.077493"], ["updated_at", "2016-02-22 14:43:21.077493"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "customers" SET "email" = $1, "updated_at" = $2 WHERE "customers"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-02-22 14:43:21.080258"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Exists (0.5ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Load (0.8ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-22 14:44:38.728421"], ["updated_at", "2016-02-22 14:44:38.728421"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "customers" SET "email" = $1, "updated_at" = $2 WHERE "customers"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-02-22 14:44:38.730970"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Exists (0.5ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.6ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Load (0.5ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-22 14:45:26.620950"], ["updated_at", "2016-02-22 14:45:26.620950"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "customers" SET "email" = $1, "updated_at" = $2 WHERE "customers"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-02-22 14:45:26.623748"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Exists (0.5ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "59.93"], ["completed_date", "2016-02-21"], ["created_at", "2016-02-22 15:08:35.421557"], ["updated_at", "2016-02-22 15:08:35.421557"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "The Last Temptation"], ["price", "83.77"], ["description", "Ut consequuntur velit ipsum illum id et minus. Eligendi quibusdam quia amet ducimus. Veniam ab nostrum sit."], ["in_stock", 6], ["created_at", "2016-02-22 15:36:09.980850"], ["updated_at", "2016-02-22 15:36:09.980850"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "books" SET "title" = $1, "updated_at" = $2 WHERE "books"."id" = $3[0m  [["title", "sdsds"], ["updated_at", "2016-02-22 15:36:09.985570"], ["id", 46]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "A Time of Gifts"], ["price", "31.25"], ["description", "Vel est sint consequatur. Labore exercitationem ipsa. Sunt ut maxime officia porro. Eos sed asperiores voluptatum."], ["in_stock", 8], ["created_at", "2016-02-22 15:38:30.486232"], ["updated_at", "2016-02-22 15:38:30.486232"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Eyeless in Gaza"], ["price", "8.31"], ["description", "Inventore corporis laboriosam accusamus nihil omnis. Consectetur voluptatum earum rerum illum. Modi sit impedit facilis et. Maiores temporibus illum nam ut omnis voluptas officia. Sed impedit ipsa qui voluptas."], ["in_stock", 144], ["created_at", "2016-02-22 15:39:09.428153"], ["updated_at", "2016-02-22 15:39:09.428153"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCountry Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (1.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-22 16:21:31.015060"], ["updated_at", "2016-02-22 16:21:31.015060"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-22 16:21:31.017820"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Fame Is the Spur"], ["price", "26.16"], ["description", "Natus reprehenderit iure aliquam exercitationem molestias ad sed. Et fugiat suscipit soluta minima et omnis. Sapiente vero ut magni et illo."], ["in_stock", 43], ["created_at", "2016-02-22 16:34:11.249637"], ["updated_at", "2016-02-22 16:34:11.249637"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "The House of Mirth"], ["price", "6.92"], ["description", "Quo beatae est qui esse corrupti repellendus. Officiis omnis veniam est sunt quod harum. Necessitatibus quia dolor qui ipsum doloremque sit. Porro cupiditate tenetur molestiae."], ["in_stock", 118], ["created_at", "2016-02-22 16:35:35.573721"], ["updated_at", "2016-02-22 16:35:35.573721"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Dance Dance Dance"], ["price", "50.4"], ["description", "Eligendi porro tempora. Ipsum reiciendis et sit praesentium molestiae qui. Voluptatem voluptatum qui earum. Natus odio temporibus quaerat perspiciatis sit autem."], ["in_stock", 33], ["created_at", "2016-02-22 16:38:26.969423"], ["updated_at", "2016-02-22 16:38:26.969423"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Quo Vadis"], ["price", "29.1"], ["description", "Dolorum ipsa iure sit dolores. Ut provident quia. Sint deserunt esse debitis exercitationem laboriosam. Sunt mollitia voluptatem suscipit recusandae laborum aut. Autem et voluptates error."], ["in_stock", 170], ["created_at", "2016-02-22 16:38:30.311089"], ["updated_at", "2016-02-22 16:38:30.311089"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "I Sing the Body Electric"], ["price", "21.54"], ["description", "Vel voluptatum magni asperiores excepturi. Quia dolore hic dolor omnis. Laudantium aspernatur accusantium nobis cum quis maiores sed. Ea saepe consequatur consectetur dolorum."], ["in_stock", 31], ["created_at", "2016-02-22 16:38:33.477754"], ["updated_at", "2016-02-22 16:38:33.477754"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "The Violent Bear It Away"], ["price", "64.21"], ["description", "Aut inventore tempore et nemo autem voluptas aperiam. Dolorem qui sed et omnis et. Et ex tempore quam vero unde ab."], ["in_stock", 187], ["created_at", "2016-02-22 16:38:36.643482"], ["updated_at", "2016-02-22 16:38:36.643482"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (5009.1ms)[0m  [1mDROP DATABASE IF EXISTS "bookstore_test"[0m
PG::ObjectInUse: ОШИБКА:  база данных "bookstore_test" занята другими пользователями
DETAIL:  Эта база данных используется ещё в 1 сеансе.
: DROP DATABASE IF EXISTS "bookstore_test"
  [1m[36m (5008.2ms)[0m  [1mDROP DATABASE IF EXISTS "amazone_test"[0m
PG::ObjectInUse: ОШИБКА:  база данных "amazone_test" занята другими пользователями
DETAIL:  Эта база данных используется ещё в 1 сеансе.
: DROP DATABASE IF EXISTS "amazone_test"
  [1m[36m (1032.4ms)[0m  [1mDROP DATABASE IF EXISTS "amazone_test"[0m
  [1m[35m (831.2ms)[0m  CREATE DATABASE "amazone_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (122.3ms)[0m  CREATE TABLE "addresses" ("id" serial primary key, "address" character varying, "zipcode" integer, "city" character varying, "phone" character varying, "country" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (131.1ms)[0m  [1mCREATE TABLE "authors" ("id" serial primary key, "firstname" character varying, "lastname" character varying, "biography" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (111.7ms)[0m  CREATE TABLE "books" ("id" serial primary key, "title" character varying, "description" text, "price" decimal, "in_stock" integer, "rating" decimal, "author_id" integer, "category_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (85.7ms)[0m  [1mCREATE  INDEX  "index_books_on_author_id" ON "books" USING btree ("author_id")[0m
  [1m[35m (64.8ms)[0m  CREATE  INDEX  "index_books_on_category_id" ON "books" USING btree ("category_id")
  [1m[36m (164.2ms)[0m  [1mCREATE TABLE "categories" ("id" serial primary key, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (108.7ms)[0m  CREATE TABLE "countries" ("id" serial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (142.0ms)[0m  [1mCREATE TABLE "credit_cards" ("id" serial primary key, "number" integer, "cvv" integer, "expiration_month" integer, "expiration_year" integer, "firstname" character varying, "lastname" character varying, "customer_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (62.9ms)[0m  CREATE  INDEX  "index_credit_cards_on_customer_id" ON "credit_cards" USING btree ("customer_id")
  [1m[36m (126.1ms)[0m  [1mCREATE TABLE "customers" ("id" serial primary key, "email" character varying, "password" character varying, "firstname" character varying, "lastname" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (91.7ms)[0m  CREATE TABLE "order_items" ("id" serial primary key, "price" decimal, "quantity" character varying, "book_id" integer, "order_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (74.4ms)[0m  [1mCREATE  INDEX  "index_order_items_on_book_id" ON "order_items" USING btree ("book_id")[0m
  [1m[35m (80.5ms)[0m  CREATE  INDEX  "index_order_items_on_order_id" ON "order_items" USING btree ("order_id")
  [1m[36m (124.9ms)[0m  [1mCREATE TABLE "orders" ("id" serial primary key, "total_price" decimal, "completed_date" date, "state" integer, "billing_address" character varying, "shipping_address" character varying, "customer_id" integer, "credit_card_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (73.9ms)[0m  CREATE  INDEX  "index_orders_on_credit_card_id" ON "orders" USING btree ("credit_card_id")
  [1m[36m (73.7ms)[0m  [1mCREATE  INDEX  "index_orders_on_customer_id" ON "orders" USING btree ("customer_id")[0m
  [1m[35m (120.0ms)[0m  CREATE TABLE "ratings" ("id" serial primary key, "text_review" character varying, "rating" integer, "book_id" integer, "customer_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (74.2ms)[0m  [1mCREATE  INDEX  "index_ratings_on_book_id" ON "ratings" USING btree ("book_id")[0m
  [1m[35m (74.1ms)[0m  CREATE  INDEX  "index_ratings_on_customer_id" ON "ratings" USING btree ("customer_id")
  [1m[36m (69.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (63.9ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.7ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (9.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220140019')
  [1m[36m (10.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131228')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131221')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220115101')[0m
  [1m[35m (31.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220115140')
  [1m[36m (23.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131238')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131137')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131202')[0m
  [1m[35m (11.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220115125')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220093423')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "It's a Battlefield"], ["price", "12.58"], ["description", "Ut magni id voluptatem. Et dolor natus id minima. Tempora ut non accusantium veritatis."], ["in_stock", 7], ["created_at", "2016-02-22 17:13:19.427027"], ["updated_at", "2016-02-22 17:13:19.427027"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "As I Lay Dying"], ["price", "46.24"], ["description", "Velit officiis facere aut sit. Quibusdam et veritatis facere dolor maiores. Doloremque rerum consequatur. Sed et aut et dolorem est."], ["in_stock", 186], ["created_at", "2016-02-22 17:14:10.696143"], ["updated_at", "2016-02-22 17:14:10.696143"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Waiting for the Barbarians"], ["price", "57.15"], ["description", "Minus possimus aliquid neque iure doloribus. Voluptas perferendis illo qui quo est. Reiciendis molestiae dolorem tempora mollitia. Consequatur delectus minus quibusdam. Sed ipsum id ea est quia temporibus ut."], ["in_stock", 42], ["created_at", "2016-02-22 17:14:13.692968"], ["updated_at", "2016-02-22 17:14:13.692968"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "For Whom the Bell Tolls"], ["price", "13.54"], ["description", "Qui dolor dolorem blanditiis incidunt. Molestiae beatae eum quibusdam quae sit. In ad natus."], ["in_stock", 50], ["created_at", "2016-02-22 17:14:16.353038"], ["updated_at", "2016-02-22 17:14:16.353038"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Noli Me Tangere"], ["price", "28.39"], ["description", "Nam magnam et iure rerum aut. Quo ut nemo voluptatem voluptas voluptas et. Tenetur adipisci nesciunt et enim repellat nihil quo."], ["in_stock", 198], ["created_at", "2016-02-22 17:16:03.088280"], ["updated_at", "2016-02-22 17:16:03.088280"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCountry Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.6ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-22 17:18:36.156076"], ["updated_at", "2016-02-22 17:18:36.156076"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-22 17:18:36.158539"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.6ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-22 17:21:59.881300"], ["updated_at", "2016-02-22 17:21:59.881300"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-22 17:21:59.883704"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCountry Exists (0.2ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'Rowechester' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Rowechester"], ["created_at", "2016-02-22 17:21:59.897392"], ["updated_at", "2016-02-22 17:21:59.897392"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.5ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-22 17:22:30.885288"], ["updated_at", "2016-02-22 17:22:30.885288"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-22 17:22:30.888026"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'New Garrison' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "New Garrison"], ["created_at", "2016-02-22 17:22:30.900836"], ["updated_at", "2016-02-22 17:22:30.900836"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCountry Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.9ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-22 17:24:17.568607"], ["updated_at", "2016-02-22 17:24:17.568607"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-22 17:24:17.571346"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'Reillyfort' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Reillyfort"], ["created_at", "2016-02-22 17:24:17.583639"], ["updated_at", "2016-02-22 17:24:17.583639"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-22 17:24:43.167706"], ["updated_at", "2016-02-22 17:24:43.167706"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-22 17:24:43.169951"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCountry Exists (0.2ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'New Jessfort' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "New Jessfort"], ["created_at", "2016-02-22 17:24:43.185423"], ["updated_at", "2016-02-22 17:24:43.185423"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mCountry Exists (0.7ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1
  [1m[36mCountry Load (0.6ms)[0m  [1mSELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-22 17:29:00.290596"], ["updated_at", "2016-02-22 17:29:00.290596"]]
  [1m[35m (59.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3  [["name", "an arbitrary value"], ["updated_at", "2016-02-22 17:29:00.353359"], ["id", 5]]
  [1m[36m (14.5ms)[0m  [1mCOMMIT[0m
  [1m[35mCountry Exists (1.1ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'Kulaschester' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Kulaschester"], ["created_at", "2016-02-22 17:29:00.385929"], ["updated_at", "2016-02-22 17:29:00.385929"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.5ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36mCountry Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'Kertzmannfort' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Kertzmannfort"], ["created_at", "2016-02-22 17:29:34.964676"], ["updated_at", "2016-02-22 17:29:34.964676"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mCountry Exists (0.5ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1
  [1m[36mCountry Load (0.6ms)[0m  [1mSELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1[0m
  [1m[35mCountry Exists (0.6ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1
  [1m[36mCountry Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCountry Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'Morganchester' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Morganchester"], ["created_at", "2016-02-22 17:33:43.020752"], ["updated_at", "2016-02-22 17:33:43.020752"]]
  [1m[36m (37.0ms)[0m  [1mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "A Summer Bird-Cage"], ["price", "68.92"], ["description", "Placeat reiciendis aliquid neque dolor quas sapiente sed. Est expedita fugiat eligendi sed. Sint ut laudantium enim nobis. Est placeat dicta magnam."], ["in_stock", 176], ["created_at", "2016-02-22 17:44:59.886510"], ["updated_at", "2016-02-22 17:44:59.886510"]]
  [1m[35m (21.1ms)[0m  COMMIT
  [1m[36mCategory Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mCategory Load (0.5ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-22 17:44:59.946396"], ["updated_at", "2016-02-22 17:44:59.946396"]]
  [1m[36m (5.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-22 17:44:59.954915"], ["id", 1]]
  [1m[35m (9.8ms)[0m  COMMIT
  [1m[36mCategory Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Exists (0.2ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'Corwinmouth' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Corwinmouth"], ["created_at", "2016-02-22 17:44:59.996516"], ["updated_at", "2016-02-22 17:44:59.996516"]]
  [1m[35m (16.6ms)[0m  COMMIT
  [1m[36mCustomer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-22 17:45:00.120930"], ["updated_at", "2016-02-22 17:45:00.120930"]]
  [1m[35m (13.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "customers" SET "email" = $1, "updated_at" = $2 WHERE "customers"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-02-22 17:45:00.137399"], ["id", 1]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (46.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (66.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Parliament of Man"], ["price", "53.48"], ["description", "Voluptas dolores fugiat incidunt sit et. Voluptas omnis nulla quod. Voluptatum soluta aperiam illum nihil ut perferendis qui. Autem incidunt placeat esse officia. Labore tempore magni suscipit praesentium odio commodi explicabo."], ["in_stock", 31], ["created_at", "2016-02-23 10:05:19.719943"], ["updated_at", "2016-02-23 10:05:19.719943"]]
  [1m[35m (15.9ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Yellow Meads of Asphodel"], ["price", "24.82"], ["description", "Ab et commodi. Quis placeat amet rerum ipsum maiores inventore quia. Optio quod eum hic. Nam ratione ipsa aut quibusdam et."], ["in_stock", 124], ["created_at", "2016-02-23 10:09:17.990725"], ["updated_at", "2016-02-23 10:09:17.990725"]]
  [1m[35m (30.7ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Golden Apples of the Sun"], ["price", "24.7"], ["description", "Dicta fugiat et. Debitis mollitia eligendi quo. Qui consectetur a similique veniam voluptatibus facilis. Sed sequi facilis veniam quasi quas voluptas. Libero aut est laboriosam voluptatem asperiores qui."], ["in_stock", 162], ["created_at", "2016-02-23 10:09:38.221814"], ["updated_at", "2016-02-23 10:09:38.221814"]]
  [1m[35m (23.6ms)[0m  COMMIT
  [1m[36mCategory Exists (30.6ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mCategory Load (0.7ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36mCategory Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCountry Exists (39.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35mCountry Load (0.6ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.5ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'Port Lavernefort' LIMIT 1
  [1m[36mSQL (6.0ms)[0m  [1mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Port Lavernefort"], ["created_at", "2016-02-23 10:09:38.427858"], ["updated_at", "2016-02-23 10:09:38.427858"]]
  [1m[35m (24.2ms)[0m  COMMIT
  [1m[36mCustomer Exists (40.5ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.6ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Load (0.5ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35mCustomer Exists (0.6ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Other Side of Silence"], ["price", "88.35"], ["description", "Repellendus ea nesciunt autem velit. Deleniti repellendus repellat eum fuga molestias. Culpa cupiditate consequatur dolores voluptatem."], ["in_stock", 58], ["created_at", "2016-02-23 10:12:04.968806"], ["updated_at", "2016-02-23 10:12:04.968806"]]
  [1m[35m (31.4ms)[0m  COMMIT
  [1m[36mCategory Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mCategory Load (0.7ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36mCategory Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCountry Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'Albertfort' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Albertfort"], ["created_at", "2016-02-23 10:12:05.060812"], ["updated_at", "2016-02-23 10:12:05.060812"]]
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36mCustomer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Dulce et Decorum Est"], ["price", "27.15"], ["description", "Totam recusandae quisquam iste quas aut cupiditate et. Non est ea quam soluta perspiciatis qui sapiente. Mollitia repellendus recusandae ut. Inventore mollitia voluptas."], ["in_stock", 96], ["created_at", "2016-02-23 12:01:35.347009"], ["updated_at", "2016-02-23 12:01:35.347009"]]
  [1m[35m (28.0ms)[0m  COMMIT
  [1m[36mCategory Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mCategory Load (0.7ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36mCategory Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.7ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCountry Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'New Jeramie' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "New Jeramie"], ["created_at", "2016-02-23 12:01:35.425040"], ["updated_at", "2016-02-23 12:01:35.425040"]]
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36mCustomer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.6ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.5ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Load (0.6ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35mCustomer Exists (0.6ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (22.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 12:06:45.984107"], ["updated_at", "2016-02-23 12:06:45.984107"]]
  [1m[35m (19.9ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 12:10:44.766861"], ["updated_at", "2016-02-23 12:10:44.766861"]]
  [1m[35m (48.4ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Those Barren Leaves, Thrones, Dominations"], ["price", "54.49"], ["description", "Doloribus velit sunt magnam quae omnis ipsa. In beatae accusantium sed ad. Nobis ut est. Vitae est autem."], ["in_stock", 62], ["created_at", "2016-02-23 13:38:02.802303"], ["updated_at", "2016-02-23 13:38:02.802303"]]
  [1m[35m (26.9ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The World, the Flesh and the Devil (1891 novel)"], ["price", "90.75"], ["description", "Rerum at esse aut facere doloribus sed. Fugit doloremque qui architecto. Consequatur voluptatem quibusdam. Et delectus inventore neque sint odio ea vero."], ["in_stock", 22], ["created_at", "2016-02-23 13:46:45.921478"], ["updated_at", "2016-02-23 13:46:45.921478"]]
  [1m[35m (22.3ms)[0m  COMMIT
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mCategory Load (0.8ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36mCountry Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCustomer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35mCustomer Exists (0.5ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 13:46:46.103093"], ["updated_at", "2016-02-23 13:46:46.103093"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (1.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'amazone_test'
  [1m[36m (1487.0ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."customers", "public"."order_items", "public"."orders", "public"."ratings" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Heart Is a Lonely Hunter"], ["price", "68.25"], ["description", "Aliquam quae voluptatem quia quisquam ad et. Aspernatur sequi placeat. Est et nobis ut commodi quia. Dolor vel rerum aut. Qui quas ut id sunt."], ["in_stock", 92], ["created_at", "2016-02-23 13:50:27.459415"], ["updated_at", "2016-02-23 13:50:27.459415"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-23 13:50:27.483277"], ["updated_at", "2016-02-23 13:50:27.483277"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-23 13:50:27.485297"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-23 13:50:27.548927"], ["updated_at", "2016-02-23 13:50:27.548927"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-23 13:50:27.551171"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.5ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-23 13:50:27.632049"], ["updated_at", "2016-02-23 13:50:27.632049"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "customers" SET "email" = $1, "updated_at" = $2 WHERE "customers"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-02-23 13:50:27.634399"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Exists (0.6ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 13:50:27.689192"], ["updated_at", "2016-02-23 13:50:27.689192"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Stranger in a Strange Land"], ["price", "63.52"], ["description", "Placeat in impedit nisi quo corrupti excepturi. Itaque ipsum eum voluptate et aliquid. Exercitationem porro a. Quo cumque dolorem et sed quibusdam."], ["in_stock", 8], ["created_at", "2016-02-23 13:50:49.667654"], ["updated_at", "2016-02-23 13:50:49.667654"]]
  [1m[35m (57.9ms)[0m  COMMIT
  [1m[36mCategory Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mCategory Load (0.9ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-23 13:50:49.768954"], ["updated_at", "2016-02-23 13:50:49.768954"]]
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-23 13:50:49.775779"], ["id", 2]]
  [1m[35m (3.3ms)[0m  COMMIT
  [1m[36mCategory Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCountry Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35mCountry Load (0.5ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-23 13:50:49.814958"], ["updated_at", "2016-02-23 13:50:49.814958"]]
  [1m[36m (13.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-23 13:50:49.831189"], ["id", 2]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCustomer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-23 13:50:49.941999"], ["updated_at", "2016-02-23 13:50:49.941999"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "customers" SET "email" = $1, "updated_at" = $2 WHERE "customers"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-02-23 13:50:49.953262"], ["id", 2]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 13:50:50.015665"], ["updated_at", "2016-02-23 13:50:50.015665"]]
  [1m[35m (12.5ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Last Temptation"], ["price", "91.55"], ["description", "Necessitatibus molestiae molestiae rerum reprehenderit quia. Pariatur dolor rem recusandae. Quasi et dicta ab assumenda dolores perspiciatis."], ["in_stock", 122], ["created_at", "2016-02-23 13:51:34.497439"], ["updated_at", "2016-02-23 13:51:34.497439"]]
  [1m[35m (46.9ms)[0m  COMMIT
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mCategory Load (0.6ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36mCountry Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCustomer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.5ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 13:51:34.746035"], ["updated_at", "2016-02-23 13:51:34.746035"]]
  [1m[35m (11.4ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL
  [1m[36m (1.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.7ms)[0m  select table_name from information_schema.views where table_schema = 'amazone_test'
  [1m[36m (1190.1ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."customers", "public"."order_items", "public"."orders", "public"."ratings" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Grapes of Wrath"], ["price", "71.55"], ["description", "Quod unde pariatur et assumenda. Fugiat sed laborum sed repellendus harum. Nostrum omnis et officia voluptas. Cumque aliquid illo qui necessitatibus voluptatem. Et eveniet ea nisi dolorem facilis est autem."], ["in_stock", 32], ["created_at", "2016-02-23 13:51:45.817832"], ["updated_at", "2016-02-23 13:51:45.817832"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-23 13:51:45.845133"], ["updated_at", "2016-02-23 13:51:45.845133"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-23 13:51:45.847090"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.2ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-23 13:51:45.880171"], ["updated_at", "2016-02-23 13:51:45.880171"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-23 13:51:45.882112"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.2ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.2ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-23 13:51:45.956685"], ["updated_at", "2016-02-23 13:51:45.956685"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "customers" SET "email" = $1, "updated_at" = $2 WHERE "customers"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-02-23 13:51:45.959251"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Exists (1.1ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 13:51:46.015751"], ["updated_at", "2016-02-23 13:51:46.015751"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'amazone_test'
  [1m[36m (1460.2ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."customers", "public"."order_items", "public"."orders", "public"."ratings" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Dance Dance Dance"], ["price", "40.01"], ["description", "Est aspernatur voluptas. Doloremque vero similique illum sit nihil quibusdam officia. Ex quo asperiores omnis ipsum ut. Cumque nobis repudiandae enim possimus quod blanditiis. Est id et in."], ["in_stock", 49], ["created_at", "2016-02-23 16:11:34.399186"], ["updated_at", "2016-02-23 16:11:34.399186"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.5ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-23 16:11:34.455420"], ["updated_at", "2016-02-23 16:11:34.455420"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-23 16:11:34.458758"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-23 16:11:34.487231"], ["updated_at", "2016-02-23 16:11:34.487231"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-23 16:11:34.489257"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-23 16:11:34.572898"], ["updated_at", "2016-02-23 16:11:34.572898"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "customers" SET "email" = $1, "updated_at" = $2 WHERE "customers"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-02-23 16:11:34.575214"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 16:11:34.641303"], ["updated_at", "2016-02-23 16:11:34.641303"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Wildfire at Midnight"], ["price", "56.87"], ["description", "Id nihil totam. Dolore assumenda at enim deserunt consequatur. Vero eius facere optio nesciunt quis vel id."], ["in_stock", 165], ["created_at", "2016-02-23 16:12:00.537828"], ["updated_at", "2016-02-23 16:12:00.537828"]]
  [1m[35m (33.1ms)[0m  COMMIT
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mCategory Load (0.7ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-23 16:12:00.598354"], ["updated_at", "2016-02-23 16:12:00.598354"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-23 16:12:00.609118"], ["id", 2]]
  [1m[35m (16.5ms)[0m  COMMIT
  [1m[36mCategory Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-23 16:12:00.653580"], ["updated_at", "2016-02-23 16:12:00.653580"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-23 16:12:00.664657"], ["id", 2]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCustomer Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.8ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-23 16:12:00.764650"], ["updated_at", "2016-02-23 16:12:00.764650"]]
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "customers" SET "email" = $1, "updated_at" = $2 WHERE "customers"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-02-23 16:12:00.770400"], ["id", 2]]
  [1m[36m (13.8ms)[0m  [1mCOMMIT[0m
  [1m[35mCustomer Exists (0.6ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 16:12:00.832463"], ["updated_at", "2016-02-23 16:12:00.832463"]]
  [1m[35m (7.1ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Tiger! Tiger! (Rudyard Kipling)"], ["price", "78.32"], ["description", "Ea et autem temporibus. Minus dolores voluptas. Necessitatibus et hic facilis numquam quod quis corporis."], ["in_stock", 167], ["created_at", "2016-02-23 16:12:37.031071"], ["updated_at", "2016-02-23 16:12:37.031071"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Load (0.2ms)[0m  [1mSELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1
  [1m[36mCountry Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.9ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.2ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 16:12:37.195617"], ["updated_at", "2016-02-23 16:12:37.195617"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Cover Her Face"], ["price", "68.03"], ["description", "Ad et quia esse eum quos iusto ut. Nam vel ab. Voluptatem animi sint aut et voluptatum. Officiis in qui provident asperiores accusantium praesentium et."], ["in_stock", 120], ["created_at", "2016-02-23 16:13:32.494705"], ["updated_at", "2016-02-23 16:13:32.494705"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.7ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Load (0.2ms)[0m  [1mSELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1[0m
  [1m[35mCountry Exists (0.2ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1
  [1m[36mCountry Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.9ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Load (0.5ms)[0m  SELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 16:13:32.690835"], ["updated_at", "2016-02-23 16:13:32.690835"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Look to Windward"], ["price", "45.1"], ["description", "Magni quas velit. Repellat ut aut iusto reprehenderit tempore. Vitae possimus velit inventore aspernatur modi. Consectetur in possimus itaque dolor ipsam. Qui natus qui consequatur tenetur voluptate."], ["in_stock", 93], ["created_at", "2016-02-23 16:14:30.047249"], ["updated_at", "2016-02-23 16:14:30.047249"]]
  [1m[35m (44.8ms)[0m  COMMIT
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36mCountry Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCustomer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.7ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Load (0.5ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35mCustomer Exists (0.6ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 16:14:30.302465"], ["updated_at", "2016-02-23 16:14:30.302465"]]
  [1m[35m (22.3ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Curious Incident of the Dog in the Night-Time"], ["price", "8.93"], ["description", "Facilis veniam ut asperiores voluptas molestias earum. Eaque animi ut vero. Repellendus voluptatem aliquid et qui velit. Eaque consectetur modi dolor pariatur debitis soluta. Impedit consequuntur exercitationem voluptas."], ["in_stock", 92], ["created_at", "2016-02-23 16:15:48.907139"], ["updated_at", "2016-02-23 16:15:48.907139"]]
  [1m[35m (30.7ms)[0m  COMMIT
  [1m[36mCategory Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mCategory Load (0.7ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCountry Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35mCountry Load (0.5ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCustomer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.5ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 16:15:49.152415"], ["updated_at", "2016-02-23 16:15:49.152415"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 16:15:55.461531"], ["updated_at", "2016-02-23 16:15:55.461531"]]
  [1m[35m (20.9ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 16:18:59.079614"], ["updated_at", "2016-02-23 16:18:59.079614"]]
  [1m[35m (25.2ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "By Grand Central Station I Sat Down and Wept"], ["price", "75.55"], ["description", "Sit impedit corrupti veniam illo vel dignissimos molestias. Amet dolorem ea eos reiciendis repellendus quam et. Nisi qui rem eum quia iste. Et sed sit voluptate quasi et fugit. Placeat perferendis quo aut recusandae consequuntur."], ["in_stock", 21], ["created_at", "2016-02-23 16:20:00.546731"], ["updated_at", "2016-02-23 16:20:00.546731"]]
  [1m[35m (28.3ms)[0m  COMMIT
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36mCategory Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36mCountry Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCustomer Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.8ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.5ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Load (0.5ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35mCustomer Exists (0.5ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 16:20:00.776304"], ["updated_at", "2016-02-23 16:20:00.776304"]]
  [1m[35m (12.0ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "This Side of Paradise"], ["price", "50.49"], ["description", "Et odit animi. Sed nostrum velit rerum. Autem quis rerum debitis consequatur perferendis nesciunt eligendi. Pariatur tenetur libero non perspiciatis quis omnis. Earum sed nesciunt possimus dicta eum rem."], ["in_stock", 118], ["created_at", "2016-02-23 16:21:29.050233"], ["updated_at", "2016-02-23 16:21:29.050233"]]
  [1m[35m (29.4ms)[0m  COMMIT
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mCategory Load (0.5ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-23 16:21:29.103497"], ["updated_at", "2016-02-23 16:21:29.103497"]]
  [1m[36m (11.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-23 16:21:29.117892"], ["id", 1]]
  [1m[35m (4.5ms)[0m  COMMIT
  [1m[36mCategory Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-23 16:21:29.149695"], ["updated_at", "2016-02-23 16:21:29.149695"]]
  [1m[36m (9.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-23 16:21:29.162011"], ["id", 1]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.6ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCustomer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-23 16:21:29.273896"], ["updated_at", "2016-02-23 16:21:29.273896"]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "customers" SET "email" = $1, "updated_at" = $2 WHERE "customers"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-02-23 16:21:29.284133"], ["id", 1]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 16:21:29.364642"], ["updated_at", "2016-02-23 16:21:29.364642"]]
  [1m[35m (5.0ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "nfinite Jest"], ["price", "47.23"], ["description", "Et ipsum inventore quaerat suscipit voluptatum unde nemo. Sit voluptatibus est dolore aut eos et. Illo est qui non sit."], ["in_stock", 88], ["created_at", "2016-02-23 16:21:34.804469"], ["updated_at", "2016-02-23 16:21:34.804469"]]
  [1m[35m (22.0ms)[0m  COMMIT
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mCategory Load (0.5ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36mCategory Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.6ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36mCountry Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36mCustomer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.6ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36mCustomer Load (0.6ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35mCustomer Exists (0.5ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 16:21:34.985116"], ["updated_at", "2016-02-23 16:21:34.985116"]]
  [1m[35m (9.6ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL
  [1m[36m (2.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1344.8ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."customers", "public"."order_items", "public"."orders", "public"."ratings" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "As I Lay Dying"], ["price", "92.16"], ["description", "Nisi rerum velit similique autem veniam. Vel alias tempora exercitationem dolore. Dolores officiis doloribus praesentium est enim ut excepturi. Laborum commodi ut voluptates eum. Magni tenetur nihil facere."], ["in_stock", 105], ["created_at", "2016-02-23 16:22:28.192834"], ["updated_at", "2016-02-23 16:22:28.192834"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-23 16:22:28.218465"], ["updated_at", "2016-02-23 16:22:28.218465"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-23 16:22:28.221071"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-23 16:22:28.250310"], ["updated_at", "2016-02-23 16:22:28.250310"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-23 16:22:28.252783"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.5ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.8ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-23 16:22:28.341623"], ["updated_at", "2016-02-23 16:22:28.341623"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "customers" SET "email" = $1, "updated_at" = $2 WHERE "customers"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-02-23 16:22:28.344939"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-23"], ["created_at", "2016-02-23 16:22:28.405537"], ["updated_at", "2016-02-23 16:22:28.405537"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (24.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (49.4ms)[0m  ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL
  [1m[36m (2.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (38.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2178.9ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."customers", "public"."order_items", "public"."orders", "public"."ratings" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Tiger! Tiger! (Rudyard Kipling)"], ["price", "0.48"], ["description", "Possimus nesciunt optio fugiat totam nam. Odio maxime aperiam. Voluptate sed ipsa. Rem sint molestiae consequatur. Doloribus dolores fugiat autem rerum et."], ["in_stock", 178], ["created_at", "2016-02-24 06:20:40.728980"], ["updated_at", "2016-02-24 06:20:40.728980"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.8ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-24 06:20:40.803318"], ["updated_at", "2016-02-24 06:20:40.803318"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-24 06:20:40.807689"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.6ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-24 06:20:40.846951"], ["updated_at", "2016-02-24 06:20:40.846951"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-24 06:20:40.850002"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-24 06:20:40.950390"], ["updated_at", "2016-02-24 06:20:40.950390"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "customers" SET "email" = $1, "updated_at" = $2 WHERE "customers"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-02-24 06:20:40.952797"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-24"], ["created_at", "2016-02-24 06:20:41.007233"], ["updated_at", "2016-02-24 06:20:41.007233"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (25.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (33.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL
  [1m[36m (1.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (49.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2787.1ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."customers", "public"."order_items", "public"."orders", "public"."ratings" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Painted Veil"], ["price", "91.62"], ["description", "Deleniti fuga est perspiciatis. A molestiae et eos eum quaerat. Eum deleniti odit rerum est ullam. Doloremque fugiat ad facilis."], ["in_stock", 13], ["created_at", "2016-02-24 23:40:29.827769"], ["updated_at", "2016-02-24 23:40:29.827769"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCategory Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.9ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-24 23:40:29.944522"], ["updated_at", "2016-02-24 23:40:29.944522"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-24 23:40:29.948235"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (1.6ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-24 23:40:29.991837"], ["updated_at", "2016-02-24 23:40:29.991837"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-24 23:40:29.994418"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.9ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-24 23:40:30.089793"], ["updated_at", "2016-02-24 23:40:30.089793"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "customers" SET "email" = $1, "updated_at" = $2 WHERE "customers"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-02-24 23:40:30.091849"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-25"], ["created_at", "2016-02-24 23:40:30.156039"], ["updated_at", "2016-02-24 23:40:30.156039"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (469.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (116.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL
  [1m[36m (1.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (70.6ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1723.5ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."customers", "public"."order_items", "public"."orders", "public"."ratings" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Unweaving the Rainbow"], ["price", "77.35"], ["description", "Laborum eaque sequi expedita velit dignissimos. Culpa unde dignissimos deleniti libero. Officia eaque natus facilis nobis beatae ab vero."], ["in_stock", 6], ["created_at", "2016-02-25 11:30:05.194500"], ["updated_at", "2016-02-25 11:30:05.194500"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mCategory Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-25 11:30:05.263019"], ["updated_at", "2016-02-25 11:30:05.263019"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-25 11:30:05.265286"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.2ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-25 11:30:05.350453"], ["updated_at", "2016-02-25 11:30:05.350453"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-25 11:30:05.352574"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.2ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (1.0ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-25 11:30:05.439243"], ["updated_at", "2016-02-25 11:30:05.439243"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "customers" SET "email" = $1, "updated_at" = $2 WHERE "customers"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-02-25 11:30:05.441570"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-25"], ["created_at", "2016-02-25 11:30:05.501917"], ["updated_at", "2016-02-25 11:30:05.501917"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (5010.4ms)[0m  [1mDROP DATABASE IF EXISTS "bookstore_test"[0m
PG::ObjectInUse: ОШИБКА:  база данных "bookstore_test" занята другими пользователями
DETAIL:  Эта база данных используется ещё в 1 сеансе.
: DROP DATABASE IF EXISTS "bookstore_test"
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (1239.9ms)[0m  [1mDROP DATABASE IF EXISTS "bookstore_test"[0m
  [1m[35m (1896.3ms)[0m  CREATE DATABASE "bookstore_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (117.9ms)[0m  CREATE TABLE "addresses" ("id" serial primary key, "address" character varying, "zipcode" integer, "city" character varying, "phone" character varying, "country" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (107.7ms)[0m  [1mCREATE TABLE "authors" ("id" serial primary key, "firstname" character varying, "lastname" character varying, "biography" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (109.0ms)[0m  CREATE TABLE "books" ("id" serial primary key, "title" character varying, "description" text, "price" decimal, "in_stock" integer, "rating" decimal, "author_id" integer, "category_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (62.0ms)[0m  [1mCREATE  INDEX  "index_books_on_author_id" ON "books" USING btree ("author_id")[0m
  [1m[35m (52.0ms)[0m  CREATE  INDEX  "index_books_on_category_id" ON "books" USING btree ("category_id")
  [1m[36m (108.4ms)[0m  [1mCREATE TABLE "categories" ("id" serial primary key, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (120.1ms)[0m  CREATE TABLE "countries" ("id" serial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (119.5ms)[0m  [1mCREATE TABLE "credit_cards" ("id" serial primary key, "number" integer, "cvv" integer, "expiration_month" integer, "expiration_year" integer, "firstname" character varying, "lastname" character varying, "customer_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (63.2ms)[0m  CREATE  INDEX  "index_credit_cards_on_customer_id" ON "credit_cards" USING btree ("customer_id")
  [1m[36m (103.4ms)[0m  [1mCREATE TABLE "customers" ("id" serial primary key, "firstname" character varying, "lastname" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet) [0m
  [1m[35m (84.7ms)[0m  CREATE UNIQUE INDEX  "index_customers_on_email" ON "customers" USING btree ("email")
  [1m[36m (63.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_customers_on_reset_password_token" ON "customers" USING btree ("reset_password_token")[0m
  [1m[35m (108.6ms)[0m  CREATE TABLE "order_items" ("id" serial primary key, "price" decimal, "quantity" character varying, "book_id" integer, "order_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (52.1ms)[0m  [1mCREATE  INDEX  "index_order_items_on_book_id" ON "order_items" USING btree ("book_id")[0m
  [1m[35m (52.1ms)[0m  CREATE  INDEX  "index_order_items_on_order_id" ON "order_items" USING btree ("order_id")
  [1m[36m (86.5ms)[0m  [1mCREATE TABLE "orders" ("id" serial primary key, "total_price" decimal, "completed_date" date, "state" integer, "billing_address" character varying, "shipping_address" character varying, "customer_id" integer, "credit_card_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (51.9ms)[0m  CREATE  INDEX  "index_orders_on_credit_card_id" ON "orders" USING btree ("credit_card_id")
  [1m[36m (52.2ms)[0m  [1mCREATE  INDEX  "index_orders_on_customer_id" ON "orders" USING btree ("customer_id")[0m
  [1m[35m (97.8ms)[0m  CREATE TABLE "ratings" ("id" serial primary key, "text_review" character varying, "rating" integer, "book_id" integer, "customer_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (51.3ms)[0m  [1mCREATE  INDEX  "index_ratings_on_book_id" ON "ratings" USING btree ("book_id")[0m
  [1m[35m (51.8ms)[0m  CREATE  INDEX  "index_ratings_on_customer_id" ON "ratings" USING btree ("customer_id")
  [1m[36m (60.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (51.8ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.7ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (8.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160225135237')
  [1m[36m (10.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131228')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131221')
  [1m[36m (10.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220115101')[0m
  [1m[35m (10.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220115140')
  [1m[36m (10.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220140019')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131238')
  [1m[36m (10.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131137')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131202')
  [1m[36m (10.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220115125')[0m
  [1m[35m (10.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220093423')
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.8ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))

  [1m[36m (2.8ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'bookstore_test'[0m
  [1m[35m (1358.1ms)[0m  TRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."customers", "public"."order_items", "public"."orders", "public"."ratings" RESTART IDENTITY CASCADE;
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
Processing by BooksController#home as HTML
  Rendered books/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "The Torment of Others"], ["price", "3.19"], ["description", "In magni animi. Aut natus esse assumenda facilis in mollitia. Voluptatem harum delectus sit. Eius nobis rerum. Aut et omnis nostrum."], ["in_stock", 144], ["created_at", "2016-02-25 14:06:30.853515"], ["updated_at", "2016-02-25 14:06:30.853515"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-25 14:06:30.881135"], ["updated_at", "2016-02-25 14:06:30.881135"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-02-25 14:06:30.883786"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.6ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Exists (0.9ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Load (0.3ms)[0m  [1mSELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-25 14:06:30.912607"], ["updated_at", "2016-02-25 14:06:30.912607"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3  [["name", "an arbitrary value"], ["updated_at", "2016-02-25 14:06:30.914614"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.5ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-25 14:06:31.004612"], ["updated_at", "2016-02-25 14:06:31.004612"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "customers" SET "email" = $1, "updated_at" = $2 WHERE "customers"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-02-25 14:06:31.007071"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCustomer Exists (0.5ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCustomer Exists (0.3ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-02-25"], ["created_at", "2016-02-25 14:06:31.205212"], ["updated_at", "2016-02-25 14:06:31.205212"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (224.0ms)[0m  [1mDROP DATABASE IF EXISTS "bookstore_test"[0m
  [1m[35m (1874.4ms)[0m  CREATE DATABASE "bookstore_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (92.0ms)[0m  CREATE TABLE "addresses" ("id" serial primary key, "address" character varying, "zipcode" integer, "city" character varying, "phone" character varying, "country" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (108.4ms)[0m  [1mCREATE TABLE "authors" ("id" serial primary key, "firstname" character varying, "lastname" character varying, "biography" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (108.9ms)[0m  CREATE TABLE "books" ("id" serial primary key, "title" character varying, "description" text, "price" decimal, "in_stock" integer, "rating" decimal, "author_id" integer, "category_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (62.3ms)[0m  [1mCREATE  INDEX  "index_books_on_author_id" ON "books" USING btree ("author_id")[0m
  [1m[35m (51.9ms)[0m  CREATE  INDEX  "index_books_on_category_id" ON "books" USING btree ("category_id")
  [1m[36m (130.6ms)[0m  [1mCREATE TABLE "categories" ("id" serial primary key, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (131.3ms)[0m  CREATE TABLE "countries" ("id" serial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (563.3ms)[0m  [1mCREATE TABLE "credit_cards" ("id" serial primary key, "number" integer, "cvv" integer, "expiration_month" integer, "expiration_year" integer, "firstname" character varying, "lastname" character varying, "customer_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (62.7ms)[0m  CREATE  INDEX  "index_credit_cards_on_customer_id" ON "credit_cards" USING btree ("customer_id")
  [1m[36m (123.4ms)[0m  [1mCREATE TABLE "customers" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "firstname" character varying DEFAULT '' NOT NULL, "lastname" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (63.3ms)[0m  CREATE UNIQUE INDEX  "index_customers_on_email" ON "customers" USING btree ("email")
  [1m[36m (52.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_customers_on_reset_password_token" ON "customers" USING btree ("reset_password_token")[0m
  [1m[35m (119.4ms)[0m  CREATE TABLE "order_items" ("id" serial primary key, "price" decimal, "quantity" character varying, "book_id" integer, "order_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (63.5ms)[0m  [1mCREATE  INDEX  "index_order_items_on_book_id" ON "order_items" USING btree ("book_id")[0m
  [1m[35m (62.6ms)[0m  CREATE  INDEX  "index_order_items_on_order_id" ON "order_items" USING btree ("order_id")
  [1m[36m (121.5ms)[0m  [1mCREATE TABLE "orders" ("id" serial primary key, "total_price" decimal, "completed_date" date, "state" integer DEFAULT 1, "billing_address" character varying, "shipping_address" character varying, "customer_id" integer, "credit_card_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (74.6ms)[0m  CREATE  INDEX  "index_orders_on_credit_card_id" ON "orders" USING btree ("credit_card_id")
  [1m[36m (74.4ms)[0m  [1mCREATE  INDEX  "index_orders_on_customer_id" ON "orders" USING btree ("customer_id")[0m
  [1m[35m (153.6ms)[0m  CREATE TABLE "ratings" ("id" serial primary key, "text_review" character varying, "rating" integer, "book_id" integer, "customer_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (62.4ms)[0m  [1mCREATE  INDEX  "index_ratings_on_book_id" ON "ratings" USING btree ("book_id")[0m
  [1m[35m (62.9ms)[0m  CREATE  INDEX  "index_ratings_on_customer_id" ON "ratings" USING btree ("customer_id")
  [1m[36m (50.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (52.2ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.7ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (9.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160225144605')
  [1m[36m (10.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131228')[0m
  [1m[35m (10.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131221')
  [1m[36m (10.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220115101')[0m
  [1m[35m (10.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220115140')
  [1m[36m (10.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131238')[0m
  [1m[35m (10.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131137')
  [1m[36m (10.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131202')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220115125')
  [1m[36m (10.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220093423')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (1.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1244.3ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."customers", "public"."order_items", "public"."orders", "public"."ratings" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by BooksController#home as HTML
  Rendered books/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 18ms (Views: 13.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Bury My Heart at Wounded Knee"], ["price", "22.6"], ["description", "Voluptatem magni pariatur soluta impedit et. Nulla quos neque dicta voluptate est dolor. Aut perspiciatis doloribus sit laboriosam quia."], ["in_stock", 2], ["created_at", "2016-02-25 20:20:55.458803"], ["updated_at", "2016-02-25 20:20:55.458803"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.5ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-25 20:20:55.518315"], ["updated_at", "2016-02-25 20:20:55.518315"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-02-25 20:20:55.521282"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCountry Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-02-25 20:20:55.555911"], ["updated_at", "2016-02-25 20:20:55.555911"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-02-25 20:20:55.557974"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.5ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = '' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCustomer Exists (0.4ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY "customers"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-02-25 20:20:55.658025"], ["updated_at", "2016-02-25 20:20:55.658025"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "customers" SET "email" = $1, "updated_at" = $2 WHERE "customers"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-02-25 20:20:55.660482"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Exists (0.9ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCustomer Exists (0.5ms)[0m  SELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mCustomer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "customers" WHERE "customers"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-02-25"], ["created_at", "2016-02-25 20:20:55.847259"], ["updated_at", "2016-02-25 20:20:55.847259"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36m (442.0ms)[0m  [1mDROP DATABASE IF EXISTS "bookstore_test"[0m
  [1m[35m (1895.8ms)[0m  CREATE DATABASE "bookstore_test" ENCODING = 'unicode'
  [1m[36mSQL (0.6ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (107.0ms)[0m  CREATE TABLE "addresses" ("id" serial primary key, "address" character varying, "zipcode" integer, "city" character varying, "phone" character varying, "country" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (119.6ms)[0m  [1mCREATE TABLE "authors" ("id" serial primary key, "firstname" character varying, "lastname" character varying, "biography" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (87.7ms)[0m  CREATE TABLE "books" ("id" serial primary key, "title" character varying, "description" text, "price" decimal, "in_stock" integer, "rating" decimal, "author_id" integer, "category_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "image" text, "order_counter" integer, "best_seller" boolean) 
  [1m[36m (63.3ms)[0m  [1mCREATE  INDEX  "index_books_on_author_id" ON "books" USING btree ("author_id")[0m
  [1m[35m (63.2ms)[0m  CREATE  INDEX  "index_books_on_category_id" ON "books" USING btree ("category_id")
  [1m[36m (131.4ms)[0m  [1mCREATE TABLE "categories" ("id" serial primary key, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (109.0ms)[0m  CREATE TABLE "countries" ("id" serial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (109.0ms)[0m  [1mCREATE TABLE "credit_cards" ("id" serial primary key, "number" integer, "cvv" integer, "expiration_month" integer, "expiration_year" integer, "firstname" character varying, "lastname" character varying, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (52.6ms)[0m  CREATE  INDEX  "index_credit_cards_on_user_id" ON "credit_cards" USING btree ("user_id")
  [1m[36m (98.1ms)[0m  [1mCREATE TABLE "order_items" ("id" serial primary key, "price" decimal, "quantity" character varying, "book_id" integer, "order_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (74.4ms)[0m  CREATE  INDEX  "index_order_items_on_book_id" ON "order_items" USING btree ("book_id")
  [1m[36m (52.4ms)[0m  [1mCREATE  INDEX  "index_order_items_on_order_id" ON "order_items" USING btree ("order_id")[0m
  [1m[35m (95.5ms)[0m  CREATE TABLE "orders" ("id" serial primary key, "total_price" decimal, "completed_date" date, "state" integer DEFAULT 1, "billing_address" character varying, "shipping_address" character varying, "user_id" integer, "credit_card_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (63.9ms)[0m  [1mCREATE  INDEX  "index_orders_on_credit_card_id" ON "orders" USING btree ("credit_card_id")[0m
  [1m[35m (86.0ms)[0m  CREATE  INDEX  "index_orders_on_user_id" ON "orders" USING btree ("user_id")
  [1m[36m (109.5ms)[0m  [1mCREATE TABLE "ratings" ("id" serial primary key, "text_review" character varying, "rating" integer, "book_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (64.2ms)[0m  CREATE  INDEX  "index_ratings_on_book_id" ON "ratings" USING btree ("book_id")
  [1m[36m (63.1ms)[0m  [1mCREATE  INDEX  "index_ratings_on_user_id" ON "ratings" USING btree ("user_id")[0m
  [1m[35m (139.9ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "firstname" character varying DEFAULT '' NOT NULL, "lastname" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "admin" boolean, "provider" character varying, "uid" character varying, "image" character varying, "facebook_image" character varying) 
  [1m[36m (74.4ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (75.2ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (86.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (65.0ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (10.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160302131617')
  [1m[36m (11.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160229130520')[0m
  [1m[35m (11.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131228')
  [1m[36m (11.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131221')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220115101')
  [1m[36m (11.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220115140')[0m
  [1m[35m (11.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160301094923')
  [1m[36m (11.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160229152315')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160226105754')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131238')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131137')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131202')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220115125')
  [1m[36m (11.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220093423')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160226111028')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (25.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (33.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (74.9ms)[0m  ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (48.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1514.9ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons", "public"."order_items", "public"."orders", "public"."ratings", "public"."users" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Have His Carcase"], ["price", "32.67"], ["description", "Aut provident delectus reiciendis omnis in temporibus accusamus. Maiores nihil omnis molestiae sint. Voluptates voluptatum optio culpa dolorem nihil ea. Quam tempore reiciendis. Eaque et voluptatem recusandae est aperiam quia reprehenderit."], ["in_stock", 42], ["created_at", "2016-04-27 08:49:24.555246"], ["updated_at", "2016-04-27 08:49:24.555246"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.8ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 08:49:24.657156"], ["updated_at", "2016-04-27 08:49:24.657156"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-04-27 08:49:24.660725"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 08:49:24.695770"], ["updated_at", "2016-04-27 08:49:24.695770"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-04-27 08:49:24.698379"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-04-30"], ["created_at", "2016-04-27 08:49:24.814724"], ["updated_at", "2016-04-27 08:49:24.814724"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 08:49:24.888185"], ["updated_at", "2016-04-27 08:49:24.888185"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-04-27 08:49:24.891606"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1484.4ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons", "public"."order_items", "public"."orders", "public"."ratings", "public"."users" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Sleep the Brave"], ["price", "28.76"], ["description", "Expedita ut repellat perspiciatis est et perferendis sit. Quia sunt consequatur sed vitae inventore quis. Molestiae dolore dolorum qui eveniet dolorem fugit. Officia dolorum et vitae."], ["in_stock", 160], ["created_at", "2016-04-27 08:51:18.110003"], ["updated_at", "2016-04-27 08:51:18.110003"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 08:51:18.150144"], ["updated_at", "2016-04-27 08:51:18.150144"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-04-27 08:51:18.152568"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 08:51:18.186399"], ["updated_at", "2016-04-27 08:51:18.186399"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-04-27 08:51:18.188577"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.2ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-04-30"], ["created_at", "2016-04-27 08:51:18.328966"], ["updated_at", "2016-04-27 08:51:18.328966"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 08:51:18.394781"], ["updated_at", "2016-04-27 08:51:18.394781"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-04-27 08:51:18.397573"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL
  [1m[36m (1.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1516.6ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons", "public"."order_items", "public"."orders", "public"."ratings", "public"."users" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "A Swiftly Tilting Planet"], ["price", "68.7"], ["description", "Rerum illo maiores nostrum. In minima non nihil. Possimus non voluptatem magnam earum necessitatibus. Amet culpa consequuntur sunt eveniet ut rerum reprehenderit. Voluptatem ut amet vel alias in."], ["in_stock", 87], ["created_at", "2016-04-27 08:52:28.903131"], ["updated_at", "2016-04-27 08:52:28.903131"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 08:52:28.936805"], ["updated_at", "2016-04-27 08:52:28.936805"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-04-27 08:52:28.939268"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 08:52:28.978694"], ["updated_at", "2016-04-27 08:52:28.978694"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-04-27 08:52:28.981754"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-04-30"], ["created_at", "2016-04-27 08:52:29.117582"], ["updated_at", "2016-04-27 08:52:29.117582"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 08:52:29.180424"], ["updated_at", "2016-04-27 08:52:29.180424"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-04-27 08:52:29.183562"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (558.2ms)[0m  [1mDROP DATABASE IF EXISTS "bookstore_test"[0m
  [1m[35m (1940.3ms)[0m  CREATE DATABASE "bookstore_test" ENCODING = 'unicode'
  [1m[36mSQL (0.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (122.8ms)[0m  CREATE TABLE "addresses" ("id" serial primary key, "firstname" character varying, "lastname" character varying, "address" character varying, "zipcode" character varying, "city" character varying, "phone" character varying, "country" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "user_billing_address_id" integer, "user_shipping_address_id" integer, "order_billing_address_id" integer, "order_shipping_address_id" integer) 
  [1m[36m (119.2ms)[0m  [1mCREATE TABLE "authors" ("id" serial primary key, "firstname" character varying, "lastname" character varying, "biography" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (131.6ms)[0m  CREATE TABLE "books" ("id" serial primary key, "title" character varying, "description" text, "price" decimal, "in_stock" integer, "rating" decimal, "author_id" integer, "category_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "image" character varying, "order_counter" integer, "best_seller" boolean) 
  [1m[36m (63.6ms)[0m  [1mCREATE  INDEX  "index_books_on_author_id" ON "books" USING btree ("author_id")[0m
  [1m[35m (75.5ms)[0m  CREATE  INDEX  "index_books_on_category_id" ON "books" USING btree ("category_id")
  [1m[36m (130.7ms)[0m  [1mCREATE TABLE "categories" ("id" serial primary key, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (121.0ms)[0m  CREATE TABLE "countries" ("id" serial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (119.4ms)[0m  [1mCREATE TABLE "credit_cards" ("id" serial primary key, "number" character varying, "cvv" integer, "expiration_month" integer, "expiration_year" integer, "firstname" character varying, "lastname" character varying, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (73.9ms)[0m  CREATE  INDEX  "index_credit_cards_on_user_id" ON "credit_cards" USING btree ("user_id")
  [1m[36m (114.2ms)[0m  [1mCREATE TABLE "cupons" ("id" serial primary key, "value" character varying, "use" boolean DEFAULT 'f', "discount" integer DEFAULT 5, "order_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (74.5ms)[0m  CREATE  INDEX  "index_cupons_on_order_id" ON "cupons" USING btree ("order_id")
  [1m[36m (131.0ms)[0m  [1mCREATE TABLE "order_items" ("id" serial primary key, "quantity" character varying, "book_id" integer, "order_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (74.3ms)[0m  CREATE  INDEX  "index_order_items_on_book_id" ON "order_items" USING btree ("book_id")
  [1m[36m (63.1ms)[0m  [1mCREATE  INDEX  "index_order_items_on_order_id" ON "order_items" USING btree ("order_id")[0m
  [1m[35m (152.9ms)[0m  CREATE TABLE "orders" ("id" serial primary key, "total_price" decimal, "completed_date" date, "state" character varying DEFAULT 'in_progress', "book_count" integer, "step_number" integer, "user_id" integer, "credit_card_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "delivery" decimal DEFAULT 5.0, "order_total" decimal) 
  [1m[36m (64.4ms)[0m  [1mCREATE  INDEX  "index_orders_on_credit_card_id" ON "orders" USING btree ("credit_card_id")[0m
  [1m[35m (75.0ms)[0m  CREATE  INDEX  "index_orders_on_user_id" ON "orders" USING btree ("user_id")
  [1m[36m (119.9ms)[0m  [1mCREATE TABLE "ratings" ("id" serial primary key, "title" character varying, "text_review" character varying, "rating" integer, "book_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (64.0ms)[0m  CREATE  INDEX  "index_ratings_on_book_id" ON "ratings" USING btree ("book_id")
  [1m[36m (63.8ms)[0m  [1mCREATE  INDEX  "index_ratings_on_user_id" ON "ratings" USING btree ("user_id")[0m
  [1m[35m (119.4ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "firstname" character varying DEFAULT '' NOT NULL, "lastname" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "admin" boolean, "provider" character varying, "uid" character varying, "image" character varying, "facebook_image" character varying) 
  [1m[36m (63.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (62.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (105.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (85.6ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.7ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (9.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160427123550')
  [1m[36m (10.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160229130520')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131228')
  [1m[36m (10.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131221')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220115101')
  [1m[36m (10.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220115140')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160301094923')
  [1m[36m (10.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160314104155')[0m
  [1m[35m (10.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160406065014')
  [1m[36m (10.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160229152315')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160226105754')
  [1m[36m (10.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160425123503')[0m
  [1m[35m (10.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160302131617')
  [1m[36m (11.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160406042334')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131238')
  [1m[36m (10.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131137')[0m
  [1m[35m (10.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131202')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220115125')[0m
  [1m[35m (10.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220093423')
  [1m[36m (10.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160414132043')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160226111028')
  [1m[35mActiveRecord::SchemaMigration Load (0.6ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.8ms)[0m            SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))

  [1m[36m (2.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'bookstore_test'[0m
  [1m[35m (1652.7ms)[0m  TRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons", "public"."order_items", "public"."orders", "public"."ratings", "public"."users" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "The Far-Distant Oxus"], ["price", "66.66"], ["description", "Sit sed quo rerum ab earum laborum. Eaque quisquam et et temporibus. Modi aspernatur architecto consequatur aliquam reprehenderit perspiciatis."], ["in_stock", 107], ["created_at", "2016-04-27 13:10:30.081939"], ["updated_at", "2016-04-27 13:10:30.081939"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.6ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-04-27 13:10:30.115760"], ["updated_at", "2016-04-27 13:10:30.115760"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-04-27 13:10:30.119607"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Exists (0.5ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Load (0.4ms)[0m  [1mSELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-04-27 13:10:30.152077"], ["updated_at", "2016-04-27 13:10:30.152077"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3  [["name", "an arbitrary value"], ["updated_at", "2016-04-27 13:10:30.154590"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1
  [1m[36mCountry Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "255.22"], ["completed_date", "2016-04-30"], ["created_at", "2016-04-27 13:10:30.294974"], ["updated_at", "2016-04-27 13:10:30.294974"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-04-27 13:10:30.379087"], ["updated_at", "2016-04-27 13:10:30.379087"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-04-27 13:10:30.382059"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL
  [1m[36m (2.0ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.7ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1649.0ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons", "public"."order_items", "public"."orders", "public"."ratings", "public"."users" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "For Whom the Bell Tolls"], ["price", "55.08"], ["description", "Maxime eaque iste facere harum optio. Quis rerum ipsam et. Dolorem quia expedita molestias quis eveniet. Sapiente quia ut est deserunt dicta. Consequatur quo soluta dolores."], ["in_stock", 86], ["created_at", "2016-04-27 13:15:06.753953"], ["updated_at", "2016-04-27 13:15:06.753953"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.7ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:15:06.786629"], ["updated_at", "2016-04-27 13:15:06.786629"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-04-27 13:15:06.789371"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:15:06.821598"], ["updated_at", "2016-04-27 13:15:06.821598"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-04-27 13:15:06.823876"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-04-30"], ["created_at", "2016-04-27 13:15:06.970024"], ["updated_at", "2016-04-27 13:15:06.970024"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:15:07.038006"], ["updated_at", "2016-04-27 13:15:07.038006"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-04-27 13:15:07.040582"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL
  [1m[36m (1.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1593.9ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons", "public"."order_items", "public"."orders", "public"."ratings", "public"."users" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Many Waters"], ["price", "33.39"], ["description", "Nihil alias tenetur et iste atque. Quia ratione error ut et repellendus cum dolores. Sed et ipsam porro in minus. Ratione nemo reprehenderit omnis ipsa eos ut."], ["in_stock", 154], ["created_at", "2016-04-27 13:29:38.977480"], ["updated_at", "2016-04-27 13:29:38.977480"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.6ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:29:39.030697"], ["updated_at", "2016-04-27 13:29:39.030697"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-04-27 13:29:39.033765"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:29:39.076595"], ["updated_at", "2016-04-27 13:29:39.076595"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-04-27 13:29:39.079142"], ["id", 1]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.4ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-04-30"], ["created_at", "2016-04-27 13:29:39.246309"], ["updated_at", "2016-04-27 13:29:39.246309"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:29:39.324047"], ["updated_at", "2016-04-27 13:29:39.324047"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-04-27 13:29:39.327372"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (3.0ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.6ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1789.6ms)[0m  [1mTRUNCATE TABLE "public"."credit_cards", "public"."cupons", "public"."order_items", "public"."orders", "public"."ratings", "public"."users", "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Look to Windward"], ["price", "70.16"], ["description", "Suscipit dignissimos eius rerum eligendi non. Blanditiis vero magnam facere accusantium similique officiis et. Velit libero a laudantium dignissimos sunt quis. Inventore ut consectetur."], ["in_stock", 15], ["created_at", "2016-04-27 13:32:04.358705"], ["updated_at", "2016-04-27 13:32:04.358705"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:32:04.390425"], ["updated_at", "2016-04-27 13:32:04.390425"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-04-27 13:32:04.392567"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:32:04.422934"], ["updated_at", "2016-04-27 13:32:04.422934"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-04-27 13:32:04.425138"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-04-30"], ["created_at", "2016-04-27 13:32:04.558482"], ["updated_at", "2016-04-27 13:32:04.558482"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:32:04.628729"], ["updated_at", "2016-04-27 13:32:04.628729"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-04-27 13:32:04.631830"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1645.8ms)[0m  [1mTRUNCATE TABLE "public"."order_items", "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."orders", "public"."ratings", "public"."users", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Violent Bear It Away"], ["price", "90.83"], ["description", "Magni eveniet aliquid provident aut dicta. Deleniti reprehenderit eos est aut iste minima voluptas. Mollitia ut quas reiciendis repellendus in."], ["in_stock", 131], ["created_at", "2016-04-27 13:40:58.416856"], ["updated_at", "2016-04-27 13:40:58.416856"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:40:58.452855"], ["updated_at", "2016-04-27 13:40:58.452855"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-04-27 13:40:58.455432"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:40:58.493329"], ["updated_at", "2016-04-27 13:40:58.493329"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-04-27 13:40:58.495843"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.5ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-04-30"], ["created_at", "2016-04-27 13:40:58.679481"], ["updated_at", "2016-04-27 13:40:58.679481"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:40:58.753785"], ["updated_at", "2016-04-27 13:40:58.753785"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-04-27 13:40:58.756770"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1452.5ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."ratings", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Endless Night"], ["price", "57.4"], ["description", "Hic inventore exercitationem. Ut vitae nam vel aut debitis expedita. Facere dolor voluptatem qui ut."], ["in_stock", 34], ["created_at", "2016-04-27 13:49:01.326740"], ["updated_at", "2016-04-27 13:49:01.326740"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.4ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1635.3ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "In a Glass Darkly"], ["price", "37.61"], ["description", "Quo necessitatibus voluptatem quis. Placeat voluptatem consequatur tempore sit consequatur enim. Aliquid dicta id."], ["in_stock", 26], ["created_at", "2016-04-27 13:49:34.133710"], ["updated_at", "2016-04-27 13:49:34.133710"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.8ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:49:34.176520"], ["updated_at", "2016-04-27 13:49:34.176520"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-04-27 13:49:34.179768"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:49:34.215795"], ["updated_at", "2016-04-27 13:49:34.215795"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-04-27 13:49:34.218987"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.5ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-04-30"], ["created_at", "2016-04-27 13:49:34.361046"], ["updated_at", "2016-04-27 13:49:34.361046"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:49:34.423373"], ["updated_at", "2016-04-27 13:49:34.423373"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-04-27 13:49:34.425948"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1573.3ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."ratings", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Moving Toyshop"], ["price", "95.82"], ["description", "Qui sunt laboriosam quasi sit non. Minima labore placeat qui. Dolorum quia molestiae quam. Nihil esse quo numquam sint exercitationem voluptatem."], ["in_stock", 193], ["created_at", "2016-04-27 13:50:45.822099"], ["updated_at", "2016-04-27 13:50:45.822099"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:50:45.859743"], ["updated_at", "2016-04-27 13:50:45.859743"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-04-27 13:50:45.862178"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.2ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:50:45.898794"], ["updated_at", "2016-04-27 13:50:45.898794"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-04-27 13:50:45.902386"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.2ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-04-30"], ["created_at", "2016-04-27 13:50:46.061909"], ["updated_at", "2016-04-27 13:50:46.061909"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:50:46.134868"], ["updated_at", "2016-04-27 13:50:46.134868"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-04-27 13:50:46.137570"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1500.1ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."ratings", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Ego Dominus Tuus"], ["price", "47.58"], ["description", "In amet asperiores enim ea eius. Nostrum inventore vitae qui fuga consequuntur quis et. Consequatur reiciendis ex architecto quia molestias eligendi."], ["in_stock", 108], ["created_at", "2016-04-27 13:52:54.047839"], ["updated_at", "2016-04-27 13:52:54.047839"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.5ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:52:54.084929"], ["updated_at", "2016-04-27 13:52:54.084929"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-04-27 13:52:54.087433"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.2ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:52:54.122805"], ["updated_at", "2016-04-27 13:52:54.122805"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-04-27 13:52:54.125673"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-04-30"], ["created_at", "2016-04-27 13:52:54.268780"], ["updated_at", "2016-04-27 13:52:54.268780"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:52:54.341423"], ["updated_at", "2016-04-27 13:52:54.341423"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-04-27 13:52:54.346526"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.4ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1609.2ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."ratings", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Everything is Illuminated"], ["price", "37.01"], ["description", "Magni ullam repellendus ducimus corporis et explicabo. Nisi cum architecto maiores omnis dolores perferendis. Sint corporis nesciunt in soluta iusto laborum. Dignissimos occaecati qui impedit perferendis cumque."], ["in_stock", 148], ["created_at", "2016-04-27 13:54:01.030746"], ["updated_at", "2016-04-27 13:54:01.030746"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.5ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:54:01.068763"], ["updated_at", "2016-04-27 13:54:01.068763"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-04-27 13:54:01.071271"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.2ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:54:01.105777"], ["updated_at", "2016-04-27 13:54:01.105777"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-04-27 13:54:01.108028"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-04-30"], ["created_at", "2016-04-27 13:54:01.234253"], ["updated_at", "2016-04-27 13:54:01.234253"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:54:01.330369"], ["updated_at", "2016-04-27 13:54:01.330369"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-04-27 13:54:01.334118"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1410.8ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."ratings", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Wives of Bath"], ["price", "66.55"], ["description", "Et quibusdam tempore adipisci omnis nesciunt eum iure. Amet explicabo beatae at commodi. Beatae dolores consequatur consequatur. Nam eum consequatur."], ["in_stock", 86], ["created_at", "2016-04-27 13:54:26.466196"], ["updated_at", "2016-04-27 13:54:26.466196"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.6ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:54:26.504638"], ["updated_at", "2016-04-27 13:54:26.504638"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-04-27 13:54:26.507336"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.2ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:54:26.541384"], ["updated_at", "2016-04-27 13:54:26.541384"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-04-27 13:54:26.543596"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.2ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-04-30"], ["created_at", "2016-04-27 13:54:26.686709"], ["updated_at", "2016-04-27 13:54:26.686709"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-04-27 13:54:26.755202"], ["updated_at", "2016-04-27 13:54:26.755202"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-04-27 13:54:26.758023"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1886.3ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."ratings", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.0ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.7ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2289.8ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[35m (1924.2ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2411.1ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."ratings", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[36m (2.1ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[36m (1.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[35m (1.7ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (1619.3ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."ratings", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[35m (2230.8ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[35m (1572.6ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (3194.7ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."ratings", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[36m (4.4ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[35m (2.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1528.9ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."ratings", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1514.2ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1667.8ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2276.8ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1971.3ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2161.1ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Down to a Sunless Sea"], ["price", "61.79"], ["description", "Sequi ex aut delectus repellendus possimus perferendis. A laborum voluptatem est autem tenetur. Consequatur aut repellendus similique optio deserunt illo dolor."], ["in_stock", 161], ["created_at", "2016-04-27 14:50:53.358698"], ["updated_at", "2016-04-27 14:50:53.358698"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.7ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1999.7ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.7ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-04-27 14:51:01.889470"], ["updated_at", "2016-04-27 14:51:01.889470"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-04-27 14:51:01.893152"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1733.8ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Carrion Comfort"], ["price", "81.83"], ["description", "Et distinctio tenetur est ut. Iusto at natus enim incidunt quia veniam nisi. Quos et quis quidem culpa sed. Voluptates explicabo aut facilis molestiae tempora autem."], ["in_stock", 76], ["created_at", "2016-04-27 14:51:21.045937"], ["updated_at", "2016-04-27 14:51:21.045937"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1777.3ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.6ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.6ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-04-27 14:53:20.863330"], ["updated_at", "2016-04-27 14:53:20.863330"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-04-27 14:53:20.866726"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1466.6ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1581.7ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Exists (0.6ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (44.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (134.8ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (3.0ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (92.8ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2222.7ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1777.2ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.4ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1688.5ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (114.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (18.0ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (3.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (35.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1854.8ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1621.8ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.6ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1633.6ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2004.9ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1482.8ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1560.8ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2254.5ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2026.0ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2025.7ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2006.9ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.4ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2583.1ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Specimen Days"], ["price", "86.78"], ["description", "Rem libero excepturi eum possimus. Et rem nostrum accusantium reprehenderit non voluptate fugiat. Sunt odio labore nihil harum occaecati ullam. Error et impedit velit consequatur excepturi qui harum."], ["in_stock", 196], ["created_at", "2016-05-03 20:12:48.901303"], ["updated_at", "2016-05-03 20:12:48.901303"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Where Angels Fear to Tread"], ["price", "99.89"], ["description", "Quidem quo est id omnis voluptatem. Nam nesciunt quas iste necessitatibus eum enim quam. Autem id iure enim accusamus qui fugiat."], ["in_stock", 168], ["best_seller", "t"], ["created_at", "2016-05-03 20:12:48.907961"], ["updated_at", "2016-05-03 20:12:48.907961"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "For a Breath I Tarry"], ["price", "35.14"], ["description", "Accusantium reiciendis voluptatem at aut officiis quo. Sunt aut quis architecto quia officiis sed. Veniam adipisci possimus veritatis."], ["in_stock", 48], ["best_seller", "t"], ["created_at", "2016-05-03 20:12:48.911185"], ["updated_at", "2016-05-03 20:12:48.911185"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE (best_seller = 'true')[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2347.7ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "To Sail Beyond the Sunset"], ["price", "79.36"], ["description", "Et nisi et a et facilis omnis tempora. Distinctio vero officia. Molestiae sed quis commodi nostrum saepe in."], ["in_stock", 148], ["created_at", "2016-05-03 20:13:00.098109"], ["updated_at", "2016-05-03 20:13:00.098109"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Stranger in a Strange Land"], ["price", "27.88"], ["description", "Sint quia praesentium autem sit et occaecati beatae. Voluptatem amet necessitatibus officia. Sed magni sequi ut odio. Necessitatibus rerum ipsum."], ["in_stock", 26], ["best_seller", "t"], ["created_at", "2016-05-03 20:13:00.105639"], ["updated_at", "2016-05-03 20:13:00.105639"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Let Us Now Praise Famous Men"], ["price", "18.35"], ["description", "Ipsa nihil dolores. Deserunt blanditiis pariatur impedit ut dolor quidem nesciunt. Aut est adipisci non hic expedita illo. Deleniti illum odit ducimus. Consequatur illum natus fuga."], ["in_stock", 140], ["best_seller", "t"], ["created_at", "2016-05-03 20:13:00.109054"], ["updated_at", "2016-05-03 20:13:00.109054"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE (best_seller = 'true')[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.0ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2646.8ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Dance Dance Dance"], ["price", "96.43"], ["description", "Vel sunt temporibus. Et voluptate magnam similique aut. Facilis voluptatem inventore rem maxime ipsa tempore dolore. Neque cum aspernatur autem sint blanditiis."], ["in_stock", 32], ["created_at", "2016-05-03 20:24:03.059364"], ["updated_at", "2016-05-03 20:24:03.059364"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Tender Is the Night"], ["price", "76.62"], ["description", "Fugit rerum ut expedita repellat. Nisi suscipit sunt incidunt unde. Facere sequi et. In repudiandae sint. Maiores sed ut natus sed tenetur dolor enim."], ["in_stock", 136], ["best_seller", "t"], ["created_at", "2016-05-03 20:24:03.066895"], ["updated_at", "2016-05-03 20:24:03.066895"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Frequent Hearses"], ["price", "14.94"], ["description", "Sunt quia non. Rem est et ab deserunt quis iure. Rerum sed quos quis."], ["in_stock", 200], ["best_seller", "t"], ["created_at", "2016-05-03 20:24:03.070026"], ["updated_at", "2016-05-03 20:24:03.070026"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE (best_seller = 'true')[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Ring of Bright Water"], ["price", "73.44"], ["description", "Perspiciatis adipisci et a cupiditate. Veniam nostrum debitis in et repellat cupiditate. Nemo dolor iste quia."], ["in_stock", 2], ["created_at", "2016-05-03 20:24:03.095721"], ["updated_at", "2016-05-03 20:24:03.095721"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "An Evil Cradling"], ["price", "33.26"], ["description", "Repudiandae est nulla atque quia et est porro. Eum a similique et omnis distinctio. Fugit est quae optio."], ["in_stock", 91], ["best_seller", "t"], ["created_at", "2016-05-03 20:24:03.099075"], ["updated_at", "2016-05-03 20:24:03.099075"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "After Many a Summer Dies the Swan"], ["price", "55.96"], ["description", "A quibusdam repellendus. Consequuntur harum deleniti molestiae. Nisi qui ad."], ["in_stock", 106], ["best_seller", "t"], ["created_at", "2016-05-03 20:24:03.102027"], ["updated_at", "2016-05-03 20:24:03.102027"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBook Load (0.4ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2213.4ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Those Barren Leaves, Thrones, Dominations"], ["price", "20.84"], ["description", "Eum illo voluptates omnis ab fugiat consequatur. Excepturi natus omnis. Neque porro quaerat. Expedita illo distinctio aperiam eos voluptate aliquid magnam."], ["in_stock", 99], ["created_at", "2016-05-03 20:24:37.225536"], ["updated_at", "2016-05-03 20:24:37.225536"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "The Wealth of Nations"], ["price", "65.61"], ["description", "Est id eveniet delectus laboriosam quod velit. Dolorem qui aut enim iste ducimus totam. Rerum qui fugiat dignissimos est molestiae mollitia."], ["in_stock", 194], ["best_seller", "t"], ["created_at", "2016-05-03 20:24:37.233239"], ["updated_at", "2016-05-03 20:24:37.233239"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Françoise Sagan"], ["price", "36.16"], ["description", "Ex laboriosam optio aperiam labore fugiat qui. Repellendus inventore labore voluptas. Optio nostrum itaque et accusantium. Neque a perferendis delectus culpa. Omnis laborum aut dolore."], ["in_stock", 46], ["best_seller", "t"], ["created_at", "2016-05-03 20:24:37.236747"], ["updated_at", "2016-05-03 20:24:37.236747"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE (best_seller = 'true')[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.4ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2056.8ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "I Know Why the Caged Bird Sings"], ["price", "61.73"], ["description", "Sit voluptatem veritatis dolorum esse provident cupiditate. Porro necessitatibus molestiae et. Quae quo tempora distinctio quia perferendis ut. Voluptas consequatur illo recusandae incidunt."], ["in_stock", 106], ["created_at", "2016-05-03 20:24:58.711915"], ["updated_at", "2016-05-03 20:24:58.711915"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Edna O'Brien"], ["price", "18.14"], ["description", "Et minus optio impedit voluptatem ipsum. Vero non libero omnis. Numquam vero minima sed odit quod. Modi voluptas sit. Natus enim voluptatem aspernatur explicabo porro."], ["in_stock", 129], ["best_seller", "t"], ["created_at", "2016-05-03 20:24:58.719139"], ["updated_at", "2016-05-03 20:24:58.719139"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "A Passage to India"], ["price", "70.26"], ["description", "Qui magnam magni repudiandae est adipisci eos. Quos officiis aliquam molestiae eos. Adipisci doloremque nam modi."], ["in_stock", 172], ["best_seller", "t"], ["created_at", "2016-05-03 20:24:58.722377"], ["updated_at", "2016-05-03 20:24:58.722377"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE (best_seller = 'true')[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Torment of Others"], ["price", "5.61"], ["description", "Et pariatur aut sit ex quis quibusdam eum. Adipisci iste deleniti repellendus odio aut et. Non voluptatem tenetur aut dolores minima. Recusandae magni amet quas. Autem illum in minus sint aspernatur reiciendis."], ["in_stock", 59], ["created_at", "2016-05-03 20:24:58.729685"], ["updated_at", "2016-05-03 20:24:58.729685"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "The Golden Bowl"], ["price", "44.77"], ["description", "Enim reprehenderit iusto. Doloribus suscipit qui. Quia iure et. Est provident esse."], ["in_stock", 60], ["best_seller", "t"], ["created_at", "2016-05-03 20:24:58.733321"], ["updated_at", "2016-05-03 20:24:58.733321"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "All Passion Spent"], ["price", "24.6"], ["description", "Explicabo optio nulla odit pariatur aliquid. Non saepe totam minus in quis molestiae. Ipsum porro adipisci doloremque dolore."], ["in_stock", 123], ["best_seller", "t"], ["created_at", "2016-05-03 20:24:58.736475"], ["updated_at", "2016-05-03 20:24:58.736475"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBook Load (0.2ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.4ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2083.4ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Endless Night"], ["price", "18.62"], ["description", "Similique soluta error qui voluptatibus. Molestias sunt quo minima. Assumenda enim suscipit."], ["in_stock", 167], ["created_at", "2016-05-03 20:25:28.130424"], ["updated_at", "2016-05-03 20:25:28.130424"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Butter In a Lordly Dish"], ["price", "56.51"], ["description", "Officia voluptatem soluta. Minus sit non corporis rerum est. Rerum quas earum. Facilis inventore nisi. Incidunt necessitatibus nihil ratione."], ["in_stock", 167], ["best_seller", "t"], ["created_at", "2016-05-03 20:25:28.137543"], ["updated_at", "2016-05-03 20:25:28.137543"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "No Highway"], ["price", "90.6"], ["description", "Autem velit nostrum. Quam officia et dolorem. In ipsa et. Aut ut repellat cum itaque voluptatibus. Itaque aut fugit."], ["in_stock", 96], ["best_seller", "t"], ["created_at", "2016-05-03 20:25:28.140736"], ["updated_at", "2016-05-03 20:25:28.140736"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE (best_seller = 'true')[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Dulce et Decorum Est"], ["price", "99.87"], ["description", "Sit omnis reprehenderit voluptatibus deserunt asperiores. Nihil aut officiis reiciendis et. Exercitationem quaerat culpa."], ["in_stock", 12], ["created_at", "2016-05-03 20:25:28.148286"], ["updated_at", "2016-05-03 20:25:28.148286"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Taming a Sea Horse"], ["price", "35.01"], ["description", "Esse corrupti ut sequi qui pariatur. Soluta ut odio rerum recusandae. Et eum in assumenda asperiores cum consectetur veritatis. Id sint et."], ["in_stock", 82], ["best_seller", "t"], ["created_at", "2016-05-03 20:25:28.152201"], ["updated_at", "2016-05-03 20:25:28.152201"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "A Handful of Dust"], ["price", "62.6"], ["description", "Veritatis ipsam incidunt ab ut. Nulla quia culpa eum voluptatibus facilis architecto. Autem veritatis fugiat."], ["in_stock", 57], ["best_seller", "t"], ["created_at", "2016-05-03 20:25:28.155311"], ["updated_at", "2016-05-03 20:25:28.155311"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBook Load (0.3ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1748.1ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Torment of Others"], ["price", "30.18"], ["description", "Eum molestias enim id magni dolores. Voluptatem earum nobis. Molestias sequi provident nulla error ratione nihil. Perferendis maiores aut."], ["in_stock", 41], ["created_at", "2016-05-03 20:28:49.132130"], ["updated_at", "2016-05-03 20:28:49.132130"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Beyond the Mexique Bay"], ["price", "3.62"], ["description", "Qui omnis minima saepe ut temporibus. Omnis nam enim explicabo et praesentium. Quibusdam assumenda harum repellendus alias qui."], ["in_stock", 61], ["best_seller", "t"], ["created_at", "2016-05-03 20:28:49.138308"], ["updated_at", "2016-05-03 20:28:49.138308"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "No Highway"], ["price", "35.78"], ["description", "Quos non accusamus nobis. Aut dolore vero repellat animi. Animi non veniam. Nobis voluptatem voluptatem ab exercitationem dicta."], ["in_stock", 159], ["best_seller", "t"], ["created_at", "2016-05-03 20:28:49.141228"], ["updated_at", "2016-05-03 20:28:49.141228"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE (best_seller = 'true')[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Way of All Flesh"], ["price", "28.71"], ["description", "Voluptatem culpa consequatur. Sed deserunt id maxime et odit ipsa explicabo. Et rerum necessitatibus. Non impedit est."], ["in_stock", 69], ["created_at", "2016-05-03 20:28:49.147647"], ["updated_at", "2016-05-03 20:28:49.147647"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "The Wind's Twelve Quarters"], ["price", "14.37"], ["description", "Rem molestias qui. Molestiae odit quibusdam voluptatem excepturi omnis. Deleniti laboriosam est neque enim. Eum saepe quia ipsam. Eum rem esse."], ["in_stock", 154], ["best_seller", "t"], ["created_at", "2016-05-03 20:28:49.150629"], ["updated_at", "2016-05-03 20:28:49.150629"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Jacob Have I Loved"], ["price", "54.21"], ["description", "Est dolorum soluta id in. Officia maiores maxime. Reprehenderit aut similique illum ipsam sit repellendus. Qui atque velit est sit molestias assumenda laborum."], ["in_stock", 185], ["best_seller", "t"], ["created_at", "2016-05-03 20:28:49.153813"], ["updated_at", "2016-05-03 20:28:49.153813"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBook Load (0.2ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1848.9ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Wildfire at Midnight"], ["price", "6.52"], ["description", "Consequatur voluptatem distinctio. Facilis ipsum vitae. Non provident dicta architecto rerum itaque."], ["in_stock", 87], ["created_at", "2016-05-03 20:29:50.185214"], ["updated_at", "2016-05-03 20:29:50.185214"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "This Side of Paradise"], ["price", "55.68"], ["description", "Occaecati optio qui consequuntur qui. Ut ab ea. Omnis dolores ipsum id voluptas necessitatibus. Numquam rerum nihil ut quo et accusantium exercitationem. Id qui necessitatibus quisquam."], ["in_stock", 191], ["best_seller", "t"], ["created_at", "2016-05-03 20:29:50.192902"], ["updated_at", "2016-05-03 20:29:50.192902"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Far From the Madding Crowd"], ["price", "67.03"], ["description", "Impedit hic et et quidem quo odio. Quia illo aliquid vel dolorem repellendus. Reiciendis id velit quo enim. Dolore reprehenderit cupiditate et. Harum et nihil."], ["in_stock", 132], ["best_seller", "t"], ["created_at", "2016-05-03 20:29:50.196838"], ["updated_at", "2016-05-03 20:29:50.196838"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE (best_seller = 'true')[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Dying of the Light"], ["price", "20.45"], ["description", "Voluptas molestias pariatur dignissimos quos aut unde quo. In tempore porro quia molestias in. Voluptates molestiae est. Est debitis tempora amet quidem velit vel rerum."], ["in_stock", 159], ["created_at", "2016-05-03 20:29:50.205546"], ["updated_at", "2016-05-03 20:29:50.205546"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Cover Her Face"], ["price", "7.64"], ["description", "Unde nihil sed. Iusto tempora dolorem non ut. Veritatis et quasi totam a quis."], ["in_stock", 116], ["best_seller", "t"], ["created_at", "2016-05-03 20:29:50.210334"], ["updated_at", "2016-05-03 20:29:50.210334"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "A Passage to India"], ["price", "94.92"], ["description", "Asperiores quod ab sapiente voluptatem exercitationem sequi. Fuga voluptatem sunt deserunt. Vero laboriosam reiciendis perferendis recusandae minima."], ["in_stock", 19], ["best_seller", "t"], ["created_at", "2016-05-03 20:29:50.213598"], ["updated_at", "2016-05-03 20:29:50.213598"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBook Load (0.4ms)[0m  [1mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1912.7ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Beneath the Bleeding"], ["price", "56.57"], ["description", "Consequatur fuga sed. Dignissimos praesentium enim. A accusamus ipsa dolores. Soluta nemo rem. Dolorem incidunt eius."], ["in_stock", 115], ["created_at", "2016-05-03 20:32:18.125378"], ["updated_at", "2016-05-03 20:32:18.125378"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "The Lathe of Heaven"], ["price", "40.97"], ["description", "Eligendi fugiat maiores voluptate amet eum ea labore. Libero dolores odit et. Quia enim repellat cumque consequuntur sequi."], ["in_stock", 164], ["best_seller", "t"], ["created_at", "2016-05-03 20:32:18.132580"], ["updated_at", "2016-05-03 20:32:18.132580"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Specimen Days"], ["price", "1.61"], ["description", "Modi odit non consequatur et beatae. Quisquam et consequatur. Voluptate sed quam aut voluptatem excepturi laboriosam veritatis. Consequuntur accusamus tempora cumque quaerat voluptas."], ["in_stock", 13], ["best_seller", "t"], ["created_at", "2016-05-03 20:32:18.135902"], ["updated_at", "2016-05-03 20:32:18.135902"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE (best_seller = 'true')[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Jesting Pilate"], ["price", "58.59"], ["description", "Odit quam voluptas qui quas officia non libero. Id dicta est quia dolorum sed quasi corporis. Id quia sequi. Ducimus tempore est sit officiis quis beatae. Saepe laudantium dolorum dolor aliquam."], ["in_stock", 40], ["created_at", "2016-05-03 20:32:18.144274"], ["updated_at", "2016-05-03 20:32:18.144274"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Paths of Glory"], ["price", "36.47"], ["description", "Quod nesciunt et veniam non quisquam autem harum. Fuga magni minus dicta eos voluptatibus vel. Eius minima delectus. Nam qui et."], ["in_stock", 1], ["best_seller", "t"], ["created_at", "2016-05-03 20:32:18.148207"], ["updated_at", "2016-05-03 20:32:18.148207"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "The Green Bay Tree"], ["price", "56.92"], ["description", "Non tenetur dignissimos qui sit. Dolor ab illo. Amet quam aut nemo fuga sint minus. Voluptatem qui est hic nisi sit. Tempora consequatur architecto."], ["in_stock", 184], ["best_seller", "t"], ["created_at", "2016-05-03 20:32:18.151288"], ["updated_at", "2016-05-03 20:32:18.151288"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "The Other Side of Silence"], ["price", "84.7"], ["description", "Repellendus omnis consequatur. Voluptate occaecati eius impedit accusantium. Id iusto ea. Laudantium officia quo cumque enim sapiente."], ["in_stock", 42], ["created_at", "2016-05-03 20:32:18.154065"], ["updated_at", "2016-05-03 20:32:18.154065"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBook Load (0.2ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2151.1ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.8ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-05-03 21:27:04.978760"], ["updated_at", "2016-05-03 21:27:04.978760"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-05-03 21:27:04.982869"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.8ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.1ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2659.8ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.7ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-05-03 21:27:57.122521"], ["updated_at", "2016-05-03 21:27:57.122521"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-05-03 21:27:57.127066"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2767.4ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.7ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-05-03 21:29:46.687976"], ["updated_at", "2016-05-03 21:29:46.687976"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-05-03 21:29:46.692621"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'ut' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "ut"], ["created_at", "2016-05-03 21:29:46.731015"], ["updated_at", "2016-05-03 21:29:46.731015"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2529.7ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.8ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (1.2ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-05-03 21:38:31.541283"], ["updated_at", "2016-05-03 21:38:31.541283"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-05-03 21:38:31.546566"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.6ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'ab' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "ab"], ["created_at", "2016-05-03 21:38:31.585743"], ["updated_at", "2016-05-03 21:38:31.585743"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'accusamus' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "accusamus"], ["created_at", "2016-05-03 21:38:31.597528"], ["updated_at", "2016-05-03 21:38:31.597528"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Nectar in a Sieve"], ["price", "31.65"], ["description", "Repellat quasi quo quia tempore est eaque. Blanditiis voluptatem dolor quidem rerum. Excepturi officia ea occaecati."], ["in_stock", 139], ["category_id", 3], ["created_at", "2016-05-03 21:38:31.629045"], ["updated_at", "2016-05-03 21:38:31.629045"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Oh! To be in England"], ["price", "6.4"], ["description", "Officiis voluptatem quidem aut non. Et quia eos cumque incidunt natus aut temporibus. Voluptatem sint deserunt."], ["in_stock", 151], ["category_id", 3], ["created_at", "2016-05-03 21:38:31.634256"], ["updated_at", "2016-05-03 21:38:31.634256"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Tirra Lirra by the River"], ["price", "91.59"], ["description", "Necessitatibus veniam et nihil. Velit doloremque dignissimos voluptas nemo ut est. Non perspiciatis consequatur fugit sed voluptatibus autem ipsam. Expedita omnis inventore quas nesciunt repellat possimus incidunt. Laborum deserunt voluptatem quis occaecati minima."], ["in_stock", 99], ["category_id", 3], ["created_at", "2016-05-03 21:38:31.639910"], ["updated_at", "2016-05-03 21:38:31.639910"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE "books"."category_id" = $1[0m  [["category_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2738.5ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.6ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-05-03 21:38:44.442739"], ["updated_at", "2016-05-03 21:38:44.442739"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-05-03 21:38:44.446232"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'rem' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "rem"], ["created_at", "2016-05-03 21:38:44.477487"], ["updated_at", "2016-05-03 21:38:44.477487"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'laborum' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "laborum"], ["created_at", "2016-05-03 21:38:44.487275"], ["updated_at", "2016-05-03 21:38:44.487275"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "No Highway"], ["price", "97.5"], ["description", "Qui neque aspernatur. Consequatur nulla et cupiditate eaque qui nobis. Ipsa dicta et maxime."], ["in_stock", 18], ["category_id", 3], ["created_at", "2016-05-03 21:38:44.515561"], ["updated_at", "2016-05-03 21:38:44.515561"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "The Wives of Bath"], ["price", "94.76"], ["description", "Sapiente cupiditate aut alias tenetur ipsam. Mollitia esse qui. Deserunt tenetur illo repellat est fugiat odit. Illum exercitationem ea. Fugiat consequuntur odit provident laborum odio ut."], ["in_stock", 14], ["category_id", 3], ["created_at", "2016-05-03 21:38:44.520506"], ["updated_at", "2016-05-03 21:38:44.520506"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Dance Dance Dance"], ["price", "54.67"], ["description", "Et et porro. Neque non repudiandae nobis ratione architecto a eaque. Ab neque nostrum qui incidunt. Repellendus consequuntur nostrum ea."], ["in_stock", 42], ["category_id", 3], ["created_at", "2016-05-03 21:38:44.525949"], ["updated_at", "2016-05-03 21:38:44.525949"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE "books"."category_id" = $1[0m  [["category_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2784.7ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.6ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-05-03 21:43:34.934358"], ["updated_at", "2016-05-03 21:43:34.934358"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-05-03 21:43:34.938253"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.7ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'quisquam' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "quisquam"], ["created_at", "2016-05-03 21:43:34.973424"], ["updated_at", "2016-05-03 21:43:34.973424"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'aut' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "aut"], ["created_at", "2016-05-03 21:43:34.982074"], ["updated_at", "2016-05-03 21:43:34.982074"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Cover Her Face"], ["price", "94.09"], ["description", "Et id distinctio deserunt nulla qui eligendi. Optio rem odit aut nisi alias. Odit aliquid quis provident. Libero velit et delectus possimus illo."], ["in_stock", 18], ["category_id", 3], ["created_at", "2016-05-03 21:43:35.008550"], ["updated_at", "2016-05-03 21:43:35.008550"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Postern of Fate"], ["price", "77.39"], ["description", "Sunt doloremque tempore. Sed odio quaerat tempore aut explicabo voluptates. Eos et ut hic illo."], ["in_stock", 198], ["category_id", 3], ["created_at", "2016-05-03 21:43:35.014477"], ["updated_at", "2016-05-03 21:43:35.014477"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE "books"."category_id" = $1  [["category_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2437.4ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.7ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-05-03 21:43:46.292526"], ["updated_at", "2016-05-03 21:43:46.292526"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-05-03 21:43:46.296129"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'sed' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "sed"], ["created_at", "2016-05-03 21:43:46.327705"], ["updated_at", "2016-05-03 21:43:46.327705"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'distinctio' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "distinctio"], ["created_at", "2016-05-03 21:43:46.338264"], ["updated_at", "2016-05-03 21:43:46.338264"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Things Fall Apart"], ["price", "84.31"], ["description", "Temporibus aperiam deleniti sed. Sunt nemo suscipit. Quidem voluptas minus laboriosam optio hic. Odit consequatur sit sapiente voluptatem unde alias suscipit. Sunt ullam deserunt sit mollitia qui voluptate."], ["in_stock", 14], ["category_id", 3], ["created_at", "2016-05-03 21:43:46.368660"], ["updated_at", "2016-05-03 21:43:46.368660"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Clouds of Witness"], ["price", "90.19"], ["description", "Tenetur dolorem qui ut asperiores ad. Esse minus ut. Non dolor qui consequatur voluptas excepturi quia. Dolores nisi ut."], ["in_stock", 3], ["category_id", 3], ["created_at", "2016-05-03 21:43:46.373740"], ["updated_at", "2016-05-03 21:43:46.373740"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "His Dark Materials"], ["price", "77.33"], ["description", "Distinctio odio tempore fugit iure. Voluptates blanditiis saepe. Aut veniam impedit. Alias vero repudiandae et reprehenderit quam consequatur iste."], ["in_stock", 32], ["category_id", 3], ["created_at", "2016-05-03 21:43:46.377891"], ["updated_at", "2016-05-03 21:43:46.377891"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE "books"."category_id" = $1[0m  [["category_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.1ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2945.8ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.7ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-05-03 21:45:27.665703"], ["updated_at", "2016-05-03 21:45:27.665703"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-05-03 21:45:27.669685"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.8ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'blanditiis' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "blanditiis"], ["created_at", "2016-05-03 21:45:27.703960"], ["updated_at", "2016-05-03 21:45:27.703960"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'exercitationem' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "exercitationem"], ["created_at", "2016-05-03 21:45:27.714116"], ["updated_at", "2016-05-03 21:45:27.714116"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Down to a Sunless Sea"], ["price", "8.31"], ["description", "Animi eligendi odit nostrum facere non sit. Sequi facere tempore aliquid aut optio modi. Doloribus mollitia dolores eos itaque et consequatur."], ["in_stock", 29], ["category_id", 3], ["created_at", "2016-05-03 21:45:27.741437"], ["updated_at", "2016-05-03 21:45:27.741437"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Things Fall Apart"], ["price", "26.76"], ["description", "Molestiae nihil qui numquam ratione quo similique deleniti. Debitis quasi et architecto. Consectetur laboriosam eum."], ["in_stock", 119], ["category_id", 3], ["created_at", "2016-05-03 21:45:27.746195"], ["updated_at", "2016-05-03 21:45:27.746195"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Time To Murder And Create"], ["price", "31.48"], ["description", "Et modi nihil dolorum sit nemo. Deleniti quas quia nihil dolores ut dicta iste. Dolorem non occaecati aut magni dolorem. Quia rem dolorem. Omnis dolor numquam aut totam veritatis aliquam."], ["in_stock", 187], ["category_id", 3], ["created_at", "2016-05-03 21:45:27.750887"], ["updated_at", "2016-05-03 21:45:27.750887"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "The Mermaids Singing"], ["price", "85.25"], ["description", "Ullam quam et. Eum deserunt neque magni et. Velit sit dolor eos nam quo. Ut rerum enim rem. Vel dolor id maiores ut sint."], ["in_stock", 156], ["category_id", 3], ["created_at", "2016-05-03 21:45:27.755337"], ["updated_at", "2016-05-03 21:45:27.755337"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Blood's a Rover"], ["price", "63.48"], ["description", "Quia velit et. Nihil et autem sunt harum ut et. Unde dolores deserunt vero harum."], ["in_stock", 58], ["category_id", 3], ["created_at", "2016-05-03 21:45:27.759133"], ["updated_at", "2016-05-03 21:45:27.759133"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Vile Bodies"], ["price", "72.7"], ["description", "Et mollitia sit voluptates. Sapiente nesciunt aliquid doloribus molestiae ut autem. Totam incidunt debitis aut repudiandae dicta. Aut odio qui fugiat."], ["in_stock", 21], ["category_id", 3], ["created_at", "2016-05-03 21:45:27.762844"], ["updated_at", "2016-05-03 21:45:27.762844"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "books" WHERE "books"."category_id" = $1  [["category_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2499.7ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.6ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-05-03 21:45:48.310149"], ["updated_at", "2016-05-03 21:45:48.310149"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-05-03 21:45:48.313668"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.6ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'recusandae' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "recusandae"], ["created_at", "2016-05-03 21:45:48.347415"], ["updated_at", "2016-05-03 21:45:48.347415"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'quia' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "quia"], ["created_at", "2016-05-03 21:45:48.357463"], ["updated_at", "2016-05-03 21:45:48.357463"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Gone with the Wind"], ["price", "89.11"], ["description", "Velit cum expedita aut et. Architecto doloribus ut blanditiis consequatur laudantium vel qui. Nihil et ipsam. Eligendi alias natus reiciendis qui totam. Voluptatem non magnam exercitationem."], ["in_stock", 51], ["category_id", 3], ["created_at", "2016-05-03 21:45:48.384711"], ["updated_at", "2016-05-03 21:45:48.384711"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "A Passage to India"], ["price", "60.69"], ["description", "Consectetur voluptatibus aspernatur qui et. Magni facilis similique velit. Rerum temporibus voluptatum. Ut in quas quis quibusdam suscipit aperiam et. Blanditiis ut rerum error illum voluptatem velit."], ["in_stock", 71], ["category_id", 3], ["created_at", "2016-05-03 21:45:48.390496"], ["updated_at", "2016-05-03 21:45:48.390496"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Dying of the Light"], ["price", "13.23"], ["description", "Molestias labore a voluptatem tempora sapiente non beatae. Tempore architecto dolores aspernatur amet aut. Voluptas accusantium fugit eaque praesentium neque inventore reprehenderit."], ["in_stock", 194], ["category_id", 3], ["created_at", "2016-05-03 21:45:48.394767"], ["updated_at", "2016-05-03 21:45:48.394767"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "The Painted Veil"], ["price", "53.68"], ["description", "Debitis temporibus quibusdam ut optio eius. Laborum quod vel quas qui quis fugit. Officiis facere unde dolorem aut neque. Eos amet quia omnis fugit ea."], ["in_stock", 67], ["category_id", 3], ["created_at", "2016-05-03 21:45:48.398567"], ["updated_at", "2016-05-03 21:45:48.398567"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Let Us Now Praise Famous Men"], ["price", "42.83"], ["description", "Nemo suscipit recusandae delectus iste et accusamus. Quam qui magnam culpa est mollitia. Quo accusamus ipsa laboriosam quaerat molestias. Voluptate veritatis officiis et aut asperiores libero. Consequatur adipisci ut consequatur dolores vitae."], ["in_stock", 29], ["category_id", 3], ["created_at", "2016-05-03 21:45:48.402480"], ["updated_at", "2016-05-03 21:45:48.402480"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "The Wealth of Nations"], ["price", "32.66"], ["description", "Accusantium ullam quo non. Vitae dolor tempore nostrum autem praesentium atque. Quasi aut harum sunt ratione eligendi atque."], ["in_stock", 133], ["category_id", 3], ["created_at", "2016-05-03 21:45:48.406050"], ["updated_at", "2016-05-03 21:45:48.406050"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE "books"."category_id" = $1  [["category_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2608.6ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.6ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-05-03 21:46:04.611103"], ["updated_at", "2016-05-03 21:46:04.611103"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-05-03 21:46:04.614954"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'et' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "et"], ["created_at", "2016-05-03 21:46:04.647490"], ["updated_at", "2016-05-03 21:46:04.647490"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'eos' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "eos"], ["created_at", "2016-05-03 21:46:04.658310"], ["updated_at", "2016-05-03 21:46:04.658310"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2761.8ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.6ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.7ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-05-03 21:46:29.872634"], ["updated_at", "2016-05-03 21:46:29.872634"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-05-03 21:46:29.878343"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.6ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'et' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "et"], ["created_at", "2016-05-03 21:46:29.913498"], ["updated_at", "2016-05-03 21:46:29.913498"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'numquam' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "numquam"], ["created_at", "2016-05-03 21:46:29.923899"], ["updated_at", "2016-05-03 21:46:29.923899"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Blood's a Rover"], ["price", "60.25"], ["description", "Quod aut minus corrupti et ratione vel reprehenderit. Officiis corporis vero qui tempora ut eos unde. Numquam quam hic minima. Molestiae ex ipsam quasi asperiores sint aut quia. Quia incidunt soluta sunt pariatur harum illum."], ["in_stock", 104], ["category_id", 3], ["created_at", "2016-05-03 21:46:29.952981"], ["updated_at", "2016-05-03 21:46:29.952981"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "That Hideous Strength"], ["price", "12.55"], ["description", "Officiis quisquam ab. Voluptatem et incidunt excepturi qui quasi omnis. Quia veniam nihil qui qui hic. Eaque a et saepe voluptas cum est. Et minus optio tenetur autem qui."], ["in_stock", 188], ["category_id", 3], ["created_at", "2016-05-03 21:46:29.958929"], ["updated_at", "2016-05-03 21:46:29.958929"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Endless Night"], ["price", "94.08"], ["description", "Qui molestiae et. Et vero fugit. Nisi praesentium voluptatibus et."], ["in_stock", 55], ["category_id", 3], ["created_at", "2016-05-03 21:46:29.963470"], ["updated_at", "2016-05-03 21:46:29.963470"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE "books"."category_id" = $1[0m  [["category_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2678.1ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.7ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-05-03 21:46:54.301789"], ["updated_at", "2016-05-03 21:46:54.301789"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-05-03 21:46:54.305811"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.6ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'porro' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "porro"], ["created_at", "2016-05-03 21:46:54.341527"], ["updated_at", "2016-05-03 21:46:54.341527"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'aut' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "aut"], ["created_at", "2016-05-03 21:46:54.351923"], ["updated_at", "2016-05-03 21:46:54.351923"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Bury My Heart at Wounded Knee"], ["price", "77.98"], ["description", "Exercitationem animi quo. Eos et iure in illum tempora. Non fuga sed nemo impedit dolores distinctio."], ["in_stock", 139], ["category_id", 3], ["created_at", "2016-05-03 21:46:54.380227"], ["updated_at", "2016-05-03 21:46:54.380227"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Down to a Sunless Sea"], ["price", "43.71"], ["description", "A in aspernatur eum consequatur. Aut magnam repellat et tempora dolorem quo qui. Quod nobis repellendus. Repellat enim temporibus voluptas officiis repellendus. Hic et impedit qui nemo voluptas."], ["in_stock", 68], ["category_id", 3], ["created_at", "2016-05-03 21:46:54.385283"], ["updated_at", "2016-05-03 21:46:54.385283"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Fair Stood the Wind for France"], ["price", "57.97"], ["description", "Nulla excepturi suscipit. Quia a ex. Qui expedita enim molestias culpa tenetur quas. Minima laboriosam fugiat optio quaerat saepe consequuntur unde."], ["in_stock", 176], ["category_id", 3], ["created_at", "2016-05-03 21:46:54.389899"], ["updated_at", "2016-05-03 21:46:54.389899"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE "books"."category_id" = $1[0m  [["category_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2901.7ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.7ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCategory Load (0.6ms)[0m  [1mSELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-05-03 21:47:06.064296"], ["updated_at", "2016-05-03 21:47:06.064296"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3  [["title", "an arbitrary value"], ["updated_at", "2016-05-03 21:47:06.067461"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'culpa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "culpa"], ["created_at", "2016-05-03 21:47:06.098520"], ["updated_at", "2016-05-03 21:47:06.098520"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'non' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "non"], ["created_at", "2016-05-03 21:47:06.109129"], ["updated_at", "2016-05-03 21:47:06.109129"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Rosemary Sutcliff"], ["price", "92.01"], ["description", "Voluptatum nihil autem nostrum at nesciunt. Et eveniet quaerat beatae rerum ad velit. Et dolorem illum incidunt minus deleniti maxime."], ["in_stock", 13], ["category_id", 3], ["created_at", "2016-05-03 21:47:06.135285"], ["updated_at", "2016-05-03 21:47:06.135285"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Great Work of Time"], ["price", "33.13"], ["description", "Laborum eligendi dolorem sed ullam ut adipisci. Ipsum totam iure esse quas tempore odio. Ut sed autem provident dolorem aut."], ["in_stock", 14], ["category_id", 3], ["created_at", "2016-05-03 21:47:06.141730"], ["updated_at", "2016-05-03 21:47:06.141730"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "A Darkling Plain"], ["price", "95.07"], ["description", "Et quo deleniti ratione magni odit vitae non. Temporibus doloribus sed eius praesentium. Quasi incidunt eveniet. Voluptas qui a quibusdam commodi. Est beatae recusandae quia qui omnis vitae."], ["in_stock", 69], ["category_id", 3], ["created_at", "2016-05-03 21:47:06.145437"], ["updated_at", "2016-05-03 21:47:06.145437"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE "books"."category_id" = $1[0m  [["category_id", 3]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (3229.8ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Everything is Illuminated"], ["price", "47.95"], ["description", "Iste est ducimus est rerum id et rem. Ut repellat odit unde officia ipsam fugiat. Voluptatem et cum eligendi ratione neque. Qui vero ipsa doloremque dolores vel sit. Autem hic deserunt voluptas quas."], ["in_stock", 80], ["created_at", "2016-05-03 21:49:03.387196"], ["updated_at", "2016-05-03 21:49:03.387196"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Endless Night"], ["price", "71.53"], ["description", "Odit nihil maiores quidem repellendus voluptas ratione. Doloremque qui cupiditate quos deserunt. Voluptates hic inventore vero ut nesciunt quibusdam recusandae. Eius dignissimos pariatur unde fugiat laboriosam. Fuga placeat perferendis dignissimos aspernatur nemo ipsum sit."], ["in_stock", 86], ["best_seller", "t"], ["created_at", "2016-05-03 21:49:03.394075"], ["updated_at", "2016-05-03 21:49:03.394075"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Time To Murder And Create"], ["price", "96.72"], ["description", "Ab nostrum tempora neque. Unde ab quibusdam quae molestiae sequi officia distinctio. Cumque a quo qui hic."], ["in_stock", 115], ["best_seller", "t"], ["created_at", "2016-05-03 21:49:03.398238"], ["updated_at", "2016-05-03 21:49:03.398238"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE (best_seller = 'true')[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "The Curious Incident of the Dog in the Night-Time"], ["price", "74.57"], ["description", "Aspernatur illo iste modi corrupti unde. Vitae molestiae dolor nisi aperiam facere impedit. Aut commodi magnam tempora. Laborum harum error provident recusandae est hic. Voluptatem molestias dolorem."], ["in_stock", 121], ["created_at", "2016-05-03 21:49:03.405626"], ["updated_at", "2016-05-03 21:49:03.405626"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Little Hands Clapping"], ["price", "88.82"], ["description", "Saepe adipisci aut sunt tenetur soluta. Eaque neque alias ipsum deserunt ullam et pariatur. Neque veniam tenetur enim aut quam."], ["in_stock", 115], ["best_seller", "t"], ["created_at", "2016-05-03 21:49:03.408259"], ["updated_at", "2016-05-03 21:49:03.408259"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "The Waste Land"], ["price", "44.13"], ["description", "Omnis adipisci ex consequatur quia. Quo in sit quia magnam ut consequatur. Perspiciatis quia perferendis ut numquam. Rerum explicabo consectetur."], ["in_stock", 116], ["best_seller", "t"], ["created_at", "2016-05-03 21:49:03.410886"], ["updated_at", "2016-05-03 21:49:03.410886"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "In a Glass Darkly"], ["price", "46.39"], ["description", "Repellendus aut officiis excepturi impedit. Dolor rerum magnam dolor velit vel placeat doloremque. Eum repellat sint facilis exercitationem eos numquam aperiam. Et ad placeat assumenda ut numquam."], ["in_stock", 72], ["created_at", "2016-05-03 21:49:03.413585"], ["updated_at", "2016-05-03 21:49:03.413585"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBook Load (0.3ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.6ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-05-03 21:49:03.454134"], ["updated_at", "2016-05-03 21:49:03.454134"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-05-03 21:49:03.457972"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'reprehenderit' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "reprehenderit"], ["created_at", "2016-05-03 21:49:03.472347"], ["updated_at", "2016-05-03 21:49:03.472347"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'doloremque' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "doloremque"], ["created_at", "2016-05-03 21:49:03.477934"], ["updated_at", "2016-05-03 21:49:03.477934"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "If Not Now, When?"], ["price", "79.56"], ["description", "Impedit ex rerum delectus. Ipsam rerum aliquid sunt omnis accusantium. Esse et id labore dolores optio nemo rem. Iusto ad perspiciatis."], ["in_stock", 68], ["category_id", 3], ["created_at", "2016-05-03 21:49:03.496150"], ["updated_at", "2016-05-03 21:49:03.496150"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "The Violent Bear It Away"], ["price", "3.95"], ["description", "Ea dicta non aut neque aperiam eum incidunt. Aut officiis officia quidem voluptatum a. Ad tempora deleniti natus magnam voluptatem."], ["in_stock", 46], ["category_id", 3], ["created_at", "2016-05-03 21:49:03.500571"], ["updated_at", "2016-05-03 21:49:03.500571"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "That Good Night"], ["price", "83.72"], ["description", "Eius et ducimus voluptatum accusamus illum provident. In corporis labore nihil quo assumenda. Voluptatem et facilis enim dolores eius cumque. Enim sed illum. Dolorem ut ut."], ["in_stock", 130], ["category_id", 3], ["created_at", "2016-05-03 21:49:03.507588"], ["updated_at", "2016-05-03 21:49:03.507588"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "books" WHERE "books"."category_id" = $1  [["category_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCountry Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-05-03 21:49:03.535983"], ["updated_at", "2016-05-03 21:49:03.535983"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-05-03 21:49:03.538448"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-05-06"], ["created_at", "2016-05-03 21:49:03.676920"], ["updated_at", "2016-05-03 21:49:03.676920"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-05-03 21:49:03.745467"], ["updated_at", "2016-05-03 21:49:03.745467"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-05-03 21:49:03.748053"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (25.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (41.4ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (3.0ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (59.8ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1465.4ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1214.5ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1423.6ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1451.1ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1346.7ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (1.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2552.5ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1913.2ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.1ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1418.4ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1312.1ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1438.6ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL
  [1m[36m (2.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1383.5ms)[0m  [1mTRUNCATE TABLE "public"."orders", "public"."order_items", "public"."users", "public"."addresses", "public"."authors", "public"."categories", "public"."credit_cards", "public"."cupons", "public"."books", "public"."ratings", "public"."countries" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1727.0ms)[0m  [1mDROP DATABASE IF EXISTS "bookstore_test"[0m
  [1m[35m (709.3ms)[0m  CREATE DATABASE "bookstore_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (106.8ms)[0m  CREATE TABLE "addresses" ("id" serial primary key, "firstname" character varying, "lastname" character varying, "address" character varying, "zipcode" character varying, "city" character varying, "phone" character varying, "country" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "user_billing_address_id" integer, "user_shipping_address_id" integer, "order_billing_address_id" integer, "order_shipping_address_id" integer) 
  [1m[36m (119.3ms)[0m  [1mCREATE TABLE "authors" ("id" serial primary key, "firstname" character varying, "lastname" character varying, "biography" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (108.5ms)[0m  CREATE TABLE "books" ("id" serial primary key, "title" character varying, "description" text, "price" decimal, "in_stock" integer, "rating" decimal, "author_id" integer, "category_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "image" character varying, "order_counter" integer, "best_seller" boolean) 
  [1m[36m (62.2ms)[0m  [1mCREATE  INDEX  "index_books_on_author_id" ON "books" USING btree ("author_id")[0m
  [1m[35m (62.9ms)[0m  CREATE  INDEX  "index_books_on_category_id" ON "books" USING btree ("category_id")
  [1m[36m (108.8ms)[0m  [1mCREATE TABLE "categories" ("id" serial primary key, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (87.2ms)[0m  CREATE TABLE "countries" ("id" serial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (110.5ms)[0m  [1mCREATE TABLE "credit_cards" ("id" serial primary key, "number" character varying, "cvv" character varying, "expiration_month" integer, "expiration_year" integer, "firstname" character varying, "lastname" character varying, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (62.9ms)[0m  CREATE  INDEX  "index_credit_cards_on_user_id" ON "credit_cards" USING btree ("user_id")
  [1m[36m (91.7ms)[0m  [1mCREATE TABLE "cupons" ("id" serial primary key, "value" character varying, "use" boolean DEFAULT 'f', "discount" integer DEFAULT 5, "order_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (73.8ms)[0m  CREATE  INDEX  "index_cupons_on_order_id" ON "cupons" USING btree ("order_id")
  [1m[36m (97.8ms)[0m  [1mCREATE TABLE "order_items" ("id" serial primary key, "quantity" character varying, "book_id" integer, "order_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (51.8ms)[0m  CREATE  INDEX  "index_order_items_on_book_id" ON "order_items" USING btree ("book_id")
  [1m[36m (51.7ms)[0m  [1mCREATE  INDEX  "index_order_items_on_order_id" ON "order_items" USING btree ("order_id")[0m
  [1m[35m (96.8ms)[0m  CREATE TABLE "orders" ("id" serial primary key, "total_price" decimal, "completed_date" date, "state" character varying DEFAULT 'in_progress', "book_count" integer, "step_number" integer, "user_id" integer, "credit_card_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "delivery" decimal DEFAULT 5.0, "order_total" decimal) 
  [1m[36m (51.9ms)[0m  [1mCREATE  INDEX  "index_orders_on_credit_card_id" ON "orders" USING btree ("credit_card_id")[0m
  [1m[35m (52.1ms)[0m  CREATE  INDEX  "index_orders_on_user_id" ON "orders" USING btree ("user_id")
  [1m[36m (97.5ms)[0m  [1mCREATE TABLE "ratings" ("id" serial primary key, "title" character varying, "text_review" character varying, "rating" integer, "book_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (51.5ms)[0m  CREATE  INDEX  "index_ratings_on_book_id" ON "ratings" USING btree ("book_id")
  [1m[36m (62.9ms)[0m  [1mCREATE  INDEX  "index_ratings_on_user_id" ON "ratings" USING btree ("user_id")[0m
  [1m[35m (106.5ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "firstname" character varying DEFAULT '' NOT NULL, "lastname" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "admin" boolean, "provider" character varying, "uid" character varying, "image" character varying, "facebook_image" character varying) 
  [1m[36m (74.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (74.5ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (82.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (84.9ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.7ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (8.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160427123550')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160229130520')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131228')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131221')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220115101')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220115140')[0m
  [1m[35m (10.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160301094923')
  [1m[36m (11.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160314104155')[0m
  [1m[35m (10.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160406065014')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160229152315')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160226105754')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160425123503')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160302131617')
  [1m[36m (10.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160406042334')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131238')
  [1m[36m (10.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220131137')[0m
  [1m[35m (10.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220131202')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160220115125')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160220093423')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160414132043')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160226111028')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (1.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1339.7ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons", "public"."order_items", "public"."orders", "public"."ratings", "public"."users" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1261.6ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons", "public"."order_items", "public"."orders", "public"."ratings", "public"."users" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "cupons" ("value", "use", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "qfg7mesdh"], ["use", "t"], ["created_at", "2016-05-04 04:20:54.127874"], ["updated_at", "2016-05-04 04:20:54.127874"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "sxkygwpgc"], ["created_at", "2016-05-04 04:20:54.135928"], ["updated_at", "2016-05-04 04:20:54.135928"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "by2wguzj7"], ["created_at", "2016-05-04 04:20:54.138994"], ["updated_at", "2016-05-04 04:20:54.138994"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL
  [1m[36m (3.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1417.5ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons", "public"."order_items", "public"."orders", "public"."ratings", "public"."users" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "cupons" ("value", "use", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "4ngbz7hp7"], ["use", "t"], ["created_at", "2016-05-04 04:21:07.556776"], ["updated_at", "2016-05-04 04:21:07.556776"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "7eih0n35v"], ["created_at", "2016-05-04 04:21:07.564178"], ["updated_at", "2016-05-04 04:21:07.564178"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "nuaqdv7ge"], ["created_at", "2016-05-04 04:21:07.567139"], ["updated_at", "2016-05-04 04:21:07.567139"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCupon Load (0.6ms)[0m  [1mSELECT  "cupons".* FROM "cupons" WHERE "cupons"."value" = $1  ORDER BY "cupons"."id" ASC LIMIT 1[0m  [["value", "nuaqdv7ge"]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1762.4ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons", "public"."order_items", "public"."orders", "public"."ratings", "public"."users" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "88.92"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 04:30:07.068170"], ["updated_at", "2016-05-04 04:30:07.068170"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "255.22"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 04:30:07.082425"], ["updated_at", "2016-05-04 04:30:07.082425"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.1ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1640.9ms)[0m  [1mTRUNCATE TABLE "public"."order_items", "public"."orders", "public"."ratings", "public"."users", "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "79.53"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 04:31:06.241386"], ["updated_at", "2016-05-04 04:31:06.241386"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "18.22"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 04:31:06.252702"], ["updated_at", "2016-05-04 04:31:06.252702"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1524.2ms)[0m  [1mTRUNCATE TABLE "public"."order_items", "public"."orders", "public"."ratings", "public"."users", "public"."addresses", "public"."authors", "public"."books", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "85.48"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 04:31:48.554972"], ["updated_at", "2016-05-04 04:31:48.554972"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "61.64"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 04:31:48.593222"], ["updated_at", "2016-05-04 04:31:48.593222"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.4ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1470.0ms)[0m  [1mTRUNCATE TABLE "public"."users", "public"."addresses", "public"."authors", "public"."books", "public"."order_items", "public"."orders", "public"."ratings", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "57.78"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 04:32:13.170761"], ["updated_at", "2016-05-04 04:32:13.170761"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "63.48"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 04:32:13.522878"], ["updated_at", "2016-05-04 04:32:13.522878"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1362.5ms)[0m  [1mTRUNCATE TABLE "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."ratings", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "76.16"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 04:33:13.110736"], ["updated_at", "2016-05-04 04:33:13.110736"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "39.31"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 04:33:13.152307"], ["updated_at", "2016-05-04 04:33:13.152307"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1312.8ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "77.42"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 04:51:28.159364"], ["updated_at", "2016-05-04 04:51:28.159364"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "7.17"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 04:51:28.193348"], ["updated_at", "2016-05-04 04:51:28.193348"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.0ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1570.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "37.22"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 04:52:01.470524"], ["updated_at", "2016-05-04 04:52:01.470524"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "67.93"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 04:52:01.482602"], ["updated_at", "2016-05-04 04:52:01.482602"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1388.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Recalled to Life"], ["price", "29.53"], ["description", "Deserunt temporibus quidem architecto molestiae rerum. Dolores facere aut neque qui. Voluptas alias quo cum doloremque corrupti dignissimos. Expedita neque fuga."], ["in_stock", 34], ["created_at", "2016-05-04 04:52:21.467899"], ["updated_at", "2016-05-04 04:52:21.467899"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Tender Is the Night"], ["price", "90.18"], ["description", "Debitis sequi tempora dolores alias. Cupiditate deserunt alias. Impedit pariatur dolorem omnis. Voluptatem reprehenderit rerum consequatur ut. Cumque aut laboriosam dolores assumenda rerum."], ["in_stock", 115], ["best_seller", "t"], ["created_at", "2016-05-04 04:52:21.473945"], ["updated_at", "2016-05-04 04:52:21.473945"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "In a Dry Season"], ["price", "19.44"], ["description", "Et quod sint adipisci eum enim explicabo. Commodi magni quis ut. Et aspernatur est."], ["in_stock", 82], ["best_seller", "t"], ["created_at", "2016-05-04 04:52:21.477019"], ["updated_at", "2016-05-04 04:52:21.477019"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE (best_seller = 'true')[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Blue Remembered Earth"], ["price", "53.14"], ["description", "Rerum magni repellendus fugiat possimus rerum autem. Sed aspernatur sed culpa ut. Praesentium ipsa veritatis adipisci ut ipsum reiciendis id. Et eos excepturi possimus ut repudiandae laboriosam architecto. Sint ut nisi fugiat aut molestiae quia."], ["in_stock", 91], ["created_at", "2016-05-04 04:52:21.483873"], ["updated_at", "2016-05-04 04:52:21.483873"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Jacob Have I Loved"], ["price", "94.75"], ["description", "Iste reiciendis blanditiis sint sequi. Id iure dignissimos odit. Voluptatem ullam omnis non quidem."], ["in_stock", 59], ["best_seller", "t"], ["created_at", "2016-05-04 04:52:21.487656"], ["updated_at", "2016-05-04 04:52:21.487656"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "No Highway"], ["price", "3.29"], ["description", "Fugiat est omnis blanditiis explicabo autem qui consequatur. Possimus aut eum sit illum et. Cupiditate sit nemo unde repellendus."], ["in_stock", 191], ["best_seller", "t"], ["created_at", "2016-05-04 04:52:21.490898"], ["updated_at", "2016-05-04 04:52:21.490898"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "A Passage to India"], ["price", "90.55"], ["description", "Aut impedit nobis autem. Dolorem ducimus enim ipsum mollitia et in fugiat. Recusandae qui dolores doloremque consequatur. Incidunt sed reiciendis qui. Non quo cum quis nobis earum."], ["in_stock", 182], ["created_at", "2016-05-04 04:52:21.493765"], ["updated_at", "2016-05-04 04:52:21.493765"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBook Load (0.3ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-05-04 04:52:21.584372"], ["updated_at", "2016-05-04 04:52:21.584372"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-05-04 04:52:21.586874"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'qui' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "qui"], ["created_at", "2016-05-04 04:52:21.606525"], ["updated_at", "2016-05-04 04:52:21.606525"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'omnis' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "omnis"], ["created_at", "2016-05-04 04:52:21.615312"], ["updated_at", "2016-05-04 04:52:21.615312"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Now Sleeps the Crimson Petal"], ["price", "53.24"], ["description", "Pariatur nulla voluptates aliquid. Ut ex iste consequatur. Tenetur nesciunt repudiandae doloribus nostrum consequatur."], ["in_stock", 99], ["category_id", 3], ["created_at", "2016-05-04 04:52:21.633486"], ["updated_at", "2016-05-04 04:52:21.633486"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Of Human Bondage"], ["price", "58.03"], ["description", "Consequuntur enim quos non quia. Maiores voluptatem consequatur. Quis optio et vero voluptate ut. Qui dolor reiciendis culpa est. Et excepturi voluptatum omnis repudiandae mollitia."], ["in_stock", 8], ["category_id", 3], ["created_at", "2016-05-04 04:52:21.638833"], ["updated_at", "2016-05-04 04:52:21.638833"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "In a Dry Season"], ["price", "91.41"], ["description", "Rerum laudantium quod earum explicabo facilis quam voluptas. Consequuntur sit odio minima quod aliquid tempore. Quia eos veritatis aliquam et placeat dolore magnam."], ["in_stock", 84], ["category_id", 3], ["created_at", "2016-05-04 04:52:21.643253"], ["updated_at", "2016-05-04 04:52:21.643253"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE "books"."category_id" = $1  [["category_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.2ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-05-04 04:52:21.662751"], ["updated_at", "2016-05-04 04:52:21.662751"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-05-04 04:52:21.664735"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.5ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "use", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "ahasg4b58"], ["use", "t"], ["created_at", "2016-05-04 04:52:21.800922"], ["updated_at", "2016-05-04 04:52:21.800922"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "sqcqkfe3r"], ["created_at", "2016-05-04 04:52:21.803210"], ["updated_at", "2016-05-04 04:52:21.803210"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "6qwab87tf"], ["created_at", "2016-05-04 04:52:21.805079"], ["updated_at", "2016-05-04 04:52:21.805079"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCupon Load (0.4ms)[0m  SELECT  "cupons".* FROM "cupons" WHERE "cupons"."value" = $1  ORDER BY "cupons"."id" ASC LIMIT 1  [["value", "6qwab87tf"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "5.46"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 04:52:21.849168"], ["updated_at", "2016-05-04 04:52:21.849168"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "75.53"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 04:52:21.857359"], ["updated_at", "2016-05-04 04:52:21.857359"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-05-04 04:52:21.954010"], ["updated_at", "2016-05-04 04:52:21.954010"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["email", "an arbitrary value"], ["updated_at", "2016-05-04 04:52:21.957019"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1356.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "56.01"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:24:52.257831"], ["updated_at", "2016-05-04 05:24:52.257831"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "8.78"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:24:52.269158"], ["updated_at", "2016-05-04 05:24:52.269158"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.1ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1564.8ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "42.0"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:39:54.190239"], ["updated_at", "2016-05-04 05:39:54.190239"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "69.45"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:39:54.200973"], ["updated_at", "2016-05-04 05:39:54.200973"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rocky@trantow.biz' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1559.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "95.12"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:41:00.280179"], ["updated_at", "2016-05-04 05:41:00.280179"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "98.13"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:41:00.291806"], ["updated_at", "2016-05-04 05:41:00.291806"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'ben@schoen.name' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Carmelo"], ["lastname", "Barrows"], ["email", "ben@schoen.name"], ["encrypted_password", "$2a$04$ITcOsZC4UvFI5J9X1X0BXuefJF0khnNl3592brURetiYT5ZG/WL8a"], ["created_at", "2016-05-04 05:41:00.389799"], ["updated_at", "2016-05-04 05:41:00.389799"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1592.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "28.27"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:41:22.431575"], ["updated_at", "2016-05-04 05:41:22.431575"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "98.9"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:41:22.442588"], ["updated_at", "2016-05-04 05:41:22.442588"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'edd@gulgowski.net' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Arch"], ["lastname", "Hane"], ["email", "edd@gulgowski.net"], ["encrypted_password", "$2a$04$fHyZgBE7jkEYupy9M8eD0OWLPXr.YnUK6iS38bZiZlbju/WiddmUO"], ["created_at", "2016-05-04 05:41:22.488688"], ["updated_at", "2016-05-04 05:41:22.488688"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:41:22.492592"], ["updated_at", "2016-05-04 05:41:22.492592"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1428.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "86.19"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:43:00.794566"], ["updated_at", "2016-05-04 05:43:00.794566"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "80.57"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:43:00.807355"], ["updated_at", "2016-05-04 05:43:00.807355"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'marjory@kuvalisrolfson.name' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Jamir"], ["lastname", "Haag"], ["email", "marjory@kuvalisrolfson.name"], ["encrypted_password", "$2a$04$FExkhP.mbRthYxe7ai.fVeDfXUe4ZnL2T3qUrmlBE0vlkzDmiLmeS"], ["created_at", "2016-05-04 05:43:00.850994"], ["updated_at", "2016-05-04 05:43:00.850994"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:43:00.854870"], ["updated_at", "2016-05-04 05:43:00.854870"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1362.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "16.45"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:44:29.918340"], ["updated_at", "2016-05-04 05:44:29.918340"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "68.51"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:44:29.931085"], ["updated_at", "2016-05-04 05:44:29.931085"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'amya@rice.name' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Celestine"], ["lastname", "Sipes"], ["email", "amya@rice.name"], ["encrypted_password", "$2a$04$Ov5A2d1HLDvQRo50Eup54u8mfCRATLORwG4jjt3i7ERepQ1gTDmJe"], ["created_at", "2016-05-04 05:44:29.981239"], ["updated_at", "2016-05-04 05:44:29.981239"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:44:29.985548"], ["updated_at", "2016-05-04 05:44:29.985548"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1656.6ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "87.27"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:45:23.986939"], ["updated_at", "2016-05-04 05:45:23.986939"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "46.5"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:45:23.996834"], ["updated_at", "2016-05-04 05:45:23.996834"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'benny.ortiz@ziemann.biz' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Cortney"], ["lastname", "Lakin"], ["email", "benny.ortiz@ziemann.biz"], ["encrypted_password", "$2a$04$y/.SFw9bsSZBOPk62ox7POT3oONiy9Td49nmKYfdImQMgMM8crExW"], ["created_at", "2016-05-04 05:45:24.037531"], ["updated_at", "2016-05-04 05:45:24.037531"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:45:24.040545"], ["updated_at", "2016-05-04 05:45:24.040545"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.4ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1515.6ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "5.59"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:47:50.233618"], ["updated_at", "2016-05-04 05:47:50.233618"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "39.2"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:47:50.246368"], ["updated_at", "2016-05-04 05:47:50.246368"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'hudson@bahringer.net' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Maia"], ["lastname", "Lakin"], ["email", "hudson@bahringer.net"], ["encrypted_password", "$2a$04$ZknfhJQ1V9QnIW7lD06Sb.jAMfctALS0ZrFUrkynTPp1Fkkex95.u"], ["created_at", "2016-05-04 05:47:50.293889"], ["updated_at", "2016-05-04 05:47:50.293889"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:47:50.297469"], ["updated_at", "2016-05-04 05:47:50.297469"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1284.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "23.66"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:48:02.025611"], ["updated_at", "2016-05-04 05:48:02.025611"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "56.96"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:48:02.038380"], ["updated_at", "2016-05-04 05:48:02.038380"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'blanca@collinsledner.org' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Roberto"], ["lastname", "Waelchi"], ["email", "blanca@collinsledner.org"], ["encrypted_password", "$2a$04$f9RTBHoF5nTh5ezjpYq2Q./EvnChooVUA/g8Swli.evYsoc8iun3G"], ["created_at", "2016-05-04 05:48:02.083721"], ["updated_at", "2016-05-04 05:48:02.083721"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:48:02.087367"], ["updated_at", "2016-05-04 05:48:02.087367"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1466.1ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "4.83"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:48:49.057002"], ["updated_at", "2016-05-04 05:48:49.057002"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "40.16"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:48:49.069289"], ["updated_at", "2016-05-04 05:48:49.069289"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'shea@smith.io' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Jake"], ["lastname", "McGlynn"], ["email", "shea@smith.io"], ["encrypted_password", "$2a$04$82APUIeCjAKvgQgliZjFHe.BGd5VBL6fPOdGx0HMu6yGKRJPIFAzG"], ["created_at", "2016-05-04 05:48:49.115304"], ["updated_at", "2016-05-04 05:48:49.115304"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:48:49.119501"], ["updated_at", "2016-05-04 05:48:49.119501"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1534.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "9.36"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:49:42.010490"], ["updated_at", "2016-05-04 05:49:42.010490"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "87.07"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:49:42.022654"], ["updated_at", "2016-05-04 05:49:42.022654"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'conor_lowe@bergnaum.name' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Rickey"], ["lastname", "Altenwerth"], ["email", "conor_lowe@bergnaum.name"], ["encrypted_password", "$2a$04$n7pbCHUl0/9wj8aRKADxjeJu/1nxG4PYl0P.wpEVghiKrxfr8rlwK"], ["created_at", "2016-05-04 05:49:42.067234"], ["updated_at", "2016-05-04 05:49:42.067234"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:49:42.070764"], ["updated_at", "2016-05-04 05:49:42.070764"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.1ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1708.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "60.93"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:49:54.086504"], ["updated_at", "2016-05-04 05:49:54.086504"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "78.86"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:49:54.098443"], ["updated_at", "2016-05-04 05:49:54.098443"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'abbie@kerluke.com' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Reggie"], ["lastname", "Kuvalis"], ["email", "abbie@kerluke.com"], ["encrypted_password", "$2a$04$byIzVwlIaTIlpbYQM.Z8L.MR3/jIdpYwqH4Pq84FlQUzQRb.AgxBi"], ["created_at", "2016-05-04 05:49:54.144517"], ["updated_at", "2016-05-04 05:49:54.144517"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:49:54.148631"], ["updated_at", "2016-05-04 05:49:54.148631"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1703.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "75.54"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:50:04.458226"], ["updated_at", "2016-05-04 05:50:04.458226"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "76.09"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:50:04.468904"], ["updated_at", "2016-05-04 05:50:04.468904"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'lydia.labadie@rathhowe.io' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Mariana"], ["lastname", "Treutel"], ["email", "lydia.labadie@rathhowe.io"], ["encrypted_password", "$2a$04$f4PlqObK/HSIeugdOvIqC.fuMQHm1c/hupZkF53lxDFLX6Mejxasi"], ["created_at", "2016-05-04 05:50:04.510382"], ["updated_at", "2016-05-04 05:50:04.510382"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:50:04.513895"], ["updated_at", "2016-05-04 05:50:04.513895"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1869.4ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "33.27"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:50:22.384835"], ["updated_at", "2016-05-04 05:50:22.384835"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "53.28"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:50:22.399348"], ["updated_at", "2016-05-04 05:50:22.399348"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'clarabelle_leffler@nienowwaelchi.info' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Neoma"], ["lastname", "Blick"], ["email", "clarabelle_leffler@nienowwaelchi.info"], ["encrypted_password", "$2a$04$bKmjxpe4CM/ZrHzsJ/psxeh1gK24iRV/DhDEJ7sCHfEILQd7QocZO"], ["created_at", "2016-05-04 05:50:22.449853"], ["updated_at", "2016-05-04 05:50:22.449853"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:50:22.454646"], ["updated_at", "2016-05-04 05:50:22.454646"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1624.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "49.03"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:51:57.405507"], ["updated_at", "2016-05-04 05:51:57.405507"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "89.17"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:51:57.417650"], ["updated_at", "2016-05-04 05:51:57.417650"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'te@reichel.biz' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Kristoffer"], ["lastname", "Bahringer"], ["email", "te@reichel.biz"], ["encrypted_password", "$2a$04$C6JfflpqOlL/eSf3LEKx9eyVpKCTuhcYxWBRsWayrN3jr9r9IXJz."], ["created_at", "2016-05-04 05:51:57.464629"], ["updated_at", "2016-05-04 05:51:57.464629"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:51:57.469005"], ["updated_at", "2016-05-04 05:51:57.469005"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1705.4ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "8.72"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:52:11.624870"], ["updated_at", "2016-05-04 05:52:11.624870"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "66.11"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:52:11.636112"], ["updated_at", "2016-05-04 05:52:11.636112"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'flo@lehner.co' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Madyson"], ["lastname", "Ondricka"], ["email", "flo@lehner.co"], ["encrypted_password", "$2a$04$YizhtqzO4GjOHLQWwOhD4O6/tR.vusL7HhNQUgbYqUYejTpgXOIVu"], ["created_at", "2016-05-04 05:52:11.680345"], ["updated_at", "2016-05-04 05:52:11.680345"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:52:11.684182"], ["updated_at", "2016-05-04 05:52:11.684182"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1694.2ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "10.91"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:52:34.856968"], ["updated_at", "2016-05-04 05:52:34.856968"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "56.47"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:52:34.870247"], ["updated_at", "2016-05-04 05:52:34.870247"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'darius.hayes@mayert.co' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Mallie"], ["lastname", "Veum"], ["email", "darius.hayes@mayert.co"], ["encrypted_password", "$2a$04$KDdDBKDg5BV41d8oC5LTFurxsrJsSTZ7GshRMSEAZru9EdA65xvGi"], ["created_at", "2016-05-04 05:52:34.917141"], ["updated_at", "2016-05-04 05:52:34.917141"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:52:34.921192"], ["updated_at", "2016-05-04 05:52:34.921192"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1600.2ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "75.39"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:52:48.708861"], ["updated_at", "2016-05-04 05:52:48.708861"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "17.56"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:52:48.721067"], ["updated_at", "2016-05-04 05:52:48.721067"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'winfield@olsongreenfelder.co' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Abdiel"], ["lastname", "Pouros"], ["email", "winfield@olsongreenfelder.co"], ["encrypted_password", "$2a$04$dyBWZq6KUT/Usymlklbt0emgLpU7hKEXkY0GwfIJ7rdJ5u39tVbNi"], ["created_at", "2016-05-04 05:52:48.766925"], ["updated_at", "2016-05-04 05:52:48.766925"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:52:48.771188"], ["updated_at", "2016-05-04 05:52:48.771188"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1678.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "87.97"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:53:12.735076"], ["updated_at", "2016-05-04 05:53:12.735076"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "24.81"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:53:12.746591"], ["updated_at", "2016-05-04 05:53:12.746591"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'joana.schaden@torpkoepp.org' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Mazie"], ["lastname", "Dach"], ["email", "joana.schaden@torpkoepp.org"], ["encrypted_password", "$2a$04$IGVNu9E09aMndJk37U1JNONJ.2Kr673XBmYkLs5Ka.IDD4gzN3Q1S"], ["created_at", "2016-05-04 05:53:12.792387"], ["updated_at", "2016-05-04 05:53:12.792387"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:53:12.795976"], ["updated_at", "2016-05-04 05:53:12.795976"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1515.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "38.55"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:53:24.849186"], ["updated_at", "2016-05-04 05:53:24.849186"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "11.41"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:53:24.860546"], ["updated_at", "2016-05-04 05:53:24.860546"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'lilly@kautzer.info' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Darrion"], ["lastname", "Daugherty"], ["email", "lilly@kautzer.info"], ["encrypted_password", "$2a$04$lq1iDmmVCZ22q9Ux7Dit6egazqYufAD9EDg0XLQfVDHJJV9o6SH5m"], ["created_at", "2016-05-04 05:53:24.907335"], ["updated_at", "2016-05-04 05:53:24.907335"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 05:53:24.911387"], ["updated_at", "2016-05-04 05:53:24.911387"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1836.1ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "94.95"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:01:47.286991"], ["updated_at", "2016-05-04 06:01:47.286991"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "42.85"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:01:47.297733"], ["updated_at", "2016-05-04 06:01:47.297733"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'roosevelt@baumbach.name' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Jaylon"], ["lastname", "Bartoletti"], ["email", "roosevelt@baumbach.name"], ["encrypted_password", "$2a$04$LcTMo4SNXX3MR1q99xv7N.e.a4YwdV5lGiyC1dxRQwWiJLc6U6J1q"], ["created_at", "2016-05-04 06:01:47.339847"], ["updated_at", "2016-05-04 06:01:47.339847"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:01:47.343864"], ["updated_at", "2016-05-04 06:01:47.343864"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1639.3ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "91.63"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:28.086577"], ["updated_at", "2016-05-04 06:03:28.086577"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "43.24"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:28.098058"], ["updated_at", "2016-05-04 06:03:28.098058"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'marguerite@schaeferoreilly.info' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Kadin"], ["lastname", "White"], ["email", "marguerite@schaeferoreilly.info"], ["encrypted_password", "$2a$04$oy8magWRvlRrLudNQoVNCuD3j7n5Doy54XX92jHJNcT8u0HC7w2gG"], ["created_at", "2016-05-04 06:03:28.142394"], ["updated_at", "2016-05-04 06:03:28.142394"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:28.145926"], ["updated_at", "2016-05-04 06:03:28.145926"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1684.3ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "22.13"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:36.797192"], ["updated_at", "2016-05-04 06:03:36.797192"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "75.03"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:36.809388"], ["updated_at", "2016-05-04 06:03:36.809388"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'brain_pacocha@kris.co' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Isaiah"], ["lastname", "Glover"], ["email", "brain_pacocha@kris.co"], ["encrypted_password", "$2a$04$PMwmgSN2alBrLJvzBxFYk.k1SnSpovMCq1cEiJWce2ChxEhoowmQ2"], ["created_at", "2016-05-04 06:03:36.854632"], ["updated_at", "2016-05-04 06:03:36.854632"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:36.858128"], ["updated_at", "2016-05-04 06:03:36.858128"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1489.8ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "89.28"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.396871"], ["updated_at", "2016-05-04 06:03:50.396871"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "15.93"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.408136"], ["updated_at", "2016-05-04 06:03:50.408136"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'ruel@schamberger.org' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Dawson"], ["lastname", "Gulgowski"], ["email", "ruel@schamberger.org"], ["encrypted_password", "$2a$04$oxO44A./olq.IjtcyBLy0ujRyzHKki6Gv3U.UHsmjC0kEwVRf6fzK"], ["created_at", "2016-05-04 06:03:50.449183"], ["updated_at", "2016-05-04 06:03:50.449183"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.452434"], ["updated_at", "2016-05-04 06:03:50.452434"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'chance@murraynienow.net' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Jules"], ["lastname", "Crist"], ["email", "chance@murraynienow.net"], ["encrypted_password", "$2a$04$0xPcw59H21WIPqXLO5jjaufrpZig5872QKPtCJIsAgwJKWjZsC47i"], ["created_at", "2016-05-04 06:03:50.475196"], ["updated_at", "2016-05-04 06:03:50.475196"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "44.04"], ["state", "in_queue"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.478252"], ["updated_at", "2016-05-04 06:03:50.478252"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "8.95"], ["state", "in_queue"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.480994"], ["updated_at", "2016-05-04 06:03:50.480994"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "86.56"], ["state", "in_queue"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.483658"], ["updated_at", "2016-05-04 06:03:50.483658"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "72.3"], ["state", "in_delivery"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.486514"], ["updated_at", "2016-05-04 06:03:50.486514"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "3.1"], ["state", "in_delivery"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.488905"], ["updated_at", "2016-05-04 06:03:50.488905"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "17.06"], ["state", "delivered"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.491378"], ["updated_at", "2016-05-04 06:03:50.491378"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "66.73"], ["state", "delivered"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.493823"], ["updated_at", "2016-05-04 06:03:50.493823"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "91.23"], ["state", "delivered"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.496129"], ["updated_at", "2016-05-04 06:03:50.496129"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'vena_moore@oberbrunner.name' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Caleb"], ["lastname", "Konopelski"], ["email", "vena_moore@oberbrunner.name"], ["encrypted_password", "$2a$04$LXvjHhk0UkP8XDNa8XrnNOC78oo7dWHjwMq5bmPofIFFqkNdconau"], ["created_at", "2016-05-04 06:03:50.514797"], ["updated_at", "2016-05-04 06:03:50.514797"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "30.07"], ["state", "in_queue"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.518175"], ["updated_at", "2016-05-04 06:03:50.518175"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "49.11"], ["state", "in_queue"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.520820"], ["updated_at", "2016-05-04 06:03:50.520820"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "76.42"], ["state", "in_queue"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.523102"], ["updated_at", "2016-05-04 06:03:50.523102"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "14.13"], ["state", "in_delivery"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.525228"], ["updated_at", "2016-05-04 06:03:50.525228"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "87.62"], ["state", "in_delivery"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.527434"], ["updated_at", "2016-05-04 06:03:50.527434"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "75.09"], ["state", "delivered"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.529604"], ["updated_at", "2016-05-04 06:03:50.529604"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "96.49"], ["state", "delivered"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.531952"], ["updated_at", "2016-05-04 06:03:50.531952"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "38.43"], ["state", "delivered"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:03:50.534546"], ["updated_at", "2016-05-04 06:03:50.534546"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1583.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "86.78"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:04:27.892853"], ["updated_at", "2016-05-04 06:04:27.892853"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "47.68"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:04:27.905981"], ["updated_at", "2016-05-04 06:04:27.905981"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'julianne_smith@ondricka.org' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Dillan"], ["lastname", "Dibbert"], ["email", "julianne_smith@ondricka.org"], ["encrypted_password", "$2a$04$algt8NU6KhPvaBXQ10P92e.iEybI3l8yuxwiUVweYux9xDeOv2Jpq"], ["created_at", "2016-05-04 06:04:27.951229"], ["updated_at", "2016-05-04 06:04:27.951229"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:04:27.954940"], ["updated_at", "2016-05-04 06:04:27.954940"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'modesta_wyman@moen.name' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Terry"], ["lastname", "Batz"], ["email", "modesta_wyman@moen.name"], ["encrypted_password", "$2a$04$94rQv.e1WZ.KrzAwN.UZkuaOyVrP4oDK7UQ/7WvQPOoR5w7lDMgP2"], ["created_at", "2016-05-04 06:04:27.980563"], ["updated_at", "2016-05-04 06:04:27.980563"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'vilma@senger.org' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Lorena"], ["lastname", "Bosco"], ["email", "vilma@senger.org"], ["encrypted_password", "$2a$04$lkQILJrFLXWUHe.rR/pN.OLQDvOvu0DKmZxZT85x5GSBIh8ZUV1dK"], ["created_at", "2016-05-04 06:04:27.989235"], ["updated_at", "2016-05-04 06:04:27.989235"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1519.9ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "14.49"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.427809"], ["updated_at", "2016-05-04 06:10:08.427809"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "62.63"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.440096"], ["updated_at", "2016-05-04 06:10:08.440096"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'phyllis@kirlin.name' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Dalton"], ["lastname", "Stokes"], ["email", "phyllis@kirlin.name"], ["encrypted_password", "$2a$04$WwGWRYQXs9Szcoq1.64FI.g5/BTdETzAJYOHKHa6Gvo1pll/boik6"], ["created_at", "2016-05-04 06:10:08.485324"], ["updated_at", "2016-05-04 06:10:08.485324"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.488832"], ["updated_at", "2016-05-04 06:10:08.488832"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'karl@klein.co' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Manuela"], ["lastname", "Keeling"], ["email", "karl@klein.co"], ["encrypted_password", "$2a$04$q2AGaMlV8JbOFMQDewoEo.SZkdyLZV170lgvfg8ZxoMfRA4sMAbEW"], ["created_at", "2016-05-04 06:10:08.513474"], ["updated_at", "2016-05-04 06:10:08.513474"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "79.21"], ["state", "in_queue"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.517097"], ["updated_at", "2016-05-04 06:10:08.517097"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "95.85"], ["state", "in_queue"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.520097"], ["updated_at", "2016-05-04 06:10:08.520097"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "31.54"], ["state", "in_queue"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.522688"], ["updated_at", "2016-05-04 06:10:08.522688"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "99.71"], ["state", "in_delivery"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.535828"], ["updated_at", "2016-05-04 06:10:08.535828"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "71.04"], ["state", "in_delivery"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.538945"], ["updated_at", "2016-05-04 06:10:08.538945"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "59.11"], ["state", "delivered"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.541491"], ["updated_at", "2016-05-04 06:10:08.541491"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "31.07"], ["state", "delivered"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.544004"], ["updated_at", "2016-05-04 06:10:08.544004"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "32.2"], ["state", "delivered"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.547776"], ["updated_at", "2016-05-04 06:10:08.547776"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'phyllis_dickens@heidenreich.net' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Norma"], ["lastname", "Block"], ["email", "phyllis_dickens@heidenreich.net"], ["encrypted_password", "$2a$04$.3nhj/amD32mj0zbL1U/fuHQxmUpMuoMXzGzpFHhpIA.STVIKRvny"], ["created_at", "2016-05-04 06:10:08.556716"], ["updated_at", "2016-05-04 06:10:08.556716"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "98.95"], ["state", "in_queue"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.559762"], ["updated_at", "2016-05-04 06:10:08.559762"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "49.69"], ["state", "in_queue"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.562323"], ["updated_at", "2016-05-04 06:10:08.562323"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "52.78"], ["state", "in_queue"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.565644"], ["updated_at", "2016-05-04 06:10:08.565644"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "34.23"], ["state", "in_delivery"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.568207"], ["updated_at", "2016-05-04 06:10:08.568207"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "55.58"], ["state", "in_delivery"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.570608"], ["updated_at", "2016-05-04 06:10:08.570608"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "57.12"], ["state", "delivered"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.572951"], ["updated_at", "2016-05-04 06:10:08.572951"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "65.04"], ["state", "delivered"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.575374"], ["updated_at", "2016-05-04 06:10:08.575374"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "45.87"], ["state", "delivered"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:10:08.577710"], ["updated_at", "2016-05-04 06:10:08.577710"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1566.3ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "12.8"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:30.946981"], ["updated_at", "2016-05-04 06:11:30.946981"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "68.59"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:30.959644"], ["updated_at", "2016-05-04 06:11:30.959644"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'bert_fay@wardthompson.net' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Robert"], ["lastname", "Koch"], ["email", "bert_fay@wardthompson.net"], ["encrypted_password", "$2a$04$aPoWQMGFujQtUZTUoI1caOmoL24qpx0XXT.xgAZ/KFTxAf3rucPHy"], ["created_at", "2016-05-04 06:11:31.006302"], ["updated_at", "2016-05-04 06:11:31.006302"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.009826"], ["updated_at", "2016-05-04 06:11:31.009826"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fausto@dooley.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Luigi"], ["lastname", "Rosenbaum"], ["email", "fausto@dooley.com"], ["encrypted_password", "$2a$04$ELlRDxGQ6E9GQuwT1hTqnORR5cppkoca6ns4fTSlvFw6jPT0NaJmm"], ["created_at", "2016-05-04 06:11:31.033613"], ["updated_at", "2016-05-04 06:11:31.033613"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "28.97"], ["state", "in_queue"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.037217"], ["updated_at", "2016-05-04 06:11:31.037217"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "69.94"], ["state", "in_queue"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.040258"], ["updated_at", "2016-05-04 06:11:31.040258"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "79.56"], ["state", "in_queue"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.043002"], ["updated_at", "2016-05-04 06:11:31.043002"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "58.89"], ["state", "in_delivery"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.045404"], ["updated_at", "2016-05-04 06:11:31.045404"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "56.19"], ["state", "in_delivery"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.047866"], ["updated_at", "2016-05-04 06:11:31.047866"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "66.06"], ["state", "delivered"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.050512"], ["updated_at", "2016-05-04 06:11:31.050512"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "65.02"], ["state", "delivered"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.053037"], ["updated_at", "2016-05-04 06:11:31.053037"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "8.18"], ["state", "delivered"], ["user_id", 2], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.055541"], ["updated_at", "2016-05-04 06:11:31.055541"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'jaydon@schinner.name' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Judson"], ["lastname", "Hegmann"], ["email", "jaydon@schinner.name"], ["encrypted_password", "$2a$04$qK9aL9ukKBIKnNki7RG59uDR7yEA0xOb5SrUTfCv7G2ISrpQW8qiO"], ["created_at", "2016-05-04 06:11:31.065208"], ["updated_at", "2016-05-04 06:11:31.065208"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "86.15"], ["state", "in_queue"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.068624"], ["updated_at", "2016-05-04 06:11:31.068624"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "22.75"], ["state", "in_queue"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.082668"], ["updated_at", "2016-05-04 06:11:31.082668"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "40.08"], ["state", "in_queue"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.085210"], ["updated_at", "2016-05-04 06:11:31.085210"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "19.71"], ["state", "in_delivery"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.087614"], ["updated_at", "2016-05-04 06:11:31.087614"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "76.08"], ["state", "in_delivery"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.090042"], ["updated_at", "2016-05-04 06:11:31.090042"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "60.53"], ["state", "delivered"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.092408"], ["updated_at", "2016-05-04 06:11:31.092408"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "2.56"], ["state", "delivered"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.094740"], ["updated_at", "2016-05-04 06:11:31.094740"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "34.78"], ["state", "delivered"], ["user_id", 3], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:11:31.097010"], ["updated_at", "2016-05-04 06:11:31.097010"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1750.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'delmer_bode@collins.name' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Luther"], ["lastname", "Mayer"], ["email", "delmer_bode@collins.name"], ["encrypted_password", "$2a$04$3EaP99mnbynF1kTnaZtPXet.2Cc32p7MYJvL4EzYlVGLfGpwJBdfm"], ["created_at", "2016-05-04 06:15:21.177787"], ["updated_at", "2016-05-04 06:15:21.177787"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'stefan.hickle@swaniawski.org' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Antonina"], ["lastname", "Hackett"], ["email", "stefan.hickle@swaniawski.org"], ["encrypted_password", "$2a$04$1i1kKZXwUTilObm70qa8UesTX.9.widrBb2B8WmIZh16oNKocuewG"], ["created_at", "2016-05-04 06:15:21.211085"], ["updated_at", "2016-05-04 06:15:21.211085"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'haylee@boyle.net' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Tierra"], ["lastname", "Davis"], ["email", "haylee@boyle.net"], ["encrypted_password", "$2a$04$8djcaLv5dKdw3JsSZlWvvuAjzPSg.Cv44QiShbP4dF2Sc4L5cABs."], ["created_at", "2016-05-04 06:15:21.228624"], ["updated_at", "2016-05-04 06:15:21.228624"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'jameson@smitham.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Preston"], ["lastname", "Moore"], ["email", "jameson@smitham.com"], ["encrypted_password", "$2a$04$0wvhbVSjYqXBhLZOJbaAdetETazVWczajVzYGl7hOUVqBKUFQ57uC"], ["created_at", "2016-05-04 06:15:21.239241"], ["updated_at", "2016-05-04 06:15:21.239241"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'deontae_considine@bergnaumstiedemann.io' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Dorris"], ["lastname", "Hermiston"], ["email", "deontae_considine@bergnaumstiedemann.io"], ["encrypted_password", "$2a$04$c4TOTG6AfgbmoVKTBRxTMu1jY8EHFAULfcj7qr1XxvbhdpgPOpPda"], ["created_at", "2016-05-04 06:15:21.253298"], ["updated_at", "2016-05-04 06:15:21.253298"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'gail@shieldkiles.org' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Wilton"], ["lastname", "Hoppe"], ["email", "gail@shieldkiles.org"], ["encrypted_password", "$2a$04$PqBsli4aipvENvz79g.BSuTFtX51l4/Ly.uoPC/ssQH4daybiANq6"], ["created_at", "2016-05-04 06:15:21.266929"], ["updated_at", "2016-05-04 06:15:21.266929"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'olaf@wardkemmer.net' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Fatima"], ["lastname", "Miller"], ["email", "olaf@wardkemmer.net"], ["encrypted_password", "$2a$04$ntFZKkfRjEKYAR29cURT8u2enfR0zAc/FAhul61d3CbjDLbpagqca"], ["created_at", "2016-05-04 06:15:21.277370"], ["updated_at", "2016-05-04 06:15:21.277370"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'vaughn_conroy@murazik.net' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Patrick"], ["lastname", "Marks"], ["email", "vaughn_conroy@murazik.net"], ["encrypted_password", "$2a$04$tnk9SwS.57EBUQhja48Q4eFcegtmkELGSn8WnKY9A5E0r8EEWL9QO"], ["created_at", "2016-05-04 06:15:21.290476"], ["updated_at", "2016-05-04 06:15:21.290476"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "37.75"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.294904"], ["updated_at", "2016-05-04 06:15:21.294904"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'kamron.flatley@kuphalruel.net' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Victor"], ["lastname", "Herzog"], ["email", "kamron.flatley@kuphalruel.net"], ["encrypted_password", "$2a$04$iagcQnp0mupDtToH83gJF.z.giT/baSMHKcC.dHSeW7lQ5z1G3AwW"], ["created_at", "2016-05-04 06:15:21.306426"], ["updated_at", "2016-05-04 06:15:21.306426"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "52.66"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.311049"], ["updated_at", "2016-05-04 06:15:21.311049"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'marisa.kreiger@kutch.co' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Earlene"], ["lastname", "Marquardt"], ["email", "marisa.kreiger@kutch.co"], ["encrypted_password", "$2a$04$K71F5DQimkBJnOZTrdQG9Og/Hg0YNcNtYF3ChXwu5l0EKO9q804Gm"], ["created_at", "2016-05-04 06:15:21.320318"], ["updated_at", "2016-05-04 06:15:21.320318"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'jena.bauch@beerdibbert.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Brice"], ["lastname", "Kihn"], ["email", "jena.bauch@beerdibbert.com"], ["encrypted_password", "$2a$04$iGTOlifi0r26tnJJn8bU9uTxabkcWF/uTUjESOvecrRGoqpUbUwDq"], ["created_at", "2016-05-04 06:15:21.338218"], ["updated_at", "2016-05-04 06:15:21.338218"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 11], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.341406"], ["updated_at", "2016-05-04 06:15:21.341406"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 11]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'gladys@lednerterry.net' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Deion"], ["lastname", "Padberg"], ["email", "gladys@lednerterry.net"], ["encrypted_password", "$2a$04$H5MAlMyCclkHBst1Xq596OOaRaQRVVSPeBGGUcBX/cPl8u786UMfO"], ["created_at", "2016-05-04 06:15:21.366439"], ["updated_at", "2016-05-04 06:15:21.366439"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "97.6"], ["state", "in_queue"], ["user_id", 12], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.369912"], ["updated_at", "2016-05-04 06:15:21.369912"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "75.62"], ["state", "in_queue"], ["user_id", 12], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.372833"], ["updated_at", "2016-05-04 06:15:21.372833"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "43.96"], ["state", "in_queue"], ["user_id", 12], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.375388"], ["updated_at", "2016-05-04 06:15:21.375388"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "81.7"], ["state", "in_delivery"], ["user_id", 12], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.377857"], ["updated_at", "2016-05-04 06:15:21.377857"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "76.19"], ["state", "in_delivery"], ["user_id", 12], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.380773"], ["updated_at", "2016-05-04 06:15:21.380773"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "95.85"], ["state", "delivered"], ["user_id", 12], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.383407"], ["updated_at", "2016-05-04 06:15:21.383407"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "2.69"], ["state", "delivered"], ["user_id", 12], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.385663"], ["updated_at", "2016-05-04 06:15:21.385663"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "20.24"], ["state", "delivered"], ["user_id", 12], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.388169"], ["updated_at", "2016-05-04 06:15:21.388169"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'alek.lebsack@huel.io' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Garrick"], ["lastname", "Morar"], ["email", "alek.lebsack@huel.io"], ["encrypted_password", "$2a$04$7NORykOitP5yrEQyKDPz3e1DTSv9NgINfWl8/4hcHVb2wwLaJ34DO"], ["created_at", "2016-05-04 06:15:21.396794"], ["updated_at", "2016-05-04 06:15:21.396794"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "18.82"], ["state", "in_queue"], ["user_id", 13], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.400428"], ["updated_at", "2016-05-04 06:15:21.400428"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "54.08"], ["state", "in_queue"], ["user_id", 13], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.402793"], ["updated_at", "2016-05-04 06:15:21.402793"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "81.1"], ["state", "in_queue"], ["user_id", 13], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.405016"], ["updated_at", "2016-05-04 06:15:21.405016"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "71.7"], ["state", "in_delivery"], ["user_id", 13], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.407393"], ["updated_at", "2016-05-04 06:15:21.407393"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "76.47"], ["state", "in_delivery"], ["user_id", 13], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.409584"], ["updated_at", "2016-05-04 06:15:21.409584"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "80.64"], ["state", "delivered"], ["user_id", 13], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.411966"], ["updated_at", "2016-05-04 06:15:21.411966"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "22.54"], ["state", "delivered"], ["user_id", 13], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.415073"], ["updated_at", "2016-05-04 06:15:21.415073"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "92.96"], ["state", "delivered"], ["user_id", 13], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:21.417459"], ["updated_at", "2016-05-04 06:15:21.417459"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.6ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1542.5ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'arvilla_lubowitz@ullrich.info' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Diego"], ["lastname", "Swaniawski"], ["email", "arvilla_lubowitz@ullrich.info"], ["encrypted_password", "$2a$04$0C3mX/pZ1FfNwv1FW60.d.17ib6X6sutez59RQgAzvQuedZuroCKe"], ["created_at", "2016-05-04 06:15:59.628068"], ["updated_at", "2016-05-04 06:15:59.628068"]]
  [1m[35m (6.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "71.59"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.698427"], ["updated_at", "2016-05-04 06:15:59.698427"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "45.42"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.705381"], ["updated_at", "2016-05-04 06:15:59.705381"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'roberto@towne.biz' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Felipa"], ["lastname", "Feil"], ["email", "roberto@towne.biz"], ["encrypted_password", "$2a$04$AtEHtyKPJ7VkLkZ63DHVKevYFoRq4G3yMK9bDAi5irSfPhwTUt3vy"], ["created_at", "2016-05-04 06:15:59.714754"], ["updated_at", "2016-05-04 06:15:59.714754"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.718199"], ["updated_at", "2016-05-04 06:15:59.718199"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "47.27"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.739246"], ["updated_at", "2016-05-04 06:15:59.739246"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "28.13"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.743705"], ["updated_at", "2016-05-04 06:15:59.743705"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "35.28"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.746812"], ["updated_at", "2016-05-04 06:15:59.746812"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "10.14"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.749635"], ["updated_at", "2016-05-04 06:15:59.749635"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "45.26"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.752179"], ["updated_at", "2016-05-04 06:15:59.752179"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "32.4"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.754810"], ["updated_at", "2016-05-04 06:15:59.754810"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "10.21"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.757348"], ["updated_at", "2016-05-04 06:15:59.757348"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "45.39"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.759918"], ["updated_at", "2016-05-04 06:15:59.759918"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "29.3"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.777136"], ["updated_at", "2016-05-04 06:15:59.777136"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "22.4"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.780102"], ["updated_at", "2016-05-04 06:15:59.780102"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "56.45"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.783153"], ["updated_at", "2016-05-04 06:15:59.783153"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "28.48"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.785600"], ["updated_at", "2016-05-04 06:15:59.785600"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "59.27"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.788097"], ["updated_at", "2016-05-04 06:15:59.788097"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "65.86"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.790538"], ["updated_at", "2016-05-04 06:15:59.790538"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "10.24"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.792849"], ["updated_at", "2016-05-04 06:15:59.792849"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "27.17"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:15:59.795107"], ["updated_at", "2016-05-04 06:15:59.795107"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1635.1ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'ted@lockman.biz' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Karelle"], ["lastname", "Kuhic"], ["email", "ted@lockman.biz"], ["encrypted_password", "$2a$04$TE/Pp2lnlQesXSpEwUsy7Oobe6dGq.92KLKnaPBEXXmpRzB05nRYC"], ["created_at", "2016-05-04 06:16:28.805039"], ["updated_at", "2016-05-04 06:16:28.805039"]]
  [1m[35m (5.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "44.55"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.887025"], ["updated_at", "2016-05-04 06:16:28.887025"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "10.5"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.895776"], ["updated_at", "2016-05-04 06:16:28.895776"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'serenity@fritsch.biz' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Addie"], ["lastname", "Olson"], ["email", "serenity@fritsch.biz"], ["encrypted_password", "$2a$04$bNB2WAKG1bYvLpafdC9OIed3Je6xfr/kNycgfqPegGjantOBNd48a"], ["created_at", "2016-05-04 06:16:28.906264"], ["updated_at", "2016-05-04 06:16:28.906264"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.909630"], ["updated_at", "2016-05-04 06:16:28.909630"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "66.45"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.932595"], ["updated_at", "2016-05-04 06:16:28.932595"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "67.73"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.937138"], ["updated_at", "2016-05-04 06:16:28.937138"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "33.37"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.940399"], ["updated_at", "2016-05-04 06:16:28.940399"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "31.15"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.955459"], ["updated_at", "2016-05-04 06:16:28.955459"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "97.2"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.958186"], ["updated_at", "2016-05-04 06:16:28.958186"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "2.18"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.960723"], ["updated_at", "2016-05-04 06:16:28.960723"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "57.26"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.963222"], ["updated_at", "2016-05-04 06:16:28.963222"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "30.96"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.965744"], ["updated_at", "2016-05-04 06:16:28.965744"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "63.24"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.971485"], ["updated_at", "2016-05-04 06:16:28.971485"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "69.8"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.975076"], ["updated_at", "2016-05-04 06:16:28.975076"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "77.02"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.977731"], ["updated_at", "2016-05-04 06:16:28.977731"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "16.2"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.980138"], ["updated_at", "2016-05-04 06:16:28.980138"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "74.05"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.982722"], ["updated_at", "2016-05-04 06:16:28.982722"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "40.83"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.985172"], ["updated_at", "2016-05-04 06:16:28.985172"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "51.43"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.987579"], ["updated_at", "2016-05-04 06:16:28.987579"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "97.0"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:16:28.990215"], ["updated_at", "2016-05-04 06:16:28.990215"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1495.1ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'vicente_hills@sanford.co' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Van"], ["lastname", "Hagenes"], ["email", "vicente_hills@sanford.co"], ["encrypted_password", "$2a$04$3s.Nfl8PWA3H1be47AX12.5f99eFFv/KDgXLs8mNB8OkNd.GVr0HS"], ["created_at", "2016-05-04 06:17:42.193478"], ["updated_at", "2016-05-04 06:17:42.193478"]]
  [1m[35m (13.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "80.51"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.275484"], ["updated_at", "2016-05-04 06:17:42.275484"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "80.2"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.282731"], ["updated_at", "2016-05-04 06:17:42.282731"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'blanche@feillesch.org' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Kyler"], ["lastname", "Hammes"], ["email", "blanche@feillesch.org"], ["encrypted_password", "$2a$04$0cAtBAJ0nnf6d9L/lFBxiudfmWm88X/YqfMHkLp258uZ9Ef/5IrDu"], ["created_at", "2016-05-04 06:17:42.292219"], ["updated_at", "2016-05-04 06:17:42.292219"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.295396"], ["updated_at", "2016-05-04 06:17:42.295396"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "23.93"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.317528"], ["updated_at", "2016-05-04 06:17:42.317528"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "94.68"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.321970"], ["updated_at", "2016-05-04 06:17:42.321970"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "71.54"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.324810"], ["updated_at", "2016-05-04 06:17:42.324810"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "68.14"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.327471"], ["updated_at", "2016-05-04 06:17:42.327471"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "48.56"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.330163"], ["updated_at", "2016-05-04 06:17:42.330163"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "14.69"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.332851"], ["updated_at", "2016-05-04 06:17:42.332851"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "24.4"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.335521"], ["updated_at", "2016-05-04 06:17:42.335521"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "96.42"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.338184"], ["updated_at", "2016-05-04 06:17:42.338184"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "0.64"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.360837"], ["updated_at", "2016-05-04 06:17:42.360837"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "5.42"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.363640"], ["updated_at", "2016-05-04 06:17:42.363640"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "72.56"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.366021"], ["updated_at", "2016-05-04 06:17:42.366021"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "52.05"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.369438"], ["updated_at", "2016-05-04 06:17:42.369438"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "88.87"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.372009"], ["updated_at", "2016-05-04 06:17:42.372009"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "67.52"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.374480"], ["updated_at", "2016-05-04 06:17:42.374480"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "48.55"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.376694"], ["updated_at", "2016-05-04 06:17:42.376694"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "5.58"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:17:42.378921"], ["updated_at", "2016-05-04 06:17:42.378921"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.4ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1422.1ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'frederic.schowalter@ferry.org' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Maurice"], ["lastname", "McKenzie"], ["email", "frederic.schowalter@ferry.org"], ["encrypted_password", "$2a$04$grjIn13d3J9BMg/8QSFWpOLS2BHnAjoaTHMHmb09dvXD9hBwXZpiC"], ["created_at", "2016-05-04 06:18:17.547837"], ["updated_at", "2016-05-04 06:18:17.547837"]]
  [1m[35m (3.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "42.29"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.610468"], ["updated_at", "2016-05-04 06:18:17.610468"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "43.32"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.616787"], ["updated_at", "2016-05-04 06:18:17.616787"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'leilani_stiedemann@hackett.name' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Jasper"], ["lastname", "Jacobi"], ["email", "leilani_stiedemann@hackett.name"], ["encrypted_password", "$2a$04$uwPmlaWJqWdipJDjdrbkN.SGjviKTu74clxnXVA0e6Ci9xneESu3q"], ["created_at", "2016-05-04 06:18:17.624979"], ["updated_at", "2016-05-04 06:18:17.624979"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.627855"], ["updated_at", "2016-05-04 06:18:17.627855"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "19.47"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.647297"], ["updated_at", "2016-05-04 06:18:17.647297"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "86.4"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.650529"], ["updated_at", "2016-05-04 06:18:17.650529"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "34.92"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.653015"], ["updated_at", "2016-05-04 06:18:17.653015"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "37.71"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.655548"], ["updated_at", "2016-05-04 06:18:17.655548"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "86.0"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.658083"], ["updated_at", "2016-05-04 06:18:17.658083"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "67.69"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.660696"], ["updated_at", "2016-05-04 06:18:17.660696"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "4.01"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.663235"], ["updated_at", "2016-05-04 06:18:17.663235"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "13.41"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.665523"], ["updated_at", "2016-05-04 06:18:17.665523"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "71.71"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.704180"], ["updated_at", "2016-05-04 06:18:17.704180"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "54.59"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.707294"], ["updated_at", "2016-05-04 06:18:17.707294"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "64.17"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.709746"], ["updated_at", "2016-05-04 06:18:17.709746"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "94.63"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.712210"], ["updated_at", "2016-05-04 06:18:17.712210"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "30.36"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.714547"], ["updated_at", "2016-05-04 06:18:17.714547"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "64.35"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.717565"], ["updated_at", "2016-05-04 06:18:17.717565"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "22.45"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.720256"], ["updated_at", "2016-05-04 06:18:17.720256"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "86.48"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:17.722607"], ["updated_at", "2016-05-04 06:18:17.722607"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1687.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'junius_spencer@herman.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Cyril"], ["lastname", "Boehm"], ["email", "junius_spencer@herman.com"], ["encrypted_password", "$2a$04$AuWo5OiR3AgzxnVCOzinVOsIGtJbnZjS1HqOVHg4cgfoJM3HFx.Ia"], ["created_at", "2016-05-04 06:18:35.887755"], ["updated_at", "2016-05-04 06:18:35.887755"]]
  [1m[35m (3.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "77.03"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:35.959253"], ["updated_at", "2016-05-04 06:18:35.959253"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "8.69"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:35.966954"], ["updated_at", "2016-05-04 06:18:35.966954"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'laria@rempelabernathy.co' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Frieda"], ["lastname", "Beatty"], ["email", "laria@rempelabernathy.co"], ["encrypted_password", "$2a$04$XM/Es05Ugld629zQEwQVC.Edc33UOs4vAT4EgkJBYExIjTZP8zpda"], ["created_at", "2016-05-04 06:18:35.975408"], ["updated_at", "2016-05-04 06:18:35.975408"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:35.978294"], ["updated_at", "2016-05-04 06:18:35.978294"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "74.52"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:35.999740"], ["updated_at", "2016-05-04 06:18:35.999740"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "27.66"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:36.003715"], ["updated_at", "2016-05-04 06:18:36.003715"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "48.25"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:36.006499"], ["updated_at", "2016-05-04 06:18:36.006499"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "99.66"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:36.009030"], ["updated_at", "2016-05-04 06:18:36.009030"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "97.22"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:36.011674"], ["updated_at", "2016-05-04 06:18:36.011674"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "50.12"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:36.014288"], ["updated_at", "2016-05-04 06:18:36.014288"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "66.57"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:36.016991"], ["updated_at", "2016-05-04 06:18:36.016991"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "49.7"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:36.019543"], ["updated_at", "2016-05-04 06:18:36.019543"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "92.21"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:36.041040"], ["updated_at", "2016-05-04 06:18:36.041040"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "10.58"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:36.043985"], ["updated_at", "2016-05-04 06:18:36.043985"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "7.88"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:36.046307"], ["updated_at", "2016-05-04 06:18:36.046307"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "74.08"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:36.048693"], ["updated_at", "2016-05-04 06:18:36.048693"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "17.87"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:36.051413"], ["updated_at", "2016-05-04 06:18:36.051413"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "79.89"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:36.055704"], ["updated_at", "2016-05-04 06:18:36.055704"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "84.54"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:36.060639"], ["updated_at", "2016-05-04 06:18:36.060639"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "60.67"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:18:36.065311"], ["updated_at", "2016-05-04 06:18:36.065311"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.6ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1493.4ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'emmalee@johnson.info' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Kennedi"], ["lastname", "Skiles"], ["email", "emmalee@johnson.info"], ["encrypted_password", "$2a$04$aj47O4acEF7pqKlrr4PIVONk03VYa/yNyDIb1K4aTJh0H3srg3jQW"], ["created_at", "2016-05-04 06:49:28.305516"], ["updated_at", "2016-05-04 06:49:28.305516"]]
  [1m[35m (4.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "39.09"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.360328"], ["updated_at", "2016-05-04 06:49:28.360328"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "29.22"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.367380"], ["updated_at", "2016-05-04 06:49:28.367380"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'dakota@upton.net' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Enos"], ["lastname", "Boyle"], ["email", "dakota@upton.net"], ["encrypted_password", "$2a$04$EMWAwEiqglpSqcZqNBsG9ujf.NET.pcgYjKfRJm1FfkggbSQqm8iC"], ["created_at", "2016-05-04 06:49:28.375178"], ["updated_at", "2016-05-04 06:49:28.375178"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.377808"], ["updated_at", "2016-05-04 06:49:28.377808"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "76.73"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.398008"], ["updated_at", "2016-05-04 06:49:28.398008"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "88.94"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.400851"], ["updated_at", "2016-05-04 06:49:28.400851"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "48.46"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.403233"], ["updated_at", "2016-05-04 06:49:28.403233"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "36.59"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.416385"], ["updated_at", "2016-05-04 06:49:28.416385"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "77.39"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.418918"], ["updated_at", "2016-05-04 06:49:28.418918"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "50.62"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.421126"], ["updated_at", "2016-05-04 06:49:28.421126"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "24.45"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.423444"], ["updated_at", "2016-05-04 06:49:28.423444"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "33.67"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.425692"], ["updated_at", "2016-05-04 06:49:28.425692"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "69.43"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.437105"], ["updated_at", "2016-05-04 06:49:28.437105"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "38.39"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.441519"], ["updated_at", "2016-05-04 06:49:28.441519"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "28.18"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.445415"], ["updated_at", "2016-05-04 06:49:28.445415"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "17.28"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.449361"], ["updated_at", "2016-05-04 06:49:28.449361"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "76.44"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.453145"], ["updated_at", "2016-05-04 06:49:28.453145"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "6.3"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.455968"], ["updated_at", "2016-05-04 06:49:28.455968"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "60.18"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.458373"], ["updated_at", "2016-05-04 06:49:28.458373"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "85.35"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:28.460540"], ["updated_at", "2016-05-04 06:49:28.460540"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1451.2ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'else.weinat@schowalter.name' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Tamara"], ["lastname", "McDermott"], ["email", "else.weinat@schowalter.name"], ["encrypted_password", "$2a$04$sK1PLzlCTPqozAhhiUqlw.w06qvcHc0RgUXeaLIgj8EruV9Yd6Jy."], ["created_at", "2016-05-04 06:49:39.664990"], ["updated_at", "2016-05-04 06:49:39.664990"]]
  [1m[35m (5.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "60.23"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.737013"], ["updated_at", "2016-05-04 06:49:39.737013"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "55.85"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.743630"], ["updated_at", "2016-05-04 06:49:39.743630"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'pasquale@predovic.name' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Oswald"], ["lastname", "Collier"], ["email", "pasquale@predovic.name"], ["encrypted_password", "$2a$04$C4QjPeYqN/j06mu1pOh4zegPdrnWcOI71iU6F3dHE040TtTAE.dKi"], ["created_at", "2016-05-04 06:49:39.752514"], ["updated_at", "2016-05-04 06:49:39.752514"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.755424"], ["updated_at", "2016-05-04 06:49:39.755424"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "80.06"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.774793"], ["updated_at", "2016-05-04 06:49:39.774793"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "71.61"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.778396"], ["updated_at", "2016-05-04 06:49:39.778396"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "73.51"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.781037"], ["updated_at", "2016-05-04 06:49:39.781037"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "49.68"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.783441"], ["updated_at", "2016-05-04 06:49:39.783441"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "23.33"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.786157"], ["updated_at", "2016-05-04 06:49:39.786157"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "53.17"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.788950"], ["updated_at", "2016-05-04 06:49:39.788950"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "36.88"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.791516"], ["updated_at", "2016-05-04 06:49:39.791516"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "68.19"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.794241"], ["updated_at", "2016-05-04 06:49:39.794241"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "65.37"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.820608"], ["updated_at", "2016-05-04 06:49:39.820608"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "71.26"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.825250"], ["updated_at", "2016-05-04 06:49:39.825250"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "16.48"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.828883"], ["updated_at", "2016-05-04 06:49:39.828883"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "81.85"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.832269"], ["updated_at", "2016-05-04 06:49:39.832269"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "71.1"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.835350"], ["updated_at", "2016-05-04 06:49:39.835350"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "67.55"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.838433"], ["updated_at", "2016-05-04 06:49:39.838433"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "69.57"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.842969"], ["updated_at", "2016-05-04 06:49:39.842969"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "13.45"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.846155"], ["updated_at", "2016-05-04 06:49:39.846155"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "58.14"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.854668"], ["updated_at", "2016-05-04 06:49:39.854668"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "32.67"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.859286"], ["updated_at", "2016-05-04 06:49:39.859286"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "74.96"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.862342"], ["updated_at", "2016-05-04 06:49:39.862342"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "22.44"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.865217"], ["updated_at", "2016-05-04 06:49:39.865217"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "4.97"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.868501"], ["updated_at", "2016-05-04 06:49:39.868501"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "61.26"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.871605"], ["updated_at", "2016-05-04 06:49:39.871605"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "44.44"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.874460"], ["updated_at", "2016-05-04 06:49:39.874460"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "23.07"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:39.877021"], ["updated_at", "2016-05-04 06:49:39.877021"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_delivery"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1556.6ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'francis.mayert@hermiston.biz' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Jany"], ["lastname", "Stroman"], ["email", "francis.mayert@hermiston.biz"], ["encrypted_password", "$2a$04$tqEKnabQDYy6BRCe.b8vWe9hqHe06dcXNPlIfYu7mTC2nWxmHGV1m"], ["created_at", "2016-05-04 06:49:56.075374"], ["updated_at", "2016-05-04 06:49:56.075374"]]
  [1m[35m (12.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "35.07"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.164334"], ["updated_at", "2016-05-04 06:49:56.164334"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "74.15"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.173172"], ["updated_at", "2016-05-04 06:49:56.173172"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'tracy@mcglynn.net' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Brennon"], ["lastname", "Jacobi"], ["email", "tracy@mcglynn.net"], ["encrypted_password", "$2a$04$tSlfztzgxkHly2IV71LUKuDBTMYyzoaeLNFIRf7WKN7Orben7a0kG"], ["created_at", "2016-05-04 06:49:56.182951"], ["updated_at", "2016-05-04 06:49:56.182951"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.186232"], ["updated_at", "2016-05-04 06:49:56.186232"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "96.35"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.210597"], ["updated_at", "2016-05-04 06:49:56.210597"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "47.03"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.215935"], ["updated_at", "2016-05-04 06:49:56.215935"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "91.43"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.220175"], ["updated_at", "2016-05-04 06:49:56.220175"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "76.71"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.223766"], ["updated_at", "2016-05-04 06:49:56.223766"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "83.91"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.227117"], ["updated_at", "2016-05-04 06:49:56.227117"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "55.08"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.230428"], ["updated_at", "2016-05-04 06:49:56.230428"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "33.31"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.233493"], ["updated_at", "2016-05-04 06:49:56.233493"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "10.76"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.236798"], ["updated_at", "2016-05-04 06:49:56.236798"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "38.7"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.248790"], ["updated_at", "2016-05-04 06:49:56.248790"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "52.16"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.252375"], ["updated_at", "2016-05-04 06:49:56.252375"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "32.03"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.255261"], ["updated_at", "2016-05-04 06:49:56.255261"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "52.27"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.257832"], ["updated_at", "2016-05-04 06:49:56.257832"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "54.29"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.260320"], ["updated_at", "2016-05-04 06:49:56.260320"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "34.19"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.262857"], ["updated_at", "2016-05-04 06:49:56.262857"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "74.34"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.265417"], ["updated_at", "2016-05-04 06:49:56.265417"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "24.41"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.278974"], ["updated_at", "2016-05-04 06:49:56.278974"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "44.88"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.286318"], ["updated_at", "2016-05-04 06:49:56.286318"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "36.44"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.290030"], ["updated_at", "2016-05-04 06:49:56.290030"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "88.77"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.292714"], ["updated_at", "2016-05-04 06:49:56.292714"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "78.41"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.295022"], ["updated_at", "2016-05-04 06:49:56.295022"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "63.94"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.297254"], ["updated_at", "2016-05-04 06:49:56.297254"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "21.81"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.299958"], ["updated_at", "2016-05-04 06:49:56.299958"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "92.41"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.302491"], ["updated_at", "2016-05-04 06:49:56.302491"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "55.78"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:49:56.305096"], ["updated_at", "2016-05-04 06:49:56.305096"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_delivery"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1588.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'merlin_grimes@marks.name' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Alberta"], ["lastname", "Walker"], ["email", "merlin_grimes@marks.name"], ["encrypted_password", "$2a$04$ZQNF0AhApu.yL6X2adqFzO/6cHYPD0X8s37/yp1KeK9RU0ShQYGXG"], ["created_at", "2016-05-04 06:50:54.984312"], ["updated_at", "2016-05-04 06:50:54.984312"]]
  [1m[35m (11.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "57.41"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.060057"], ["updated_at", "2016-05-04 06:50:55.060057"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "88.76"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.067904"], ["updated_at", "2016-05-04 06:50:55.067904"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'hilda@ritchie.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Carolanne"], ["lastname", "Rodriguez"], ["email", "hilda@ritchie.com"], ["encrypted_password", "$2a$04$gnoRHAUW5/1KUKhOQcG0heUN8H0AXAKaPdu3mQG7cmb0hrOAMKCDW"], ["created_at", "2016-05-04 06:50:55.077374"], ["updated_at", "2016-05-04 06:50:55.077374"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.080680"], ["updated_at", "2016-05-04 06:50:55.080680"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "17.05"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.103411"], ["updated_at", "2016-05-04 06:50:55.103411"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "76.8"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.106817"], ["updated_at", "2016-05-04 06:50:55.106817"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "22.54"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.110229"], ["updated_at", "2016-05-04 06:50:55.110229"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "51.65"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.124334"], ["updated_at", "2016-05-04 06:50:55.124334"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "79.85"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.127039"], ["updated_at", "2016-05-04 06:50:55.127039"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "13.12"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.129510"], ["updated_at", "2016-05-04 06:50:55.129510"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "68.61"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.132150"], ["updated_at", "2016-05-04 06:50:55.132150"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "90.28"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.134586"], ["updated_at", "2016-05-04 06:50:55.134586"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "49.34"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.145029"], ["updated_at", "2016-05-04 06:50:55.145029"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "13.25"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.148517"], ["updated_at", "2016-05-04 06:50:55.148517"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "0.07"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.151285"], ["updated_at", "2016-05-04 06:50:55.151285"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "13.63"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.153713"], ["updated_at", "2016-05-04 06:50:55.153713"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "35.45"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.156231"], ["updated_at", "2016-05-04 06:50:55.156231"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "25.87"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.158638"], ["updated_at", "2016-05-04 06:50:55.158638"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "94.8"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.160946"], ["updated_at", "2016-05-04 06:50:55.160946"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "63.14"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.163376"], ["updated_at", "2016-05-04 06:50:55.163376"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "39.36"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.170307"], ["updated_at", "2016-05-04 06:50:55.170307"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "63.66"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.173886"], ["updated_at", "2016-05-04 06:50:55.173886"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "23.72"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.176517"], ["updated_at", "2016-05-04 06:50:55.176517"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "50.84"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.178765"], ["updated_at", "2016-05-04 06:50:55.178765"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "66.22"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.181099"], ["updated_at", "2016-05-04 06:50:55.181099"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "86.83"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.183492"], ["updated_at", "2016-05-04 06:50:55.183492"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "20.4"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.185818"], ["updated_at", "2016-05-04 06:50:55.185818"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "47.22"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:50:55.188035"], ["updated_at", "2016-05-04 06:50:55.188035"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_delivery"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1660.6ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'misael.walsh@stehr.name' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Lorna"], ["lastname", "Rodriguez"], ["email", "misael.walsh@stehr.name"], ["encrypted_password", "$2a$04$v/ndPPkNBg15Vqis4YfLR.4xIHVhuK/GMts07H5Odx.z7sqPOecrK"], ["created_at", "2016-05-04 06:51:20.124260"], ["updated_at", "2016-05-04 06:51:20.124260"]]
  [1m[35m (9.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "36.54"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.194383"], ["updated_at", "2016-05-04 06:51:20.194383"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "67.9"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.201661"], ["updated_at", "2016-05-04 06:51:20.201661"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'arvel@hartmann.io' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Norbert"], ["lastname", "Breitenberg"], ["email", "arvel@hartmann.io"], ["encrypted_password", "$2a$04$yJDUSoMexQ.fzx72MYfrBOWxYocLiHYyDLkf5fqNiS5lhupOwIoma"], ["created_at", "2016-05-04 06:51:20.209368"], ["updated_at", "2016-05-04 06:51:20.209368"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.212047"], ["updated_at", "2016-05-04 06:51:20.212047"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "96.57"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.232845"], ["updated_at", "2016-05-04 06:51:20.232845"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "2.31"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.236934"], ["updated_at", "2016-05-04 06:51:20.236934"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "88.37"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.239613"], ["updated_at", "2016-05-04 06:51:20.239613"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "71.61"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.242261"], ["updated_at", "2016-05-04 06:51:20.242261"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "48.66"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.244997"], ["updated_at", "2016-05-04 06:51:20.244997"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "35.25"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.247623"], ["updated_at", "2016-05-04 06:51:20.247623"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "84.35"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.250274"], ["updated_at", "2016-05-04 06:51:20.250274"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "93.53"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.253009"], ["updated_at", "2016-05-04 06:51:20.253009"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "84.14"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.274608"], ["updated_at", "2016-05-04 06:51:20.274608"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "9.81"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.277446"], ["updated_at", "2016-05-04 06:51:20.277446"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "15.31"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.279758"], ["updated_at", "2016-05-04 06:51:20.279758"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "56.3"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.281851"], ["updated_at", "2016-05-04 06:51:20.281851"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "59.27"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.283974"], ["updated_at", "2016-05-04 06:51:20.283974"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "81.39"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.286127"], ["updated_at", "2016-05-04 06:51:20.286127"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "27.43"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.288315"], ["updated_at", "2016-05-04 06:51:20.288315"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "72.89"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.290543"], ["updated_at", "2016-05-04 06:51:20.290543"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "87.95"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.296636"], ["updated_at", "2016-05-04 06:51:20.296636"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "60.69"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.300364"], ["updated_at", "2016-05-04 06:51:20.300364"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "88.32"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.303512"], ["updated_at", "2016-05-04 06:51:20.303512"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "80.04"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.305949"], ["updated_at", "2016-05-04 06:51:20.305949"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "75.62"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.308431"], ["updated_at", "2016-05-04 06:51:20.308431"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "69.06"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.310586"], ["updated_at", "2016-05-04 06:51:20.310586"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "95.2"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.312871"], ["updated_at", "2016-05-04 06:51:20.312871"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "47.5"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.315760"], ["updated_at", "2016-05-04 06:51:20.315760"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_delivery"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "57.76"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.321711"], ["updated_at", "2016-05-04 06:51:20.321711"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "48.61"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.324246"], ["updated_at", "2016-05-04 06:51:20.324246"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "91.25"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.326431"], ["updated_at", "2016-05-04 06:51:20.326431"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "52.14"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.328576"], ["updated_at", "2016-05-04 06:51:20.328576"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "33.15"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.330707"], ["updated_at", "2016-05-04 06:51:20.330707"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "18.85"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.333798"], ["updated_at", "2016-05-04 06:51:20.333798"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "48.92"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.336098"], ["updated_at", "2016-05-04 06:51:20.336098"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "81.28"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 06:51:20.338328"], ["updated_at", "2016-05-04 06:51:20.338328"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "delivered"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (28.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (51.0ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (48.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1581.9ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'dario@toy.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Nolan"], ["lastname", "Skiles"], ["email", "dario@toy.com"], ["encrypted_password", "$2a$04$HLDF7MYOFYLWsuL7bFG0JuqgdU7wCe/iACbC7g2dGUSz4hbf8hHBq"], ["created_at", "2016-05-04 08:04:54.756395"], ["updated_at", "2016-05-04 08:04:54.756395"]]
  [1m[35m (36.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "19.93"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:54.918000"], ["updated_at", "2016-05-04 08:04:54.918000"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "92.42"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:54.987612"], ["updated_at", "2016-05-04 08:04:54.987612"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'wendy@zieme.io' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Laurianne"], ["lastname", "Schoen"], ["email", "wendy@zieme.io"], ["encrypted_password", "$2a$04$vHBdCX/oipbL1MlJSaxKHO6Gl/Ob3mzGb3d90yMdU8lYWCz70HDgO"], ["created_at", "2016-05-04 08:04:55.003277"], ["updated_at", "2016-05-04 08:04:55.003277"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.009072"], ["updated_at", "2016-05-04 08:04:55.009072"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "31.0"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.062226"], ["updated_at", "2016-05-04 08:04:55.062226"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "72.09"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.069068"], ["updated_at", "2016-05-04 08:04:55.069068"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "22.93"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.074409"], ["updated_at", "2016-05-04 08:04:55.074409"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "53.92"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.095361"], ["updated_at", "2016-05-04 08:04:55.095361"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "98.87"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.099532"], ["updated_at", "2016-05-04 08:04:55.099532"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "36.42"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.103273"], ["updated_at", "2016-05-04 08:04:55.103273"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "33.58"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.106882"], ["updated_at", "2016-05-04 08:04:55.106882"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "52.79"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.110423"], ["updated_at", "2016-05-04 08:04:55.110423"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "69.67"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.125459"], ["updated_at", "2016-05-04 08:04:55.125459"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "91.09"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.130466"], ["updated_at", "2016-05-04 08:04:55.130466"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "16.5"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.134072"], ["updated_at", "2016-05-04 08:04:55.134072"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "27.05"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.137596"], ["updated_at", "2016-05-04 08:04:55.137596"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "59.64"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.140772"], ["updated_at", "2016-05-04 08:04:55.140772"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "35.51"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.143867"], ["updated_at", "2016-05-04 08:04:55.143867"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "80.66"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.146923"], ["updated_at", "2016-05-04 08:04:55.146923"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "89.56"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.149925"], ["updated_at", "2016-05-04 08:04:55.149925"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "42.86"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.158010"], ["updated_at", "2016-05-04 08:04:55.158010"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "54.8"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.162329"], ["updated_at", "2016-05-04 08:04:55.162329"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "86.22"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.165527"], ["updated_at", "2016-05-04 08:04:55.165527"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "71.02"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.168454"], ["updated_at", "2016-05-04 08:04:55.168454"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "93.09"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.171218"], ["updated_at", "2016-05-04 08:04:55.171218"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "21.89"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.174010"], ["updated_at", "2016-05-04 08:04:55.174010"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "92.47"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.176889"], ["updated_at", "2016-05-04 08:04:55.176889"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "38.1"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.180062"], ["updated_at", "2016-05-04 08:04:55.180062"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_delivery"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "98.47"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.188453"], ["updated_at", "2016-05-04 08:04:55.188453"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "87.4"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.192539"], ["updated_at", "2016-05-04 08:04:55.192539"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "10.96"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.195644"], ["updated_at", "2016-05-04 08:04:55.195644"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "67.35"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.198718"], ["updated_at", "2016-05-04 08:04:55.198718"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "30.71"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.201576"], ["updated_at", "2016-05-04 08:04:55.201576"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "73.05"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.204387"], ["updated_at", "2016-05-04 08:04:55.204387"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "61.24"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.207141"], ["updated_at", "2016-05-04 08:04:55.207141"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "72.56"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:04:55.209921"], ["updated_at", "2016-05-04 08:04:55.209921"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "delivered"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1326.2ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'delbert_nolan@runolfsdottirortiz.org' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Turner"], ["lastname", "Lehner"], ["email", "delbert_nolan@runolfsdottirortiz.org"], ["encrypted_password", "$2a$04$f3AnN0s.8pCAg6ynhnNZNeRIT6o1ZEUi6YRH.lx0tyZpVpZAon5hC"], ["created_at", "2016-05-04 08:08:29.756018"], ["updated_at", "2016-05-04 08:08:29.756018"]]
  [1m[35m (3.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "44.38"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.823728"], ["updated_at", "2016-05-04 08:08:29.823728"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "50.14"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.829885"], ["updated_at", "2016-05-04 08:08:29.829885"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'trey@wymanrunolfsdottir.co' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Danielle"], ["lastname", "Jacobi"], ["email", "trey@wymanrunolfsdottir.co"], ["encrypted_password", "$2a$04$6NGm77zwfR2AClpEQWdmfOdVEsk9Z6.HOOAbkU43.RB1qA1D7NnQC"], ["created_at", "2016-05-04 08:08:29.837721"], ["updated_at", "2016-05-04 08:08:29.837721"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.840411"], ["updated_at", "2016-05-04 08:08:29.840411"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "88.91"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.859053"], ["updated_at", "2016-05-04 08:08:29.859053"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "62.18"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.872837"], ["updated_at", "2016-05-04 08:08:29.872837"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "65.09"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.875536"], ["updated_at", "2016-05-04 08:08:29.875536"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "77.72"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.878499"], ["updated_at", "2016-05-04 08:08:29.878499"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "32.5"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.880905"], ["updated_at", "2016-05-04 08:08:29.880905"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "83.7"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.883152"], ["updated_at", "2016-05-04 08:08:29.883152"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "9.09"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.885357"], ["updated_at", "2016-05-04 08:08:29.885357"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "50.12"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.887714"], ["updated_at", "2016-05-04 08:08:29.887714"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "96.56"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.897610"], ["updated_at", "2016-05-04 08:08:29.897610"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "97.98"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.900900"], ["updated_at", "2016-05-04 08:08:29.900900"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "37.79"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.903421"], ["updated_at", "2016-05-04 08:08:29.903421"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "23.25"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.905915"], ["updated_at", "2016-05-04 08:08:29.905915"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "23.44"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.908076"], ["updated_at", "2016-05-04 08:08:29.908076"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "65.95"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.910208"], ["updated_at", "2016-05-04 08:08:29.910208"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "27.1"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.912326"], ["updated_at", "2016-05-04 08:08:29.912326"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "88.15"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.914465"], ["updated_at", "2016-05-04 08:08:29.914465"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "11.8"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.920794"], ["updated_at", "2016-05-04 08:08:29.920794"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "32.13"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.923385"], ["updated_at", "2016-05-04 08:08:29.923385"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "42.41"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.925528"], ["updated_at", "2016-05-04 08:08:29.925528"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "20.25"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.927708"], ["updated_at", "2016-05-04 08:08:29.927708"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "7.29"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.929941"], ["updated_at", "2016-05-04 08:08:29.929941"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "78.33"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.932017"], ["updated_at", "2016-05-04 08:08:29.932017"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "32.74"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.934908"], ["updated_at", "2016-05-04 08:08:29.934908"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "48.29"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.937238"], ["updated_at", "2016-05-04 08:08:29.937238"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_delivery"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "66.85"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.942701"], ["updated_at", "2016-05-04 08:08:29.942701"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "1.11"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.945290"], ["updated_at", "2016-05-04 08:08:29.945290"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "91.11"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.947412"], ["updated_at", "2016-05-04 08:08:29.947412"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "31.92"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.949548"], ["updated_at", "2016-05-04 08:08:29.949548"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "47.31"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.952499"], ["updated_at", "2016-05-04 08:08:29.952499"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "69.79"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.954775"], ["updated_at", "2016-05-04 08:08:29.954775"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "93.96"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.956897"], ["updated_at", "2016-05-04 08:08:29.956897"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "14.97"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:08:29.959016"], ["updated_at", "2016-05-04 08:08:29.959016"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "delivered"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.6ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1648.3ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'schuyler@jacobs.net' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Quinton"], ["lastname", "Haley"], ["email", "schuyler@jacobs.net"], ["encrypted_password", "$2a$04$.KlBL4pK7Oaa854S0Nvx9ua92PQXrrWOO3YnCV6j/FSWMOLAZB9Nq"], ["created_at", "2016-05-04 08:09:48.197455"], ["updated_at", "2016-05-04 08:09:48.197455"]]
  [1m[35m (11.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "74.3"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.274526"], ["updated_at", "2016-05-04 08:09:48.274526"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "15.07"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.281008"], ["updated_at", "2016-05-04 08:09:48.281008"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'kobe_kuphal@kuhlmanolson.name' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Jovan"], ["lastname", "D'Amore"], ["email", "kobe_kuphal@kuhlmanolson.name"], ["encrypted_password", "$2a$04$m1zfa1/vKRZLR/OQdtWlAuBlKe71RbTVzCSOrrRrmjWJnJ8qDdS4a"], ["created_at", "2016-05-04 08:09:48.290081"], ["updated_at", "2016-05-04 08:09:48.290081"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.292744"], ["updated_at", "2016-05-04 08:09:48.292744"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "85.29"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.312569"], ["updated_at", "2016-05-04 08:09:48.312569"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "53.27"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.327147"], ["updated_at", "2016-05-04 08:09:48.327147"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "96.16"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.329816"], ["updated_at", "2016-05-04 08:09:48.329816"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "19.07"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.332357"], ["updated_at", "2016-05-04 08:09:48.332357"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "14.25"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.334740"], ["updated_at", "2016-05-04 08:09:48.334740"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "80.71"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.336933"], ["updated_at", "2016-05-04 08:09:48.336933"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "48.64"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.339216"], ["updated_at", "2016-05-04 08:09:48.339216"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "80.86"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.341439"], ["updated_at", "2016-05-04 08:09:48.341439"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "82.77"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.350991"], ["updated_at", "2016-05-04 08:09:48.350991"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "0.19"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.356229"], ["updated_at", "2016-05-04 08:09:48.356229"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "14.26"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.361535"], ["updated_at", "2016-05-04 08:09:48.361535"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "13.22"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.366487"], ["updated_at", "2016-05-04 08:09:48.366487"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "95.62"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.371223"], ["updated_at", "2016-05-04 08:09:48.371223"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "94.44"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.375319"], ["updated_at", "2016-05-04 08:09:48.375319"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "39.34"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.378393"], ["updated_at", "2016-05-04 08:09:48.378393"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "45.6"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.381320"], ["updated_at", "2016-05-04 08:09:48.381320"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "75.04"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.391524"], ["updated_at", "2016-05-04 08:09:48.391524"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "4.11"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.397014"], ["updated_at", "2016-05-04 08:09:48.397014"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "13.2"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.400718"], ["updated_at", "2016-05-04 08:09:48.400718"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "77.94"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.404212"], ["updated_at", "2016-05-04 08:09:48.404212"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "27.92"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.407549"], ["updated_at", "2016-05-04 08:09:48.407549"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "85.57"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.410949"], ["updated_at", "2016-05-04 08:09:48.410949"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "77.31"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.413924"], ["updated_at", "2016-05-04 08:09:48.413924"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "81.11"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.416765"], ["updated_at", "2016-05-04 08:09:48.416765"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_delivery"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "30.06"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.425133"], ["updated_at", "2016-05-04 08:09:48.425133"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "84.11"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.429729"], ["updated_at", "2016-05-04 08:09:48.429729"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "99.65"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.433012"], ["updated_at", "2016-05-04 08:09:48.433012"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "11.28"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.436114"], ["updated_at", "2016-05-04 08:09:48.436114"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "49.11"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.439263"], ["updated_at", "2016-05-04 08:09:48.439263"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "29.21"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.442384"], ["updated_at", "2016-05-04 08:09:48.442384"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "94.6"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.445869"], ["updated_at", "2016-05-04 08:09:48.445869"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "98.88"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:09:48.449016"], ["updated_at", "2016-05-04 08:09:48.449016"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "delivered"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1774.5ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'isidro@swaniawskischiller.info' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Nikko"], ["lastname", "Torp"], ["email", "isidro@swaniawskischiller.info"], ["encrypted_password", "$2a$04$xfJzuWSxqDX8lSzKR2k/c.r2AZh2YmS.0cko20dHYyERcUOQM48t2"], ["created_at", "2016-05-04 08:14:08.221091"], ["updated_at", "2016-05-04 08:14:08.221091"]]
  [1m[35m (5.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "68.26"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.296150"], ["updated_at", "2016-05-04 08:14:08.296150"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "18.12"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.303732"], ["updated_at", "2016-05-04 08:14:08.303732"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'alisha@harris.name' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Imani"], ["lastname", "Brekke"], ["email", "alisha@harris.name"], ["encrypted_password", "$2a$04$lUoepEUWpPu.0v0EIlvqKePNsoOKPKUUWLrVpU7VP4D7Whq8rDxjW"], ["created_at", "2016-05-04 08:14:08.313391"], ["updated_at", "2016-05-04 08:14:08.313391"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.316260"], ["updated_at", "2016-05-04 08:14:08.316260"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "99.21"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.337306"], ["updated_at", "2016-05-04 08:14:08.337306"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "1.5"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.383078"], ["updated_at", "2016-05-04 08:14:08.383078"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "11.59"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.387467"], ["updated_at", "2016-05-04 08:14:08.387467"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "46.04"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.392580"], ["updated_at", "2016-05-04 08:14:08.392580"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "60.49"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.397499"], ["updated_at", "2016-05-04 08:14:08.397499"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "82.82"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.402430"], ["updated_at", "2016-05-04 08:14:08.402430"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "45.44"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.406902"], ["updated_at", "2016-05-04 08:14:08.406902"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "68.29"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.412253"], ["updated_at", "2016-05-04 08:14:08.412253"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "42.73"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.429977"], ["updated_at", "2016-05-04 08:14:08.429977"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "52.49"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.434946"], ["updated_at", "2016-05-04 08:14:08.434946"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "87.49"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.438741"], ["updated_at", "2016-05-04 08:14:08.438741"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "85.31"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.442267"], ["updated_at", "2016-05-04 08:14:08.442267"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "51.17"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.445908"], ["updated_at", "2016-05-04 08:14:08.445908"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "91.96"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.449584"], ["updated_at", "2016-05-04 08:14:08.449584"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "5.94"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.453180"], ["updated_at", "2016-05-04 08:14:08.453180"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "70.84"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.457194"], ["updated_at", "2016-05-04 08:14:08.457194"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "82.27"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.466125"], ["updated_at", "2016-05-04 08:14:08.466125"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "23.99"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.470474"], ["updated_at", "2016-05-04 08:14:08.470474"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "10.97"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.474318"], ["updated_at", "2016-05-04 08:14:08.474318"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "18.2"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.477839"], ["updated_at", "2016-05-04 08:14:08.477839"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "61.3"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.481333"], ["updated_at", "2016-05-04 08:14:08.481333"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "34.77"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.484498"], ["updated_at", "2016-05-04 08:14:08.484498"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "10.41"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.488209"], ["updated_at", "2016-05-04 08:14:08.488209"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "35.02"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.491221"], ["updated_at", "2016-05-04 08:14:08.491221"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_delivery"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "70.62"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.498394"], ["updated_at", "2016-05-04 08:14:08.498394"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "70.42"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.533140"], ["updated_at", "2016-05-04 08:14:08.533140"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "41.88"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.536483"], ["updated_at", "2016-05-04 08:14:08.536483"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "46.07"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.539388"], ["updated_at", "2016-05-04 08:14:08.539388"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "74.29"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.542225"], ["updated_at", "2016-05-04 08:14:08.542225"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "94.47"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.545136"], ["updated_at", "2016-05-04 08:14:08.545136"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "75.1"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.548142"], ["updated_at", "2016-05-04 08:14:08.548142"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "56.08"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:08.551227"], ["updated_at", "2016-05-04 08:14:08.551227"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "delivered"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1338.8ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'reagan@treutel.com' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Kip"], ["lastname", "Mills"], ["email", "reagan@treutel.com"], ["encrypted_password", "$2a$04$aMqMJrWymky9l1Gd8bA3Ju2F23EUAjYhCIVCrUKHNGvaPswFAtqFq"], ["created_at", "2016-05-04 08:14:45.889829"], ["updated_at", "2016-05-04 08:14:45.889829"]]
  [1m[35m (8.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "78.85"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:45.965272"], ["updated_at", "2016-05-04 08:14:45.965272"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "39.56"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:45.973231"], ["updated_at", "2016-05-04 08:14:45.973231"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'lee@lakinstark.name' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Monroe"], ["lastname", "Weimann"], ["email", "lee@lakinstark.name"], ["encrypted_password", "$2a$04$FAq292VqkLr3RdO3aiF42uZjt0dPk7sHa.IYC7h7z42YDNESR09.S"], ["created_at", "2016-05-04 08:14:45.983285"], ["updated_at", "2016-05-04 08:14:45.983285"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:45.986961"], ["updated_at", "2016-05-04 08:14:45.986961"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "64.1"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.011278"], ["updated_at", "2016-05-04 08:14:46.011278"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "36.52"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.030016"], ["updated_at", "2016-05-04 08:14:46.030016"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "10.04"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.034044"], ["updated_at", "2016-05-04 08:14:46.034044"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "98.54"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.037667"], ["updated_at", "2016-05-04 08:14:46.037667"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "32.62"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.041369"], ["updated_at", "2016-05-04 08:14:46.041369"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "36.95"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.045879"], ["updated_at", "2016-05-04 08:14:46.045879"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "12.53"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.049462"], ["updated_at", "2016-05-04 08:14:46.049462"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "0.87"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.053238"], ["updated_at", "2016-05-04 08:14:46.053238"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "40.5"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.067021"], ["updated_at", "2016-05-04 08:14:46.067021"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "28.35"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.070964"], ["updated_at", "2016-05-04 08:14:46.070964"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "74.44"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.074745"], ["updated_at", "2016-05-04 08:14:46.074745"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "57.18"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.079293"], ["updated_at", "2016-05-04 08:14:46.079293"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "94.5"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.083034"], ["updated_at", "2016-05-04 08:14:46.083034"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "67.35"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.086335"], ["updated_at", "2016-05-04 08:14:46.086335"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "44.34"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.090077"], ["updated_at", "2016-05-04 08:14:46.090077"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "76.77"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.094248"], ["updated_at", "2016-05-04 08:14:46.094248"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "86.16"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.103412"], ["updated_at", "2016-05-04 08:14:46.103412"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "91.3"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.107391"], ["updated_at", "2016-05-04 08:14:46.107391"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "91.85"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.111602"], ["updated_at", "2016-05-04 08:14:46.111602"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "83.76"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.115573"], ["updated_at", "2016-05-04 08:14:46.115573"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "58.55"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.119734"], ["updated_at", "2016-05-04 08:14:46.119734"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "30.01"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.123763"], ["updated_at", "2016-05-04 08:14:46.123763"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "33.75"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.128877"], ["updated_at", "2016-05-04 08:14:46.128877"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "59.66"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.133156"], ["updated_at", "2016-05-04 08:14:46.133156"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_delivery"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "14.39"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.142195"], ["updated_at", "2016-05-04 08:14:46.142195"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "23.82"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.146088"], ["updated_at", "2016-05-04 08:14:46.146088"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "50.74"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.150415"], ["updated_at", "2016-05-04 08:14:46.150415"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "60.05"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.153787"], ["updated_at", "2016-05-04 08:14:46.153787"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "57.47"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.157524"], ["updated_at", "2016-05-04 08:14:46.157524"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "74.57"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.161886"], ["updated_at", "2016-05-04 08:14:46.161886"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "59.53"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.165533"], ["updated_at", "2016-05-04 08:14:46.165533"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "6.43"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:14:46.169122"], ["updated_at", "2016-05-04 08:14:46.169122"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "delivered"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1411.4ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'herta@oberbrunner.biz' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Laisha"], ["lastname", "Kunde"], ["email", "herta@oberbrunner.biz"], ["encrypted_password", "$2a$04$7nDghutoBzN0CC4u2qMk2.WnLaQB0XRS6ao76Xh2beValobJMtv8m"], ["created_at", "2016-05-04 08:15:37.554529"], ["updated_at", "2016-05-04 08:15:37.554529"]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "33.03"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.634825"], ["updated_at", "2016-05-04 08:15:37.634825"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "58.28"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.642427"], ["updated_at", "2016-05-04 08:15:37.642427"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'roosevelt_lebsack@gottliebluettgen.io' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Cara"], ["lastname", "Kilback"], ["email", "roosevelt_lebsack@gottliebluettgen.io"], ["encrypted_password", "$2a$04$Zzdh2YJVHTeu7.VkJjKiCeJhDCEUVA4jgBWdeGuoA994GxXr3kvVe"], ["created_at", "2016-05-04 08:15:37.652067"], ["updated_at", "2016-05-04 08:15:37.652067"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.655250"], ["updated_at", "2016-05-04 08:15:37.655250"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "27.82"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.678320"], ["updated_at", "2016-05-04 08:15:37.678320"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "71.09"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.684336"], ["updated_at", "2016-05-04 08:15:37.684336"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "55.69"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.703393"], ["updated_at", "2016-05-04 08:15:37.703393"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "22.63"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.707142"], ["updated_at", "2016-05-04 08:15:37.707142"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "93.25"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.710422"], ["updated_at", "2016-05-04 08:15:37.710422"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "20.02"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.713548"], ["updated_at", "2016-05-04 08:15:37.713548"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "75.26"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.716603"], ["updated_at", "2016-05-04 08:15:37.716603"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "62.08"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.719590"], ["updated_at", "2016-05-04 08:15:37.719590"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "78.34"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.731919"], ["updated_at", "2016-05-04 08:15:37.731919"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "29.53"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.735987"], ["updated_at", "2016-05-04 08:15:37.735987"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "90.12"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.739014"], ["updated_at", "2016-05-04 08:15:37.739014"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "53.14"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.742234"], ["updated_at", "2016-05-04 08:15:37.742234"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "54.57"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.745090"], ["updated_at", "2016-05-04 08:15:37.745090"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "28.61"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.747652"], ["updated_at", "2016-05-04 08:15:37.747652"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "6.05"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.750938"], ["updated_at", "2016-05-04 08:15:37.750938"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "75.72"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.753968"], ["updated_at", "2016-05-04 08:15:37.753968"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "85.65"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.761009"], ["updated_at", "2016-05-04 08:15:37.761009"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "71.61"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.763630"], ["updated_at", "2016-05-04 08:15:37.763630"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "60.99"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.765925"], ["updated_at", "2016-05-04 08:15:37.765925"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "49.93"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.768842"], ["updated_at", "2016-05-04 08:15:37.768842"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "87.49"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.771380"], ["updated_at", "2016-05-04 08:15:37.771380"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "95.09"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.773985"], ["updated_at", "2016-05-04 08:15:37.773985"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "81.92"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.776770"], ["updated_at", "2016-05-04 08:15:37.776770"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "93.88"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.779167"], ["updated_at", "2016-05-04 08:15:37.779167"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_delivery"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "5.19"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.787111"], ["updated_at", "2016-05-04 08:15:37.787111"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "13.48"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.792380"], ["updated_at", "2016-05-04 08:15:37.792380"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "34.27"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.797199"], ["updated_at", "2016-05-04 08:15:37.797199"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "65.97"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.800893"], ["updated_at", "2016-05-04 08:15:37.800893"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "17.25"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.803494"], ["updated_at", "2016-05-04 08:15:37.803494"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "91.82"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.805785"], ["updated_at", "2016-05-04 08:15:37.805785"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "74.87"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.808237"], ["updated_at", "2016-05-04 08:15:37.808237"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "61.26"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:15:37.810578"], ["updated_at", "2016-05-04 08:15:37.810578"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "delivered"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1374.5ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'emanuel@langoshstreich.net' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Miles"], ["lastname", "Heaney"], ["email", "emanuel@langoshstreich.net"], ["encrypted_password", "$2a$04$.yI0b44BoQTuPq0yNxiY.upRhAEfcGv1hFv9YqPhMJ2QRXeoB1PYK"], ["created_at", "2016-05-04 08:16:06.562164"], ["updated_at", "2016-05-04 08:16:06.562164"]]
  [1m[35m (10.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "40.32"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:06.640057"], ["updated_at", "2016-05-04 08:16:06.640057"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "98.16"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:06.646651"], ["updated_at", "2016-05-04 08:16:06.646651"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'brenda.pouros@corkery.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Jettie"], ["lastname", "Williamson"], ["email", "brenda.pouros@corkery.com"], ["encrypted_password", "$2a$04$2rFW6ZxgRkulOVL2maZ/FON0OQijzAog27zMrb1IamMntoogWtP5y"], ["created_at", "2016-05-04 08:16:06.656093"], ["updated_at", "2016-05-04 08:16:06.656093"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:06.658896"], ["updated_at", "2016-05-04 08:16:06.658896"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "19.57"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:06.679506"], ["updated_at", "2016-05-04 08:16:06.679506"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "81.35"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:06.683057"], ["updated_at", "2016-05-04 08:16:06.683057"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "67.09"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:06.685627"], ["updated_at", "2016-05-04 08:16:06.685627"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "48.12"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:06.691417"], ["updated_at", "2016-05-04 08:16:06.691417"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "85.15"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:06.694925"], ["updated_at", "2016-05-04 08:16:06.694925"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "3.37"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:06.697984"], ["updated_at", "2016-05-04 08:16:06.697984"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "95.94"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:06.704535"], ["updated_at", "2016-05-04 08:16:06.704535"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "91.58"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:06.719314"], ["updated_at", "2016-05-04 08:16:06.719314"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "86.84"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:06.722295"], ["updated_at", "2016-05-04 08:16:06.722295"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "14.42"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:06.727540"], ["updated_at", "2016-05-04 08:16:06.727540"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "43.79"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:06.730948"], ["updated_at", "2016-05-04 08:16:06.730948"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "52.18"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:06.734535"], ["updated_at", "2016-05-04 08:16:06.734535"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1447.3ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'gustave_abshire@langosh.io' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Susanna"], ["lastname", "Gerhold"], ["email", "gustave_abshire@langosh.io"], ["encrypted_password", "$2a$04$m5LgZ.NWoDkoCm5lOBw3N.DBQZ/7N3ZmcyXt1if5RHz8AXXjSwine"], ["created_at", "2016-05-04 08:16:26.307811"], ["updated_at", "2016-05-04 08:16:26.307811"]]
  [1m[35m (12.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "39.91"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.395886"], ["updated_at", "2016-05-04 08:16:26.395886"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "83.71"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.404909"], ["updated_at", "2016-05-04 08:16:26.404909"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'bernita@mcglynn.net' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Claud"], ["lastname", "Fadel"], ["email", "bernita@mcglynn.net"], ["encrypted_password", "$2a$04$pIAu3LR12riltXs70jy2VOVa4Ypq02omFxk1sZjwJiM4ftcOh6I5e"], ["created_at", "2016-05-04 08:16:26.414748"], ["updated_at", "2016-05-04 08:16:26.414748"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.418057"], ["updated_at", "2016-05-04 08:16:26.418057"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (11.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "26.66"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.440817"], ["updated_at", "2016-05-04 08:16:26.440817"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "92.06"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.455115"], ["updated_at", "2016-05-04 08:16:26.455115"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "94.56"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.457647"], ["updated_at", "2016-05-04 08:16:26.457647"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "18.0"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.460035"], ["updated_at", "2016-05-04 08:16:26.460035"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "69.68"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.462459"], ["updated_at", "2016-05-04 08:16:26.462459"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "62.25"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.464644"], ["updated_at", "2016-05-04 08:16:26.464644"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "8.7"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.466767"], ["updated_at", "2016-05-04 08:16:26.466767"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "21.33"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.468857"], ["updated_at", "2016-05-04 08:16:26.468857"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "63.1"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.478532"], ["updated_at", "2016-05-04 08:16:26.478532"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "58.45"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.481724"], ["updated_at", "2016-05-04 08:16:26.481724"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "29.8"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.484226"], ["updated_at", "2016-05-04 08:16:26.484226"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "12.77"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.486600"], ["updated_at", "2016-05-04 08:16:26.486600"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "86.45"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.488851"], ["updated_at", "2016-05-04 08:16:26.488851"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "42.19"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.491045"], ["updated_at", "2016-05-04 08:16:26.491045"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "16.38"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.493122"], ["updated_at", "2016-05-04 08:16:26.493122"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "18.61"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.495266"], ["updated_at", "2016-05-04 08:16:26.495266"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "92.2"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.501343"], ["updated_at", "2016-05-04 08:16:26.501343"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "6.81"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.504487"], ["updated_at", "2016-05-04 08:16:26.504487"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "58.15"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.507127"], ["updated_at", "2016-05-04 08:16:26.507127"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "94.74"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.509416"], ["updated_at", "2016-05-04 08:16:26.509416"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "74.15"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.511650"], ["updated_at", "2016-05-04 08:16:26.511650"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "28.82"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.513790"], ["updated_at", "2016-05-04 08:16:26.513790"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "52.47"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.515945"], ["updated_at", "2016-05-04 08:16:26.515945"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "37.97"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.518160"], ["updated_at", "2016-05-04 08:16:26.518160"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_delivery"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "16.23"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.524110"], ["updated_at", "2016-05-04 08:16:26.524110"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "93.46"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.526759"], ["updated_at", "2016-05-04 08:16:26.526759"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "29.31"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.528993"], ["updated_at", "2016-05-04 08:16:26.528993"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "84.73"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.531270"], ["updated_at", "2016-05-04 08:16:26.531270"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "35.72"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.533605"], ["updated_at", "2016-05-04 08:16:26.533605"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "4.53"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.535775"], ["updated_at", "2016-05-04 08:16:26.535775"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "50.79"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.538687"], ["updated_at", "2016-05-04 08:16:26.538687"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "32.07"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:26.541150"], ["updated_at", "2016-05-04 08:16:26.541150"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "delivered"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.1ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1337.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'cedrick.little@quitzon.net' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Raphael"], ["lastname", "Nicolas"], ["email", "cedrick.little@quitzon.net"], ["encrypted_password", "$2a$04$gtjOJtgPWoutOfIZ36FROOkOuAB3sVe69dj0d86Q4B1iO6d706UH."], ["created_at", "2016-05-04 08:16:38.740862"], ["updated_at", "2016-05-04 08:16:38.740862"]]
  [1m[35m (3.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "21.29"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:38.814805"], ["updated_at", "2016-05-04 08:16:38.814805"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "9.38"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:38.822179"], ["updated_at", "2016-05-04 08:16:38.822179"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'kariane@windlerframi.biz' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Camden"], ["lastname", "Shields"], ["email", "kariane@windlerframi.biz"], ["encrypted_password", "$2a$04$YBSszYiypCu7L.eWaIR7S.o99QlEZPmisS.Xi5F9BUQsWwcRoznl2"], ["created_at", "2016-05-04 08:16:38.831822"], ["updated_at", "2016-05-04 08:16:38.831822"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:38.834863"], ["updated_at", "2016-05-04 08:16:38.834863"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "79.16"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:38.856464"], ["updated_at", "2016-05-04 08:16:38.856464"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "52.21"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:38.859951"], ["updated_at", "2016-05-04 08:16:38.859951"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "26.33"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:38.873267"], ["updated_at", "2016-05-04 08:16:38.873267"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "30.0"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:38.878598"], ["updated_at", "2016-05-04 08:16:38.878598"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "82.97"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:38.882735"], ["updated_at", "2016-05-04 08:16:38.882735"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "67.71"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:38.885223"], ["updated_at", "2016-05-04 08:16:38.885223"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "25.26"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:38.890332"], ["updated_at", "2016-05-04 08:16:38.890332"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "57.2"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:38.893289"], ["updated_at", "2016-05-04 08:16:38.893289"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "83.84"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:38.895534"], ["updated_at", "2016-05-04 08:16:38.895534"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "96.66"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:38.901566"], ["updated_at", "2016-05-04 08:16:38.901566"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "86.65"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:38.904690"], ["updated_at", "2016-05-04 08:16:38.904690"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "46.12"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:16:38.907102"], ["updated_at", "2016-05-04 08:16:38.907102"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1297.9ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'willa.pacocha@denesik.io' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Richard"], ["lastname", "Gerhold"], ["email", "willa.pacocha@denesik.io"], ["encrypted_password", "$2a$04$Req4ABcNUt6ou7lpcgwmwevEvSnx8ycsrpJ1F6muNwgWMHG6MNYJy"], ["created_at", "2016-05-04 08:17:09.393552"], ["updated_at", "2016-05-04 08:17:09.393552"]]
  [1m[35m (2.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "70.46"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.467537"], ["updated_at", "2016-05-04 08:17:09.467537"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "5.45"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.475077"], ["updated_at", "2016-05-04 08:17:09.475077"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'nyah_crona@hettinger.info' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Hal"], ["lastname", "Vandervort"], ["email", "nyah_crona@hettinger.info"], ["encrypted_password", "$2a$04$WifHmYS4jb2JYrFRORqX0ekl4ByZBHZWX3jG85lsqJfKowoAEbwje"], ["created_at", "2016-05-04 08:17:09.485020"], ["updated_at", "2016-05-04 08:17:09.485020"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.488107"], ["updated_at", "2016-05-04 08:17:09.488107"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "57.79"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.511368"], ["updated_at", "2016-05-04 08:17:09.511368"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "64.78"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.515469"], ["updated_at", "2016-05-04 08:17:09.515469"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "87.42"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.529431"], ["updated_at", "2016-05-04 08:17:09.529431"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "61.72"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.532395"], ["updated_at", "2016-05-04 08:17:09.532395"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "62.75"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.535070"], ["updated_at", "2016-05-04 08:17:09.535070"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "21.24"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.537552"], ["updated_at", "2016-05-04 08:17:09.537552"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "58.57"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.540048"], ["updated_at", "2016-05-04 08:17:09.540048"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "87.36"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.542446"], ["updated_at", "2016-05-04 08:17:09.542446"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "77.31"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.552393"], ["updated_at", "2016-05-04 08:17:09.552393"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "70.89"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.555919"], ["updated_at", "2016-05-04 08:17:09.555919"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "52.07"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.558471"], ["updated_at", "2016-05-04 08:17:09.558471"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "0.13"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.561006"], ["updated_at", "2016-05-04 08:17:09.561006"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "39.41"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.563376"], ["updated_at", "2016-05-04 08:17:09.563376"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "16.72"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.565822"], ["updated_at", "2016-05-04 08:17:09.565822"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "19.62"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.568150"], ["updated_at", "2016-05-04 08:17:09.568150"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "39.79"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.570949"], ["updated_at", "2016-05-04 08:17:09.570949"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "65.54"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.577605"], ["updated_at", "2016-05-04 08:17:09.577605"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "34.76"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.580150"], ["updated_at", "2016-05-04 08:17:09.580150"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "76.41"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.582387"], ["updated_at", "2016-05-04 08:17:09.582387"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "75.23"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.584567"], ["updated_at", "2016-05-04 08:17:09.584567"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "37.17"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.586974"], ["updated_at", "2016-05-04 08:17:09.586974"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "86.56"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.589799"], ["updated_at", "2016-05-04 08:17:09.589799"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "79.32"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.591978"], ["updated_at", "2016-05-04 08:17:09.591978"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "43.97"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.594240"], ["updated_at", "2016-05-04 08:17:09.594240"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_delivery"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "31.74"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.599635"], ["updated_at", "2016-05-04 08:17:09.599635"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "67.36"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.602179"], ["updated_at", "2016-05-04 08:17:09.602179"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "55.18"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.604960"], ["updated_at", "2016-05-04 08:17:09.604960"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "78.53"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.607309"], ["updated_at", "2016-05-04 08:17:09.607309"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "39.46"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.609745"], ["updated_at", "2016-05-04 08:17:09.609745"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "22.38"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.611935"], ["updated_at", "2016-05-04 08:17:09.611935"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "55.46"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.614132"], ["updated_at", "2016-05-04 08:17:09.614132"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "42.22"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:09.616273"], ["updated_at", "2016-05-04 08:17:09.616273"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "delivered"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1593.8ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'mekhi@conroy.co' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Karli"], ["lastname", "Brakus"], ["email", "mekhi@conroy.co"], ["encrypted_password", "$2a$04$.VQgKb4DYVjitdYRv/gkdO2kgpIXZJ3cFI.R2oNjueJplFah//4ae"], ["created_at", "2016-05-04 08:17:21.998780"], ["updated_at", "2016-05-04 08:17:21.998780"]]
  [1m[35m (11.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "43.4"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.090712"], ["updated_at", "2016-05-04 08:17:22.090712"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "82.82"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.098261"], ["updated_at", "2016-05-04 08:17:22.098261"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'owen@davis.info' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Theodore"], ["lastname", "Becker"], ["email", "owen@davis.info"], ["encrypted_password", "$2a$04$qlV9zAU.sOAAX1q42gEohO634BblhX2RJtvG0SrVSUHrVtqCM7.uK"], ["created_at", "2016-05-04 08:17:22.107108"], ["updated_at", "2016-05-04 08:17:22.107108"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.110210"], ["updated_at", "2016-05-04 08:17:22.110210"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "47.01"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.131743"], ["updated_at", "2016-05-04 08:17:22.131743"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "8.52"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.135437"], ["updated_at", "2016-05-04 08:17:22.135437"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "6.06"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.138171"], ["updated_at", "2016-05-04 08:17:22.138171"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "88.84"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.141129"], ["updated_at", "2016-05-04 08:17:22.141129"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "41.24"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.144006"], ["updated_at", "2016-05-04 08:17:22.144006"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "99.03"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.147002"], ["updated_at", "2016-05-04 08:17:22.147002"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "14.35"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.160515"], ["updated_at", "2016-05-04 08:17:22.160515"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "6.77"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.163386"], ["updated_at", "2016-05-04 08:17:22.163386"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "97.9"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.173547"], ["updated_at", "2016-05-04 08:17:22.173547"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "63.68"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.177157"], ["updated_at", "2016-05-04 08:17:22.177157"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "1.75"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.179939"], ["updated_at", "2016-05-04 08:17:22.179939"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "24.63"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.182482"], ["updated_at", "2016-05-04 08:17:22.182482"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "31.98"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.185013"], ["updated_at", "2016-05-04 08:17:22.185013"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "30.67"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.187418"], ["updated_at", "2016-05-04 08:17:22.187418"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "20.87"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.189705"], ["updated_at", "2016-05-04 08:17:22.189705"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "54.45"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.192489"], ["updated_at", "2016-05-04 08:17:22.192489"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "72.61"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.199626"], ["updated_at", "2016-05-04 08:17:22.199626"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "65.1"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.202614"], ["updated_at", "2016-05-04 08:17:22.202614"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "7.54"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.205035"], ["updated_at", "2016-05-04 08:17:22.205035"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "44.76"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.207773"], ["updated_at", "2016-05-04 08:17:22.207773"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "69.23"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.210949"], ["updated_at", "2016-05-04 08:17:22.210949"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "36.34"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.213368"], ["updated_at", "2016-05-04 08:17:22.213368"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "26.17"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.215758"], ["updated_at", "2016-05-04 08:17:22.215758"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "91.79"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.218110"], ["updated_at", "2016-05-04 08:17:22.218110"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_delivery"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "41.44"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.224698"], ["updated_at", "2016-05-04 08:17:22.224698"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "32.18"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.228012"], ["updated_at", "2016-05-04 08:17:22.228012"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "35.24"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.230962"], ["updated_at", "2016-05-04 08:17:22.230962"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "40.86"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.233450"], ["updated_at", "2016-05-04 08:17:22.233450"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "15.52"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.235794"], ["updated_at", "2016-05-04 08:17:22.235794"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "71.25"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.238141"], ["updated_at", "2016-05-04 08:17:22.238141"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "95.74"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.240557"], ["updated_at", "2016-05-04 08:17:22.240557"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "98.36"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:17:22.243013"], ["updated_at", "2016-05-04 08:17:22.243013"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "delivered"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1512.2ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'kristofer@ziemannmohr.biz' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Madalyn"], ["lastname", "Wiegand"], ["email", "kristofer@ziemannmohr.biz"], ["encrypted_password", "$2a$04$324ORn3HMAOkNrBMc90uXel2ipgV3mOPnhg/LDPnsahFF2Xvl212m"], ["created_at", "2016-05-04 08:19:17.795124"], ["updated_at", "2016-05-04 08:19:17.795124"]]
  [1m[35m (12.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "28.56"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.873437"], ["updated_at", "2016-05-04 08:19:17.873437"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "14.39"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.880496"], ["updated_at", "2016-05-04 08:19:17.880496"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.885825"], ["updated_at", "2016-05-04 08:19:17.885825"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "74.3"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.892015"], ["updated_at", "2016-05-04 08:19:17.892015"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "67.16"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.895541"], ["updated_at", "2016-05-04 08:19:17.895541"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "95.54"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.898379"], ["updated_at", "2016-05-04 08:19:17.898379"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "26.19"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.901880"], ["updated_at", "2016-05-04 08:19:17.901880"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "13.26"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.905166"], ["updated_at", "2016-05-04 08:19:17.905166"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "4.83"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.907877"], ["updated_at", "2016-05-04 08:19:17.907877"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "53.7"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.910565"], ["updated_at", "2016-05-04 08:19:17.910565"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "85.22"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.913216"], ["updated_at", "2016-05-04 08:19:17.913216"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "4.39"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.924094"], ["updated_at", "2016-05-04 08:19:17.924094"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "0.93"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.928950"], ["updated_at", "2016-05-04 08:19:17.928950"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "13.8"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.934309"], ["updated_at", "2016-05-04 08:19:17.934309"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "30.11"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.937984"], ["updated_at", "2016-05-04 08:19:17.937984"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "46.73"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.941568"], ["updated_at", "2016-05-04 08:19:17.941568"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "68.53"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.945264"], ["updated_at", "2016-05-04 08:19:17.945264"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "99.44"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.948434"], ["updated_at", "2016-05-04 08:19:17.948434"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "37.41"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.951417"], ["updated_at", "2016-05-04 08:19:17.951417"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "22.42"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.970772"], ["updated_at", "2016-05-04 08:19:17.970772"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "99.63"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.973692"], ["updated_at", "2016-05-04 08:19:17.973692"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "8.07"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.976192"], ["updated_at", "2016-05-04 08:19:17.976192"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "27.38"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.978728"], ["updated_at", "2016-05-04 08:19:17.978728"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "33.13"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.981295"], ["updated_at", "2016-05-04 08:19:17.981295"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "7.62"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.983772"], ["updated_at", "2016-05-04 08:19:17.983772"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "48.13"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.986175"], ["updated_at", "2016-05-04 08:19:17.986175"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "33.34"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.988564"], ["updated_at", "2016-05-04 08:19:17.988564"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_delivery"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "28.96"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.994819"], ["updated_at", "2016-05-04 08:19:17.994819"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "17.13"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:17.998649"], ["updated_at", "2016-05-04 08:19:17.998649"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "67.5"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:18.003436"], ["updated_at", "2016-05-04 08:19:18.003436"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "33.37"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:18.007376"], ["updated_at", "2016-05-04 08:19:18.007376"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "38.76"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:18.011710"], ["updated_at", "2016-05-04 08:19:18.011710"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "34.32"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:18.016183"], ["updated_at", "2016-05-04 08:19:18.016183"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "77.17"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:18.020053"], ["updated_at", "2016-05-04 08:19:18.020053"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "47.88"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:18.023621"], ["updated_at", "2016-05-04 08:19:18.023621"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "delivered"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1538.1ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'vickie.labadie@nicolas.org' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Romaine"], ["lastname", "Thiel"], ["email", "vickie.labadie@nicolas.org"], ["encrypted_password", "$2a$04$M0yf6vOerSQTVGkRkPOPPOm3PsxC3VgBxgH5S7go7bXsGt67iLs.K"], ["created_at", "2016-05-04 08:19:40.368860"], ["updated_at", "2016-05-04 08:19:40.368860"]]
  [1m[35m (2.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "60.51"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.451234"], ["updated_at", "2016-05-04 08:19:40.451234"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "86.96"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.459770"], ["updated_at", "2016-05-04 08:19:40.459770"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'carter@rutherford.name' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Estevan"], ["lastname", "Schinner"], ["email", "carter@rutherford.name"], ["encrypted_password", "$2a$04$K/x6nh9XAD7q.AwMGwwzNuGSugREMCZLGh/ehUWnyq1KT81qYUlaq"], ["created_at", "2016-05-04 08:19:40.468835"], ["updated_at", "2016-05-04 08:19:40.468835"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.471921"], ["updated_at", "2016-05-04 08:19:40.471921"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "83.86"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.494434"], ["updated_at", "2016-05-04 08:19:40.494434"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "82.57"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.497508"], ["updated_at", "2016-05-04 08:19:40.497508"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "68.78"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.511525"], ["updated_at", "2016-05-04 08:19:40.511525"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "99.76"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.514155"], ["updated_at", "2016-05-04 08:19:40.514155"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "27.47"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.516572"], ["updated_at", "2016-05-04 08:19:40.516572"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "61.23"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.518921"], ["updated_at", "2016-05-04 08:19:40.518921"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "0.84"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.521207"], ["updated_at", "2016-05-04 08:19:40.521207"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "19.12"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.523700"], ["updated_at", "2016-05-04 08:19:40.523700"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "14.81"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.533866"], ["updated_at", "2016-05-04 08:19:40.533866"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "58.22"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.537035"], ["updated_at", "2016-05-04 08:19:40.537035"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "58.61"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.539807"], ["updated_at", "2016-05-04 08:19:40.539807"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "87.77"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.542211"], ["updated_at", "2016-05-04 08:19:40.542211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "33.43"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.544431"], ["updated_at", "2016-05-04 08:19:40.544431"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "15.26"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.546719"], ["updated_at", "2016-05-04 08:19:40.546719"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "91.59"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.548978"], ["updated_at", "2016-05-04 08:19:40.548978"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "42.77"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.551289"], ["updated_at", "2016-05-04 08:19:40.551289"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "98.35"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.557931"], ["updated_at", "2016-05-04 08:19:40.557931"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "58.31"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.561053"], ["updated_at", "2016-05-04 08:19:40.561053"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "41.98"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.563604"], ["updated_at", "2016-05-04 08:19:40.563604"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "44.51"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.565907"], ["updated_at", "2016-05-04 08:19:40.565907"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "93.35"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.568277"], ["updated_at", "2016-05-04 08:19:40.568277"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "45.4"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.570638"], ["updated_at", "2016-05-04 08:19:40.570638"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "85.26"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.572884"], ["updated_at", "2016-05-04 08:19:40.572884"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "89.39"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.575136"], ["updated_at", "2016-05-04 08:19:40.575136"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_delivery"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "86.3"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.580764"], ["updated_at", "2016-05-04 08:19:40.580764"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "65.1"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.583869"], ["updated_at", "2016-05-04 08:19:40.583869"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "95.3"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.586510"], ["updated_at", "2016-05-04 08:19:40.586510"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "48.68"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.588760"], ["updated_at", "2016-05-04 08:19:40.588760"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "5.81"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.591125"], ["updated_at", "2016-05-04 08:19:40.591125"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "42.36"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.593281"], ["updated_at", "2016-05-04 08:19:40.593281"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "14.14"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.595390"], ["updated_at", "2016-05-04 08:19:40.595390"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "4.82"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:19:40.597569"], ["updated_at", "2016-05-04 08:19:40.597569"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "delivered"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1724.4ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'berta@rosenbaum.biz' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Scarlett"], ["lastname", "Schimmel"], ["email", "berta@rosenbaum.biz"], ["encrypted_password", "$2a$04$frpY0m1tjjUqVbgja6DxV.4WcbTEONTCvPZYsaOgW5r.44/ufMIta"], ["created_at", "2016-05-04 08:20:01.584345"], ["updated_at", "2016-05-04 08:20:01.584345"]]
  [1m[35m (9.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "35.48"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.666729"], ["updated_at", "2016-05-04 08:20:01.666729"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "39.83"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.675853"], ["updated_at", "2016-05-04 08:20:01.675853"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.681090"], ["updated_at", "2016-05-04 08:20:01.681090"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "87.34"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.687277"], ["updated_at", "2016-05-04 08:20:01.687277"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "26.61"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.690877"], ["updated_at", "2016-05-04 08:20:01.690877"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "63.96"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.694269"], ["updated_at", "2016-05-04 08:20:01.694269"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "77.2"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.697076"], ["updated_at", "2016-05-04 08:20:01.697076"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "87.91"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.699790"], ["updated_at", "2016-05-04 08:20:01.699790"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "91.58"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.702363"], ["updated_at", "2016-05-04 08:20:01.702363"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "71.61"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.704836"], ["updated_at", "2016-05-04 08:20:01.704836"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "99.75"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.707778"], ["updated_at", "2016-05-04 08:20:01.707778"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "2.1"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.718211"], ["updated_at", "2016-05-04 08:20:01.718211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "54.61"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.720986"], ["updated_at", "2016-05-04 08:20:01.720986"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "0.9"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.723599"], ["updated_at", "2016-05-04 08:20:01.723599"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "69.25"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.726491"], ["updated_at", "2016-05-04 08:20:01.726491"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "16.04"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.729053"], ["updated_at", "2016-05-04 08:20:01.729053"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "42.52"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.731595"], ["updated_at", "2016-05-04 08:20:01.731595"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "26.5"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.734096"], ["updated_at", "2016-05-04 08:20:01.734096"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "58.22"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.736481"], ["updated_at", "2016-05-04 08:20:01.736481"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "49.26"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.754597"], ["updated_at", "2016-05-04 08:20:01.754597"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "7.41"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.757722"], ["updated_at", "2016-05-04 08:20:01.757722"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "85.63"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.760676"], ["updated_at", "2016-05-04 08:20:01.760676"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "89.48"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.763280"], ["updated_at", "2016-05-04 08:20:01.763280"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "70.88"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.765477"], ["updated_at", "2016-05-04 08:20:01.765477"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "89.09"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.767844"], ["updated_at", "2016-05-04 08:20:01.767844"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "11.03"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.770196"], ["updated_at", "2016-05-04 08:20:01.770196"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "28.03"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.772532"], ["updated_at", "2016-05-04 08:20:01.772532"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_delivery"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "9.64"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.778839"], ["updated_at", "2016-05-04 08:20:01.778839"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "69.88"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.781659"], ["updated_at", "2016-05-04 08:20:01.781659"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "2.32"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.783980"], ["updated_at", "2016-05-04 08:20:01.783980"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "40.66"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.786083"], ["updated_at", "2016-05-04 08:20:01.786083"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "2.7"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.788288"], ["updated_at", "2016-05-04 08:20:01.788288"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "63.43"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.790853"], ["updated_at", "2016-05-04 08:20:01.790853"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "35.14"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.793504"], ["updated_at", "2016-05-04 08:20:01.793504"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "25.06"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:01.795898"], ["updated_at", "2016-05-04 08:20:01.795898"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "delivered"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.6ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1599.2ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'mervin@feil.co' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Arielle"], ["lastname", "Beer"], ["email", "mervin@feil.co"], ["encrypted_password", "$2a$04$57yu6EgBufqMu/IpG6ce3OlYL/sAItMwPdP7G5Z1aVQlBdsqnU59y"], ["created_at", "2016-05-04 08:20:26.214385"], ["updated_at", "2016-05-04 08:20:26.214385"]]
  [1m[35m (18.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "28.49"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.310110"], ["updated_at", "2016-05-04 08:20:26.310110"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "81.42"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.320759"], ["updated_at", "2016-05-04 08:20:26.320759"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.327504"], ["updated_at", "2016-05-04 08:20:26.327504"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "35.5"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.358238"], ["updated_at", "2016-05-04 08:20:26.358238"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "18.84"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.363178"], ["updated_at", "2016-05-04 08:20:26.363178"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "23.69"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.368094"], ["updated_at", "2016-05-04 08:20:26.368094"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "55.23"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.387516"], ["updated_at", "2016-05-04 08:20:26.387516"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "85.77"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.391651"], ["updated_at", "2016-05-04 08:20:26.391651"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "68.94"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.395865"], ["updated_at", "2016-05-04 08:20:26.395865"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "10.39"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.400582"], ["updated_at", "2016-05-04 08:20:26.400582"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "44.47"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.404865"], ["updated_at", "2016-05-04 08:20:26.404865"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "54.52"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.417743"], ["updated_at", "2016-05-04 08:20:26.417743"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "27.43"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.420560"], ["updated_at", "2016-05-04 08:20:26.420560"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "85.63"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.423579"], ["updated_at", "2016-05-04 08:20:26.423579"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "59.47"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.426062"], ["updated_at", "2016-05-04 08:20:26.426062"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "54.96"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.428251"], ["updated_at", "2016-05-04 08:20:26.428251"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "87.83"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.431084"], ["updated_at", "2016-05-04 08:20:26.431084"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "26.12"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.433788"], ["updated_at", "2016-05-04 08:20:26.433788"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "16.92"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.436356"], ["updated_at", "2016-05-04 08:20:26.436356"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "70.26"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.443047"], ["updated_at", "2016-05-04 08:20:26.443047"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "26.34"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.445705"], ["updated_at", "2016-05-04 08:20:26.445705"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "22.81"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.448121"], ["updated_at", "2016-05-04 08:20:26.448121"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "5.99"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.451176"], ["updated_at", "2016-05-04 08:20:26.451176"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "85.03"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.454169"], ["updated_at", "2016-05-04 08:20:26.454169"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "67.46"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.457168"], ["updated_at", "2016-05-04 08:20:26.457168"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "29.55"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.459769"], ["updated_at", "2016-05-04 08:20:26.459769"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "79.95"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.462233"], ["updated_at", "2016-05-04 08:20:26.462233"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_delivery"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "80.58"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.468180"], ["updated_at", "2016-05-04 08:20:26.468180"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "35.41"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.471367"], ["updated_at", "2016-05-04 08:20:26.471367"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "42.94"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.473733"], ["updated_at", "2016-05-04 08:20:26.473733"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "49.3"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.475960"], ["updated_at", "2016-05-04 08:20:26.475960"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "73.69"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.478272"], ["updated_at", "2016-05-04 08:20:26.478272"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "97.29"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.480496"], ["updated_at", "2016-05-04 08:20:26.480496"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "65.89"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.483010"], ["updated_at", "2016-05-04 08:20:26.483010"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "47.61"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 08:20:26.485589"], ["updated_at", "2016-05-04 08:20:26.485589"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "delivered"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1505.9ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Those Barren Leaves, Thrones, Dominations"], ["price", "1.93"], ["description", "Animi tempore repellendus autem inventore. Consequuntur sequi laudantium. Nisi commodi sint magni quia aperiam adipisci ut. Facere qui nobis temporibus."], ["in_stock", 25], ["created_at", "2016-05-04 09:07:40.744069"], ["updated_at", "2016-05-04 09:07:40.744069"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "The Skull Beneath the Skin"], ["price", "52.99"], ["description", "Quo amet nulla delectus numquam reprehenderit molestias et. Nihil nobis pariatur ratione doloremque dolores quo facere. Hic quae sint sit enim non fuga. Omnis quidem fuga deleniti."], ["in_stock", 86], ["best_seller", "t"], ["created_at", "2016-05-04 09:07:40.751573"], ["updated_at", "2016-05-04 09:07:40.751573"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "The Man Within"], ["price", "16.2"], ["description", "In veritatis eveniet aperiam impedit et repellat. Ipsum repellendus quia qui. Numquam et ipsa modi iusto. Delectus at eos et totam quaerat velit quo."], ["in_stock", 101], ["best_seller", "t"], ["created_at", "2016-05-04 09:07:40.755126"], ["updated_at", "2016-05-04 09:07:40.755126"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE (best_seller = 'true')[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Moab Is My Washpot"], ["price", "35.35"], ["description", "Consectetur architecto eius magnam qui laboriosam. Fugiat id totam et rerum quasi ipsam eum. Ullam voluptatem nisi amet ipsam voluptatem inventore commodi."], ["in_stock", 70], ["created_at", "2016-05-04 09:07:40.763076"], ["updated_at", "2016-05-04 09:07:40.763076"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Far From the Madding Crowd"], ["price", "32.06"], ["description", "Qui saepe voluptatum nostrum. Et inventore repellat ipsam facilis neque tempora. Nam dignissimos aut commodi nostrum. Voluptate voluptatem dicta consectetur necessitatibus qui est est. Totam et eum doloribus illo iusto neque."], ["in_stock", 108], ["best_seller", "t"], ["created_at", "2016-05-04 09:07:40.766999"], ["updated_at", "2016-05-04 09:07:40.766999"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Alone on a Wide, Wide Sea"], ["price", "59.93"], ["description", "Fugit laboriosam molestias accusamus in unde quaerat. Vitae sit velit nulla. Vero est explicabo vel laudantium doloribus magni rerum. Reprehenderit tempore perspiciatis laudantium."], ["in_stock", 71], ["best_seller", "t"], ["created_at", "2016-05-04 09:07:40.770721"], ["updated_at", "2016-05-04 09:07:40.770721"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Time To Murder And Create"], ["price", "43.95"], ["description", "Molestiae necessitatibus veniam maiores et sed. Qui ab accusamus in autem sed neque enim. Eligendi eveniet blanditiis placeat. Harum necessitatibus tenetur velit et."], ["in_stock", 50], ["created_at", "2016-05-04 09:07:40.773975"], ["updated_at", "2016-05-04 09:07:40.773975"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBook Load (0.5ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1471.6ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Rosemary Sutcliff"], ["price", "20.73"], ["description", "Aut atque dolores mollitia repellendus voluptates ullam maxime. Consequatur et quia dicta molestias. Voluptatem officia libero."], ["in_stock", 156], ["created_at", "2016-05-04 09:17:12.609870"], ["updated_at", "2016-05-04 09:17:12.609870"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Ring of Bright Water"], ["price", "67.2"], ["description", "Accusantium sunt qui omnis praesentium. Dolorem nihil aut neque. Odio et magni maiores voluptatem. Eum molestias ratione nemo quia."], ["in_stock", 137], ["best_seller", "t"], ["created_at", "2016-05-04 09:17:12.618309"], ["updated_at", "2016-05-04 09:17:12.618309"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Let Us Now Praise Famous Men"], ["price", "34.96"], ["description", "Minus sed dolore magnam dolor pariatur. Minima velit perspiciatis aliquid. Distinctio enim aliquam soluta fugiat eius. Consequuntur fuga nesciunt."], ["in_stock", 15], ["best_seller", "t"], ["created_at", "2016-05-04 09:17:12.621453"], ["updated_at", "2016-05-04 09:17:12.621453"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE (best_seller = 'true')[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Fame Is the Spur"], ["price", "95.89"], ["description", "Adipisci non minima. Consequatur beatae quia ut velit quia. Saepe officia in libero. Id ad nesciunt nihil aut. Dicta eligendi repellendus quia."], ["in_stock", 110], ["created_at", "2016-05-04 09:17:12.627729"], ["updated_at", "2016-05-04 09:17:12.627729"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "The Violent Bear It Away"], ["price", "81.82"], ["description", "Necessitatibus rerum sapiente non laudantium animi incidunt placeat. Animi quo eaque vel. Sapiente minima sunt itaque."], ["in_stock", 40], ["best_seller", "t"], ["created_at", "2016-05-04 09:17:12.630531"], ["updated_at", "2016-05-04 09:17:12.630531"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "All the King's Men"], ["price", "26.44"], ["description", "Mollitia dolor et. Non tenetur ut et. Voluptatibus amet quod. Architecto quia vero sit. Recusandae eum qui nihil aut alias."], ["in_stock", 191], ["best_seller", "t"], ["created_at", "2016-05-04 09:17:12.633162"], ["updated_at", "2016-05-04 09:17:12.633162"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "For a Breath I Tarry"], ["price", "21.14"], ["description", "Magnam occaecati omnis qui mollitia est earum. Labore voluptatem inventore nostrum modi. Et harum quia. Amet perferendis ullam optio dignissimos impedit."], ["in_stock", 35], ["created_at", "2016-05-04 09:17:12.635744"], ["updated_at", "2016-05-04 09:17:12.635744"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBook Load (0.3ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-05-04 09:17:12.666177"], ["updated_at", "2016-05-04 09:17:12.666177"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-05-04 09:17:12.668240"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'omnis' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "omnis"], ["created_at", "2016-05-04 09:17:12.682354"], ["updated_at", "2016-05-04 09:17:12.682354"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'vitae' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "vitae"], ["created_at", "2016-05-04 09:17:12.687549"], ["updated_at", "2016-05-04 09:17:12.687549"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Now Sleeps the Crimson Petal"], ["price", "77.73"], ["description", "Nemo dolor ullam quia. Eos consequatur enim. Quia delectus voluptatem quisquam impedit qui."], ["in_stock", 170], ["category_id", 3], ["created_at", "2016-05-04 09:17:12.701108"], ["updated_at", "2016-05-04 09:17:12.701108"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Little Hands Clapping"], ["price", "68.71"], ["description", "Eveniet assumenda unde consequatur qui ducimus. Dolor eveniet odit dolorem neque. Ea minima quibusdam. Est minima excepturi enim nisi non. Sequi doloremque totam et."], ["in_stock", 114], ["category_id", 3], ["created_at", "2016-05-04 09:17:12.706145"], ["updated_at", "2016-05-04 09:17:12.706145"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Alone on a Wide, Wide Sea"], ["price", "30.17"], ["description", "Delectus voluptatibus totam nam qui sed. Voluptates minus architecto aspernatur ut molestiae. Asperiores ea accusantium et ut deserunt commodi qui. Aspernatur in corporis qui vitae quia atque dolores."], ["in_stock", 107], ["category_id", 3], ["created_at", "2016-05-04 09:17:12.710369"], ["updated_at", "2016-05-04 09:17:12.710369"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "books" WHERE "books"."category_id" = $1  [["category_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.2ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-05-04 09:17:12.728264"], ["updated_at", "2016-05-04 09:17:12.728264"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-05-04 09:17:12.730210"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "use", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "e6pg8eshn"], ["use", "t"], ["created_at", "2016-05-04 09:17:12.868541"], ["updated_at", "2016-05-04 09:17:12.868541"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "d20xgek68"], ["created_at", "2016-05-04 09:17:12.870959"], ["updated_at", "2016-05-04 09:17:12.870959"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "pr6s71jc4"], ["created_at", "2016-05-04 09:17:12.872644"], ["updated_at", "2016-05-04 09:17:12.872644"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCupon Load (0.2ms)[0m  SELECT  "cupons".* FROM "cupons" WHERE "cupons"."value" = $1  ORDER BY "cupons"."id" ASC LIMIT 1  [["value", "pr6s71jc4"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'bud_ruecker@bailey.biz' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Marjorie"], ["lastname", "Anderson"], ["email", "bud_ruecker@bailey.biz"], ["encrypted_password", "$2a$04$rProFvJgQZWQqUcI0yA8jewemYVH0rjnBvRDevD7dNC2GjERH00F6"], ["created_at", "2016-05-04 09:17:12.915047"], ["updated_at", "2016-05-04 09:17:12.915047"]]
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "17.53"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:12.953502"], ["updated_at", "2016-05-04 09:17:12.953502"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "66.53"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:12.959252"], ["updated_at", "2016-05-04 09:17:12.959252"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:12.962795"], ["updated_at", "2016-05-04 09:17:12.962795"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "89.27"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:12.970145"], ["updated_at", "2016-05-04 09:17:12.970145"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "92.16"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:12.972801"], ["updated_at", "2016-05-04 09:17:12.972801"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "51.9"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:12.975472"], ["updated_at", "2016-05-04 09:17:12.975472"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "19.33"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:12.979131"], ["updated_at", "2016-05-04 09:17:12.979131"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "69.27"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:12.982570"], ["updated_at", "2016-05-04 09:17:12.982570"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "51.95"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:12.985601"], ["updated_at", "2016-05-04 09:17:12.985601"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "18.4"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:12.996981"], ["updated_at", "2016-05-04 09:17:12.996981"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "73.69"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:12.999443"], ["updated_at", "2016-05-04 09:17:12.999443"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "5.32"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.005027"], ["updated_at", "2016-05-04 09:17:13.005027"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "45.19"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.008722"], ["updated_at", "2016-05-04 09:17:13.008722"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "68.59"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.014573"], ["updated_at", "2016-05-04 09:17:13.014573"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "30.27"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.019208"], ["updated_at", "2016-05-04 09:17:13.019208"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "76.52"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.023677"], ["updated_at", "2016-05-04 09:17:13.023677"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "39.39"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.027531"], ["updated_at", "2016-05-04 09:17:13.027531"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "52.93"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.031511"], ["updated_at", "2016-05-04 09:17:13.031511"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "99.04"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.035231"], ["updated_at", "2016-05-04 09:17:13.035231"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "82.71"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.043333"], ["updated_at", "2016-05-04 09:17:13.043333"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "33.07"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.046313"], ["updated_at", "2016-05-04 09:17:13.046313"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "95.78"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.049598"], ["updated_at", "2016-05-04 09:17:13.049598"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "0.42"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.053433"], ["updated_at", "2016-05-04 09:17:13.053433"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "75.26"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.059013"], ["updated_at", "2016-05-04 09:17:13.059013"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "45.39"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.064241"], ["updated_at", "2016-05-04 09:17:13.064241"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "7.34"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.068318"], ["updated_at", "2016-05-04 09:17:13.068318"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "70.43"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.072776"], ["updated_at", "2016-05-04 09:17:13.072776"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_delivery"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "77.65"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.083919"], ["updated_at", "2016-05-04 09:17:13.083919"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "34.9"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.088214"], ["updated_at", "2016-05-04 09:17:13.088214"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "62.74"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.092215"], ["updated_at", "2016-05-04 09:17:13.092215"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "0.26"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.095945"], ["updated_at", "2016-05-04 09:17:13.095945"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "10.99"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.099552"], ["updated_at", "2016-05-04 09:17:13.099552"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "36.04"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.104661"], ["updated_at", "2016-05-04 09:17:13.104661"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "85.01"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.109168"], ["updated_at", "2016-05-04 09:17:13.109168"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "53.81"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:17:13.113030"], ["updated_at", "2016-05-04 09:17:13.113030"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "delivered"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'bud_ruecker@bailey.biz' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'bud_ruecker@bailey.biz' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1518.6ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1535.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1400.8ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$a8srTofSTs3rKjfmP4pJj.bSsaVuG1QjaCWz3ddZeu97Brgeudknu"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 09:55:49.664427"], ["updated_at", "2016-05-04 09:55:49.664427"]]
  [1m[35m (35.1ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 09:55:49.727624"], ["updated_at", "2016-05-04 09:55:49.727624"]]
  [1m[35m (5.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 09:55:49.737697"], ["updated_at", "2016-05-04 09:55:49.737697"]]
  [1m[36m (7.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 09:55:49.748579"], ["updated_at", "2016-05-04 09:55:49.748579"]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:55:49.793885"], ["updated_at", "2016-05-04 09:55:49.793885"]]
  [1m[36m (5.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 09:55:49.812223"], ["updated_at", "2016-05-04 09:55:49.812223"]]
  [1m[35m (10.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 09:55:49.826323"], ["updated_at", "2016-05-04 09:55:49.826323"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 09:55:49.837171"], ["updated_at", "2016-05-04 09:55:49.837171"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 09:55:49.847937"], ["updated_at", "2016-05-04 09:55:49.847937"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 09:55:49.859048"], ["updated_at", "2016-05-04 09:55:49.859048"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 09:55:49.870078"], ["updated_at", "2016-05-04 09:55:49.870078"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 09:55:49.881301"], ["updated_at", "2016-05-04 09:55:49.881301"]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 09:55:49.892980"], ["updated_at", "2016-05-04 09:55:49.892980"]]
  [1m[36m (7.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 09:55:49.903721"], ["updated_at", "2016-05-04 09:55:49.903721"]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 09:55:49.914703"], ["updated_at", "2016-05-04 09:55:49.914703"]]
  [1m[36m (6.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1356.4ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "16.96"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:55:51.323920"], ["updated_at", "2016-05-04 09:55:51.323920"]]
  [1m[36m (6.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$ljPrxGNNCUk169BSCvFt0.cvIgFYrtYzWqIFu8kwzhr1dNp.Tgzmu"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 09:58:43.441465"], ["updated_at", "2016-05-04 09:58:43.441465"]]
  [1m[35m (7.0ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 09:58:43.469288"], ["updated_at", "2016-05-04 09:58:43.469288"]]
  [1m[35m (12.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 09:58:43.485832"], ["updated_at", "2016-05-04 09:58:43.485832"]]
  [1m[36m (7.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 09:58:43.496743"], ["updated_at", "2016-05-04 09:58:43.496743"]]
  [1m[35m (8.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:58:43.529265"], ["updated_at", "2016-05-04 09:58:43.529265"]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 09:58:43.556375"], ["updated_at", "2016-05-04 09:58:43.556375"]]
  [1m[35m (12.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 09:58:43.573995"], ["updated_at", "2016-05-04 09:58:43.573995"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 09:58:43.585095"], ["updated_at", "2016-05-04 09:58:43.585095"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 09:58:43.596460"], ["updated_at", "2016-05-04 09:58:43.596460"]]
  [1m[36m (8.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 09:58:43.607217"], ["updated_at", "2016-05-04 09:58:43.607217"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 09:58:43.618253"], ["updated_at", "2016-05-04 09:58:43.618253"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 09:58:43.629511"], ["updated_at", "2016-05-04 09:58:43.629511"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 09:58:43.640363"], ["updated_at", "2016-05-04 09:58:43.640363"]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 09:58:43.651437"], ["updated_at", "2016-05-04 09:58:43.651437"]]
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 09:58:43.662542"], ["updated_at", "2016-05-04 09:58:43.662542"]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1425.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "90.32"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 09:58:45.137992"], ["updated_at", "2016-05-04 09:58:45.137992"]]
  [1m[36m (6.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 09:58:45.178173"], ["updated_at", "2016-05-04 09:58:45.178173"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 09:58:45.181484"], ["updated_at", "2016-05-04 09:58:45.181484"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 09:58:45.183713"], ["updated_at", "2016-05-04 09:58:45.183713"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$esb8B1wwzkQwG.as22MvzuUo1/UAxh1v.NpOhxGrD6rOO7WZEffwi"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 10:00:01.748154"], ["updated_at", "2016-05-04 10:00:01.748154"]]
  [1m[35m (21.1ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 10:00:01.794989"], ["updated_at", "2016-05-04 10:00:01.794989"]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 10:00:01.806948"], ["updated_at", "2016-05-04 10:00:01.806948"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 10:00:01.817982"], ["updated_at", "2016-05-04 10:00:01.817982"]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 10:00:01.852475"], ["updated_at", "2016-05-04 10:00:01.852475"]]
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 10:00:01.869579"], ["updated_at", "2016-05-04 10:00:01.869579"]]
  [1m[35m (11.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 10:00:01.883772"], ["updated_at", "2016-05-04 10:00:01.883772"]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 10:00:01.894935"], ["updated_at", "2016-05-04 10:00:01.894935"]]
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 10:00:01.906036"], ["updated_at", "2016-05-04 10:00:01.906036"]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 10:00:01.916966"], ["updated_at", "2016-05-04 10:00:01.916966"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 10:00:01.927921"], ["updated_at", "2016-05-04 10:00:01.927921"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 10:00:01.938593"], ["updated_at", "2016-05-04 10:00:01.938593"]]
  [1m[35m (9.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 10:00:01.950950"], ["updated_at", "2016-05-04 10:00:01.950950"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 10:00:01.961794"], ["updated_at", "2016-05-04 10:00:01.961794"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 10:00:01.972648"], ["updated_at", "2016-05-04 10:00:01.972648"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1497.9ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "72.77"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 10:00:03.526188"], ["updated_at", "2016-05-04 10:00:03.526188"]]
  [1m[36m (6.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 10:00:03.570097"], ["updated_at", "2016-05-04 10:00:03.570097"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 10:00:03.574092"], ["updated_at", "2016-05-04 10:00:03.574092"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 10:00:03.577068"], ["updated_at", "2016-05-04 10:00:03.577068"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$LTahM4POu2EoB0k7hrCe9.dEQkKwFYzu3qEXb2p4SUMKYq80CNfka"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 10:03:07.608982"], ["updated_at", "2016-05-04 10:03:07.608982"]]
  [1m[35m (10.5ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 10:03:07.654096"], ["updated_at", "2016-05-04 10:03:07.654096"]]
  [1m[35m (10.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 10:03:07.670040"], ["updated_at", "2016-05-04 10:03:07.670040"]]
  [1m[36m (6.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 10:03:07.680881"], ["updated_at", "2016-05-04 10:03:07.680881"]]
  [1m[35m (7.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 10:03:07.718202"], ["updated_at", "2016-05-04 10:03:07.718202"]]
  [1m[36m (2.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 10:03:07.733225"], ["updated_at", "2016-05-04 10:03:07.733225"]]
  [1m[35m (10.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 10:03:07.746424"], ["updated_at", "2016-05-04 10:03:07.746424"]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 10:03:07.757449"], ["updated_at", "2016-05-04 10:03:07.757449"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 10:03:07.768479"], ["updated_at", "2016-05-04 10:03:07.768479"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 10:03:07.779635"], ["updated_at", "2016-05-04 10:03:07.779635"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 10:03:07.790708"], ["updated_at", "2016-05-04 10:03:07.790708"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 10:03:07.801966"], ["updated_at", "2016-05-04 10:03:07.801966"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 10:03:07.812950"], ["updated_at", "2016-05-04 10:03:07.812950"]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 10:03:07.824085"], ["updated_at", "2016-05-04 10:03:07.824085"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 10:03:07.834983"], ["updated_at", "2016-05-04 10:03:07.834983"]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1402.8ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "77.96"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 10:03:09.299616"], ["updated_at", "2016-05-04 10:03:09.299616"]]
  [1m[36m (5.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 10:03:09.356455"], ["updated_at", "2016-05-04 10:03:09.356455"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 10:03:09.361470"], ["updated_at", "2016-05-04 10:03:09.361470"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 10:03:09.364435"], ["updated_at", "2016-05-04 10:03:09.364435"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$oyzOgvlJClSnZUzJ5OQ/dusonM9X0HffnE0VnwtKl62ocwU6G3Bda"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 10:04:18.512942"], ["updated_at", "2016-05-04 10:04:18.512942"]]
  [1m[35m (29.6ms)[0m  COMMIT
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 10:04:18.566978"], ["updated_at", "2016-05-04 10:04:18.566978"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 10:04:18.579100"], ["updated_at", "2016-05-04 10:04:18.579100"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 10:04:18.590536"], ["updated_at", "2016-05-04 10:04:18.590536"]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 10:04:18.624052"], ["updated_at", "2016-05-04 10:04:18.624052"]]
  [1m[36m (39.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 10:04:18.681718"], ["updated_at", "2016-05-04 10:04:18.681718"]]
  [1m[35m (15.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 10:04:18.701499"], ["updated_at", "2016-05-04 10:04:18.701499"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 10:04:18.712431"], ["updated_at", "2016-05-04 10:04:18.712431"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 10:04:18.723509"], ["updated_at", "2016-05-04 10:04:18.723509"]]
  [1m[36m (8.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 10:04:18.734813"], ["updated_at", "2016-05-04 10:04:18.734813"]]
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 10:04:18.746015"], ["updated_at", "2016-05-04 10:04:18.746015"]]
  [1m[36m (7.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 10:04:18.757270"], ["updated_at", "2016-05-04 10:04:18.757270"]]
  [1m[35m (6.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 10:04:18.768522"], ["updated_at", "2016-05-04 10:04:18.768522"]]
  [1m[36m (6.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 10:04:18.779432"], ["updated_at", "2016-05-04 10:04:18.779432"]]
  [1m[35m (7.0ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 10:04:18.790379"], ["updated_at", "2016-05-04 10:04:18.790379"]]
  [1m[36m (7.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1438.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "56.64"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 10:04:20.288105"], ["updated_at", "2016-05-04 10:04:20.288105"]]
  [1m[36m (6.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 10:04:20.337520"], ["updated_at", "2016-05-04 10:04:20.337520"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 10:04:20.342384"], ["updated_at", "2016-05-04 10:04:20.342384"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 10:04:20.345078"], ["updated_at", "2016-05-04 10:04:20.345078"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$xrixwKjY09WG0sKRnQzelOAVN6RpSzCRder3uBwbLbQM9231MVmNi"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 10:05:26.877681"], ["updated_at", "2016-05-04 10:05:26.877681"]]
  [1m[35m (12.9ms)[0m  COMMIT
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 10:05:26.915553"], ["updated_at", "2016-05-04 10:05:26.915553"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 10:05:26.928410"], ["updated_at", "2016-05-04 10:05:26.928410"]]
  [1m[36m (6.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 10:05:26.938532"], ["updated_at", "2016-05-04 10:05:26.938532"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 10:05:26.972805"], ["updated_at", "2016-05-04 10:05:26.972805"]]
  [1m[36m (6.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 10:05:26.991691"], ["updated_at", "2016-05-04 10:05:26.991691"]]
  [1m[35m (10.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 10:05:27.005044"], ["updated_at", "2016-05-04 10:05:27.005044"]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 10:05:27.016295"], ["updated_at", "2016-05-04 10:05:27.016295"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 10:05:27.027366"], ["updated_at", "2016-05-04 10:05:27.027366"]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 10:05:27.038351"], ["updated_at", "2016-05-04 10:05:27.038351"]]
  [1m[35m (9.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 10:05:27.049370"], ["updated_at", "2016-05-04 10:05:27.049370"]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 10:05:27.060527"], ["updated_at", "2016-05-04 10:05:27.060527"]]
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 10:05:27.071572"], ["updated_at", "2016-05-04 10:05:27.071572"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 10:05:27.082932"], ["updated_at", "2016-05-04 10:05:27.082932"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 10:05:27.093895"], ["updated_at", "2016-05-04 10:05:27.093895"]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1480.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "16.84"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 10:05:28.627734"], ["updated_at", "2016-05-04 10:05:28.627734"]]
  [1m[36m (5.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 10:05:28.673292"], ["updated_at", "2016-05-04 10:05:28.673292"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 10:05:28.676434"], ["updated_at", "2016-05-04 10:05:28.676434"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 10:05:28.691282"], ["updated_at", "2016-05-04 10:05:28.691282"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$O/J7kkOF7CdKwrf..ZWF6.Esiw4JlnF4pO3i.gRXufExbGshoUSva"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 10:16:35.535435"], ["updated_at", "2016-05-04 10:16:35.535435"]]
  [1m[35m (31.5ms)[0m  COMMIT
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 10:16:35.589941"], ["updated_at", "2016-05-04 10:16:35.589941"]]
  [1m[35m (10.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 10:16:35.604226"], ["updated_at", "2016-05-04 10:16:35.604226"]]
  [1m[36m (6.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 10:16:35.613873"], ["updated_at", "2016-05-04 10:16:35.613873"]]
  [1m[35m (9.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 10:16:35.659978"], ["updated_at", "2016-05-04 10:16:35.659978"]]
  [1m[36m (6.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 10:16:35.682193"], ["updated_at", "2016-05-04 10:16:35.682193"]]
  [1m[35m (6.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 10:16:35.692475"], ["updated_at", "2016-05-04 10:16:35.692475"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 10:16:35.703430"], ["updated_at", "2016-05-04 10:16:35.703430"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 10:16:35.714672"], ["updated_at", "2016-05-04 10:16:35.714672"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 10:16:35.725681"], ["updated_at", "2016-05-04 10:16:35.725681"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 10:16:35.737108"], ["updated_at", "2016-05-04 10:16:35.737108"]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 10:16:35.747812"], ["updated_at", "2016-05-04 10:16:35.747812"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 10:16:35.759117"], ["updated_at", "2016-05-04 10:16:35.759117"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 10:16:35.770248"], ["updated_at", "2016-05-04 10:16:35.770248"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 10:16:35.781268"], ["updated_at", "2016-05-04 10:16:35.781268"]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.4ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1378.5ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "81.69"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 10:16:37.222272"], ["updated_at", "2016-05-04 10:16:37.222272"]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 10:16:37.269198"], ["updated_at", "2016-05-04 10:16:37.269198"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 10:16:37.272635"], ["updated_at", "2016-05-04 10:16:37.272635"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 10:16:37.274806"], ["updated_at", "2016-05-04 10:16:37.274806"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$AiQaC2JM6unz8EfLEVzV8erj5nbr4ogpMtVr9NVLHtrhAMSot2lo2"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:08:22.380337"], ["updated_at", "2016-05-04 11:08:22.380337"]]
  [1m[35m (4.8ms)[0m  COMMIT
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:08:22.403212"], ["updated_at", "2016-05-04 11:08:22.403212"]]
  [1m[35m (7.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:08:22.415054"], ["updated_at", "2016-05-04 11:08:22.415054"]]
  [1m[36m (7.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:08:22.426344"], ["updated_at", "2016-05-04 11:08:22.426344"]]
  [1m[35m (6.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:22.456140"], ["updated_at", "2016-05-04 11:08:22.456140"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:08:22.484152"], ["updated_at", "2016-05-04 11:08:22.484152"]]
  [1m[35m (14.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:08:22.503201"], ["updated_at", "2016-05-04 11:08:22.503201"]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:08:22.514406"], ["updated_at", "2016-05-04 11:08:22.514406"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:08:22.525484"], ["updated_at", "2016-05-04 11:08:22.525484"]]
  [1m[36m (8.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:08:22.536534"], ["updated_at", "2016-05-04 11:08:22.536534"]]
  [1m[35m (8.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:08:22.547741"], ["updated_at", "2016-05-04 11:08:22.547741"]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:08:22.558692"], ["updated_at", "2016-05-04 11:08:22.558692"]]
  [1m[35m (5.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:08:22.567082"], ["updated_at", "2016-05-04 11:08:22.567082"]]
  [1m[36m (10.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:08:22.580992"], ["updated_at", "2016-05-04 11:08:22.580992"]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:08:22.591977"], ["updated_at", "2016-05-04 11:08:22.591977"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.4ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1545.6ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "A Summer Bird-Cage"], ["price", "30.24"], ["description", "Voluptas est sed molestiae libero iste. Nostrum ducimus omnis necessitatibus sit aut quas ut. Sequi omnis qui adipisci numquam qui et sed."], ["in_stock", 54], ["created_at", "2016-05-04 11:08:24.396925"], ["updated_at", "2016-05-04 11:08:24.396925"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Tender Is the Night"], ["price", "93.85"], ["description", "Esse mollitia enim architecto. Et facere quos. Facilis impedit rem tempora est dolorum."], ["in_stock", 145], ["best_seller", "t"], ["created_at", "2016-05-04 11:08:24.402448"], ["updated_at", "2016-05-04 11:08:24.402448"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "For a Breath I Tarry"], ["price", "1.85"], ["description", "Nostrum quia laudantium et possimus deleniti. Blanditiis porro error corporis eum sed. Dolorum sit quo corrupti possimus nihil. Esse magni dignissimos omnis delectus natus nihil."], ["in_stock", 64], ["best_seller", "t"], ["created_at", "2016-05-04 11:08:24.407855"], ["updated_at", "2016-05-04 11:08:24.407855"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE (best_seller = 'true')[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Cabbages and Kings"], ["price", "27.84"], ["description", "Consectetur facilis eos doloribus est. Incidunt eius velit quos. Nihil in totam nihil velit ducimus sed."], ["in_stock", 78], ["created_at", "2016-05-04 11:08:24.416182"], ["updated_at", "2016-05-04 11:08:24.416182"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Jesting Pilate"], ["price", "32.61"], ["description", "Ut in odio quis veniam quia. Amet ipsa iste praesentium eum sint et minus. Dolores quo animi quia. Illum ut aperiam fugiat est repellat quidem."], ["in_stock", 64], ["best_seller", "t"], ["created_at", "2016-05-04 11:08:24.419450"], ["updated_at", "2016-05-04 11:08:24.419450"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Stranger in a Strange Land"], ["price", "66.36"], ["description", "Dolorum nisi magnam ut. Recusandae non non qui aut dolores cumque animi. Distinctio exercitationem nam consequatur. Ad commodi pariatur harum vel. Ut autem et est qui."], ["in_stock", 93], ["best_seller", "t"], ["created_at", "2016-05-04 11:08:24.422568"], ["updated_at", "2016-05-04 11:08:24.422568"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "A Confederacy of Dunces"], ["price", "78.56"], ["description", "Ad consequatur in molestiae voluptatem sint amet at. Non voluptatem aut molestiae. Quidem dolor mollitia quia. Rem eius est non quae fugit. Harum quas similique accusamus eum dolorum non error."], ["in_stock", 70], ["created_at", "2016-05-04 11:08:24.425420"], ["updated_at", "2016-05-04 11:08:24.425420"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBook Load (0.7ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-05-04 11:08:24.455601"], ["updated_at", "2016-05-04 11:08:24.455601"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-05-04 11:08:24.457887"], ["id", 1]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.6ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'dolorem' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "dolorem"], ["created_at", "2016-05-04 11:08:24.474336"], ["updated_at", "2016-05-04 11:08:24.474336"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'iste' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "iste"], ["created_at", "2016-05-04 11:08:24.480461"], ["updated_at", "2016-05-04 11:08:24.480461"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "That Good Night"], ["price", "35.36"], ["description", "Ut incidunt provident et est illo. In velit qui. Soluta voluptas quisquam iste eos rerum."], ["in_stock", 32], ["category_id", 3], ["created_at", "2016-05-04 11:08:24.499639"], ["updated_at", "2016-05-04 11:08:24.499639"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Endless Night"], ["price", "15.18"], ["description", "Fugit quis explicabo. Unde quia ut est adipisci distinctio in. Ducimus distinctio id voluptatem. Nihil provident vel recusandae. Et sit officia ad ut."], ["in_stock", 63], ["category_id", 3], ["created_at", "2016-05-04 11:08:24.504849"], ["updated_at", "2016-05-04 11:08:24.504849"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Absalom, Absalom!"], ["price", "88.88"], ["description", "Suscipit nihil odio beatae quia aliquam laudantium ut. Autem voluptates quibusdam corrupti. Minus dolores beatae soluta quia sunt qui sed. Beatae iure consequatur est sequi. Accusamus nemo explicabo odio."], ["in_stock", 88], ["category_id", 3], ["created_at", "2016-05-04 11:08:24.508945"], ["updated_at", "2016-05-04 11:08:24.508945"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE "books"."category_id" = $1  [["category_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mCountry Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.8ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-05-04 11:08:24.533260"], ["updated_at", "2016-05-04 11:08:24.533260"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-05-04 11:08:24.535675"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.2ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "use", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "8c08ed6q3"], ["use", "t"], ["created_at", "2016-05-04 11:08:24.670507"], ["updated_at", "2016-05-04 11:08:24.670507"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "y3nru4d7f"], ["created_at", "2016-05-04 11:08:24.672912"], ["updated_at", "2016-05-04 11:08:24.672912"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "54u9ogqqz"], ["created_at", "2016-05-04 11:08:24.675358"], ["updated_at", "2016-05-04 11:08:24.675358"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCupon Load (0.2ms)[0m  SELECT  "cupons".* FROM "cupons" WHERE "cupons"."value" = $1  ORDER BY "cupons"."id" ASC LIMIT 1  [["value", "54u9ogqqz"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "41.2"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.681353"], ["updated_at", "2016-05-04 11:08:24.681353"]]
  [1m[35m (13.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:08:24.719979"], ["updated_at", "2016-05-04 11:08:24.719979"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:08:24.722303"], ["updated_at", "2016-05-04 11:08:24.722303"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:08:24.723925"], ["updated_at", "2016-05-04 11:08:24.723925"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'cristina@schmidt.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Amalia"], ["lastname", "Koelpin"], ["email", "cristina@schmidt.com"], ["encrypted_password", "$2a$04$s3HTNFYaX6/LDSaewShkFel0tUdr6aYL2lBm9pivoM/0p/roFWCwu"], ["created_at", "2016-05-04 11:08:24.732153"], ["updated_at", "2016-05-04 11:08:24.732153"]]
  [1m[35m (9.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "86.88"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.789645"], ["updated_at", "2016-05-04 11:08:24.789645"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "11.37"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.794877"], ["updated_at", "2016-05-04 11:08:24.794877"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.800562"], ["updated_at", "2016-05-04 11:08:24.800562"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "4.85"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.811170"], ["updated_at", "2016-05-04 11:08:24.811170"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "13.98"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.814271"], ["updated_at", "2016-05-04 11:08:24.814271"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "43.09"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.816916"], ["updated_at", "2016-05-04 11:08:24.816916"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "38.05"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.819413"], ["updated_at", "2016-05-04 11:08:24.819413"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "12.73"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.821776"], ["updated_at", "2016-05-04 11:08:24.821776"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "85.17"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.824077"], ["updated_at", "2016-05-04 11:08:24.824077"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "97.37"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.826650"], ["updated_at", "2016-05-04 11:08:24.826650"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "69.37"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.830170"], ["updated_at", "2016-05-04 11:08:24.830170"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "92.5"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.839635"], ["updated_at", "2016-05-04 11:08:24.839635"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "97.09"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.842408"], ["updated_at", "2016-05-04 11:08:24.842408"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "86.95"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.844821"], ["updated_at", "2016-05-04 11:08:24.844821"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "31.14"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.847099"], ["updated_at", "2016-05-04 11:08:24.847099"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "69.31"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.849376"], ["updated_at", "2016-05-04 11:08:24.849376"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "61.34"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.851571"], ["updated_at", "2016-05-04 11:08:24.851571"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "96.89"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.853726"], ["updated_at", "2016-05-04 11:08:24.853726"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "85.67"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.855740"], ["updated_at", "2016-05-04 11:08:24.855740"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "67.38"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.863162"], ["updated_at", "2016-05-04 11:08:24.863162"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "47.55"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.867152"], ["updated_at", "2016-05-04 11:08:24.867152"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "0.11"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.870614"], ["updated_at", "2016-05-04 11:08:24.870614"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "12.8"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.873341"], ["updated_at", "2016-05-04 11:08:24.873341"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "54.73"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.875741"], ["updated_at", "2016-05-04 11:08:24.875741"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "68.47"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.878080"], ["updated_at", "2016-05-04 11:08:24.878080"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "89.5"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.880449"], ["updated_at", "2016-05-04 11:08:24.880449"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "95.7"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.883079"], ["updated_at", "2016-05-04 11:08:24.883079"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_delivery"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "65.68"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.888099"], ["updated_at", "2016-05-04 11:08:24.888099"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "86.65"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.893222"], ["updated_at", "2016-05-04 11:08:24.893222"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "56.51"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.897985"], ["updated_at", "2016-05-04 11:08:24.897985"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "20.13"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.902363"], ["updated_at", "2016-05-04 11:08:24.902363"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "62.93"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.906118"], ["updated_at", "2016-05-04 11:08:24.906118"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "1.35"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.909525"], ["updated_at", "2016-05-04 11:08:24.909525"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "40.26"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.913080"], ["updated_at", "2016-05-04 11:08:24.913080"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "67.18"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:08:24.916396"], ["updated_at", "2016-05-04 11:08:24.916396"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "delivered"]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'cristina@schmidt.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'cristina@schmidt.com' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (26.5ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$xCRWHTwarcEmJbtPGq/W5urmno/gj2djs3VsMDm4PcTwqc8hAER8S"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:10:10.578723"], ["updated_at", "2016-05-04 11:10:10.578723"]]
  [1m[35m (5.7ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:10:10.610214"], ["updated_at", "2016-05-04 11:10:10.610214"]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:10:10.622333"], ["updated_at", "2016-05-04 11:10:10.622333"]]
  [1m[36m (4.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:10:10.630770"], ["updated_at", "2016-05-04 11:10:10.630770"]]
  [1m[35m (10.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:10:10.669710"], ["updated_at", "2016-05-04 11:10:10.669710"]]
  [1m[36m (15.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:10:10.697854"], ["updated_at", "2016-05-04 11:10:10.697854"]]
  [1m[35m (9.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:10:10.710608"], ["updated_at", "2016-05-04 11:10:10.710608"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:10:10.721638"], ["updated_at", "2016-05-04 11:10:10.721638"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:10:10.732982"], ["updated_at", "2016-05-04 11:10:10.732982"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:10:10.744089"], ["updated_at", "2016-05-04 11:10:10.744089"]]
  [1m[35m (8.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:10:10.754791"], ["updated_at", "2016-05-04 11:10:10.754791"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:10:10.766207"], ["updated_at", "2016-05-04 11:10:10.766207"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:10:10.777270"], ["updated_at", "2016-05-04 11:10:10.777270"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:10:10.788251"], ["updated_at", "2016-05-04 11:10:10.788251"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:10:10.799026"], ["updated_at", "2016-05-04 11:10:10.799026"]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1378.5ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "22.54"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:10:12.228141"], ["updated_at", "2016-05-04 11:10:12.228141"]]
  [1m[36m (10.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:10:12.274621"], ["updated_at", "2016-05-04 11:10:12.274621"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:10:12.279026"], ["updated_at", "2016-05-04 11:10:12.279026"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:10:12.281320"], ["updated_at", "2016-05-04 11:10:12.281320"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$oZ2iOSB2Ae8MfhjgziFYyOmSnFo0NQGNrcTzILa8ogrbPE5YvJQ4a"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:14:11.312853"], ["updated_at", "2016-05-04 11:14:11.312853"]]
  [1m[35m (13.2ms)[0m  COMMIT
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:14:11.359075"], ["updated_at", "2016-05-04 11:14:11.359075"]]
  [1m[35m (11.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:14:11.376108"], ["updated_at", "2016-05-04 11:14:11.376108"]]
  [1m[36m (6.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:14:11.387068"], ["updated_at", "2016-05-04 11:14:11.387068"]]
  [1m[35m (4.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:14:11.419636"], ["updated_at", "2016-05-04 11:14:11.419636"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:14:11.439587"], ["updated_at", "2016-05-04 11:14:11.439587"]]
  [1m[35m (9.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:14:11.453007"], ["updated_at", "2016-05-04 11:14:11.453007"]]
  [1m[36m (6.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:14:11.464064"], ["updated_at", "2016-05-04 11:14:11.464064"]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:14:11.475438"], ["updated_at", "2016-05-04 11:14:11.475438"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:14:11.486494"], ["updated_at", "2016-05-04 11:14:11.486494"]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:14:11.497380"], ["updated_at", "2016-05-04 11:14:11.497380"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:14:11.508130"], ["updated_at", "2016-05-04 11:14:11.508130"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:14:11.519178"], ["updated_at", "2016-05-04 11:14:11.519178"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:14:11.530532"], ["updated_at", "2016-05-04 11:14:11.530532"]]
  [1m[35m (8.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:14:11.541261"], ["updated_at", "2016-05-04 11:14:11.541261"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2200.9ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "7.43"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:14:13.794600"], ["updated_at", "2016-05-04 11:14:13.794600"]]
  [1m[36m (43.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:14:13.891728"], ["updated_at", "2016-05-04 11:14:13.891728"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:14:13.896089"], ["updated_at", "2016-05-04 11:14:13.896089"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:14:13.914779"], ["updated_at", "2016-05-04 11:14:13.914779"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$nvN/zUeV1Pk52zOTsUtO2ejlzhel3OW3r4f6JZ5SWr0bcflmxUrH."], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:14:58.544932"], ["updated_at", "2016-05-04 11:14:58.544932"]]
  [1m[35m (115.9ms)[0m  COMMIT
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:14:58.695100"], ["updated_at", "2016-05-04 11:14:58.695100"]]
  [1m[35m (9.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:14:58.712425"], ["updated_at", "2016-05-04 11:14:58.712425"]]
  [1m[36m (7.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:14:58.724106"], ["updated_at", "2016-05-04 11:14:58.724106"]]
  [1m[35m (5.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:14:58.766878"], ["updated_at", "2016-05-04 11:14:58.766878"]]
  [1m[36m (7.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:14:58.788826"], ["updated_at", "2016-05-04 11:14:58.788826"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:14:58.800991"], ["updated_at", "2016-05-04 11:14:58.800991"]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:14:58.812291"], ["updated_at", "2016-05-04 11:14:58.812291"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:14:58.823004"], ["updated_at", "2016-05-04 11:14:58.823004"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:14:58.834173"], ["updated_at", "2016-05-04 11:14:58.834173"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:14:58.846368"], ["updated_at", "2016-05-04 11:14:58.846368"]]
  [1m[36m (6.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:14:58.856336"], ["updated_at", "2016-05-04 11:14:58.856336"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:14:58.867342"], ["updated_at", "2016-05-04 11:14:58.867342"]]
  [1m[36m (9.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:14:58.879986"], ["updated_at", "2016-05-04 11:14:58.879986"]]
  [1m[35m (6.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:14:58.889702"], ["updated_at", "2016-05-04 11:14:58.889702"]]
  [1m[36m (8.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (0.8ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1513.8ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "90.14"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:15:00.450463"], ["updated_at", "2016-05-04 11:15:00.450463"]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:15:00.498281"], ["updated_at", "2016-05-04 11:15:00.498281"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:15:00.501446"], ["updated_at", "2016-05-04 11:15:00.501446"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:15:00.503606"], ["updated_at", "2016-05-04 11:15:00.503606"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$N8bjiJlp025CWvOM4vA2GuANyF1Nu7DkzW2uxpMEQ2Bf2msyHEKte"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:15:49.244569"], ["updated_at", "2016-05-04 11:15:49.244569"]]
  [1m[35m (73.3ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:15:49.351974"], ["updated_at", "2016-05-04 11:15:49.351974"]]
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:15:49.363779"], ["updated_at", "2016-05-04 11:15:49.363779"]]
  [1m[36m (9.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:15:49.378133"], ["updated_at", "2016-05-04 11:15:49.378133"]]
  [1m[35m (6.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:15:49.417554"], ["updated_at", "2016-05-04 11:15:49.417554"]]
  [1m[36m (11.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:15:49.442202"], ["updated_at", "2016-05-04 11:15:49.442202"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:15:49.454445"], ["updated_at", "2016-05-04 11:15:49.454445"]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:15:49.465747"], ["updated_at", "2016-05-04 11:15:49.465747"]]
  [1m[35m (8.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:15:49.476829"], ["updated_at", "2016-05-04 11:15:49.476829"]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:15:49.487771"], ["updated_at", "2016-05-04 11:15:49.487771"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:15:49.498941"], ["updated_at", "2016-05-04 11:15:49.498941"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:15:49.510358"], ["updated_at", "2016-05-04 11:15:49.510358"]]
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:15:49.521583"], ["updated_at", "2016-05-04 11:15:49.521583"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:15:49.532685"], ["updated_at", "2016-05-04 11:15:49.532685"]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:15:49.544176"], ["updated_at", "2016-05-04 11:15:49.544176"]]
  [1m[36m (6.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1447.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "23.12"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:15:51.047519"], ["updated_at", "2016-05-04 11:15:51.047519"]]
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:15:51.092200"], ["updated_at", "2016-05-04 11:15:51.092200"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:15:51.095430"], ["updated_at", "2016-05-04 11:15:51.095430"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:15:51.097846"], ["updated_at", "2016-05-04 11:15:51.097846"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:15:51.103252"], ["updated_at", "2016-05-04 11:15:51.103252"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:15:51.105931"], ["updated_at", "2016-05-04 11:15:51.105931"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:15:51.237976"], ["updated_at", "2016-05-04 11:15:51.237976"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:15:51.247529"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:15:51.276536"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$okMvV6E/AlP.NHbQVRO5b..LlYEVMOe7VBZD9ESptj0mZYChgfeKi"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:16:41.891324"], ["updated_at", "2016-05-04 11:16:41.891324"]]
  [1m[35m (21.1ms)[0m  COMMIT
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:16:41.938073"], ["updated_at", "2016-05-04 11:16:41.938073"]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:16:41.950445"], ["updated_at", "2016-05-04 11:16:41.950445"]]
  [1m[36m (4.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:16:41.958332"], ["updated_at", "2016-05-04 11:16:41.958332"]]
  [1m[35m (10.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:16:41.998785"], ["updated_at", "2016-05-04 11:16:41.998785"]]
  [1m[36m (14.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:16:42.024915"], ["updated_at", "2016-05-04 11:16:42.024915"]]
  [1m[35m (10.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:16:42.038549"], ["updated_at", "2016-05-04 11:16:42.038549"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:16:42.049834"], ["updated_at", "2016-05-04 11:16:42.049834"]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:16:42.060796"], ["updated_at", "2016-05-04 11:16:42.060796"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:16:42.071676"], ["updated_at", "2016-05-04 11:16:42.071676"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:16:42.082773"], ["updated_at", "2016-05-04 11:16:42.082773"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:16:42.094018"], ["updated_at", "2016-05-04 11:16:42.094018"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:16:42.104689"], ["updated_at", "2016-05-04 11:16:42.104689"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:16:42.115978"], ["updated_at", "2016-05-04 11:16:42.115978"]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:16:42.127117"], ["updated_at", "2016-05-04 11:16:42.127117"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1490.4ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "87.89"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:16:43.669420"], ["updated_at", "2016-05-04 11:16:43.669420"]]
  [1m[36m (2.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:16:43.716072"], ["updated_at", "2016-05-04 11:16:43.716072"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:16:43.720392"], ["updated_at", "2016-05-04 11:16:43.720392"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:16:43.723975"], ["updated_at", "2016-05-04 11:16:43.723975"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:16:43.731658"], ["updated_at", "2016-05-04 11:16:43.731658"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:16:43.735496"], ["updated_at", "2016-05-04 11:16:43.735496"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:16:43.758300"], ["updated_at", "2016-05-04 11:16:43.758300"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:16:43.762060"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:16:43.766787"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$rkaStpWdSfh3HAQmoJP3ZO30fhH77VhJzW3gqDV27850p.tI3vxpG"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:17:08.491261"], ["updated_at", "2016-05-04 11:17:08.491261"]]
  [1m[35m (42.1ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:17:08.563431"], ["updated_at", "2016-05-04 11:17:08.563431"]]
  [1m[35m (7.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:17:08.575514"], ["updated_at", "2016-05-04 11:17:08.575514"]]
  [1m[36m (7.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:17:08.586546"], ["updated_at", "2016-05-04 11:17:08.586546"]]
  [1m[35m (7.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:17:08.625739"], ["updated_at", "2016-05-04 11:17:08.625739"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:17:08.648332"], ["updated_at", "2016-05-04 11:17:08.648332"]]
  [1m[35m (11.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:17:08.663450"], ["updated_at", "2016-05-04 11:17:08.663450"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:17:08.674851"], ["updated_at", "2016-05-04 11:17:08.674851"]]
  [1m[35m (7.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:17:08.685525"], ["updated_at", "2016-05-04 11:17:08.685525"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:17:08.696777"], ["updated_at", "2016-05-04 11:17:08.696777"]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:17:08.707967"], ["updated_at", "2016-05-04 11:17:08.707967"]]
  [1m[36m (7.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:17:08.718870"], ["updated_at", "2016-05-04 11:17:08.718870"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:17:08.730128"], ["updated_at", "2016-05-04 11:17:08.730128"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:17:08.741273"], ["updated_at", "2016-05-04 11:17:08.741273"]]
  [1m[35m (7.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:17:08.751956"], ["updated_at", "2016-05-04 11:17:08.751956"]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1376.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "81.94"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:17:10.182261"], ["updated_at", "2016-05-04 11:17:10.182261"]]
  [1m[36m (15.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (1.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:17:10.236373"], ["updated_at", "2016-05-04 11:17:10.236373"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:17:10.241619"], ["updated_at", "2016-05-04 11:17:10.241619"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:17:10.245230"], ["updated_at", "2016-05-04 11:17:10.245230"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:17:10.251603"], ["updated_at", "2016-05-04 11:17:10.251603"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:17:10.255234"], ["updated_at", "2016-05-04 11:17:10.255234"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:17:10.264601"], ["updated_at", "2016-05-04 11:17:10.264601"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:17:10.267950"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:17:10.272414"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$J9E8QPuxI7YfbCV9yt3xwe2/.oqpXzCofcOxk616uUFFEeyVXgS4a"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:17:22.816453"], ["updated_at", "2016-05-04 11:17:22.816453"]]
  [1m[35m (61.4ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:17:22.915763"], ["updated_at", "2016-05-04 11:17:22.915763"]]
  [1m[35m (9.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:17:22.931407"], ["updated_at", "2016-05-04 11:17:22.931407"]]
  [1m[36m (5.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:17:22.942315"], ["updated_at", "2016-05-04 11:17:22.942315"]]
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:17:22.985908"], ["updated_at", "2016-05-04 11:17:22.985908"]]
  [1m[36m (6.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:17:23.007931"], ["updated_at", "2016-05-04 11:17:23.007931"]]
  [1m[35m (3.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:17:23.015326"], ["updated_at", "2016-05-04 11:17:23.015326"]]
  [1m[36m (11.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:17:23.029622"], ["updated_at", "2016-05-04 11:17:23.029622"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:17:23.040590"], ["updated_at", "2016-05-04 11:17:23.040590"]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:17:23.051856"], ["updated_at", "2016-05-04 11:17:23.051856"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:17:23.062852"], ["updated_at", "2016-05-04 11:17:23.062852"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:17:23.074406"], ["updated_at", "2016-05-04 11:17:23.074406"]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:17:23.085149"], ["updated_at", "2016-05-04 11:17:23.085149"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:17:23.096021"], ["updated_at", "2016-05-04 11:17:23.096021"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:17:23.107044"], ["updated_at", "2016-05-04 11:17:23.107044"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1387.9ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "57.59"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:17:24.560264"], ["updated_at", "2016-05-04 11:17:24.560264"]]
  [1m[36m (17.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:17:24.626956"], ["updated_at", "2016-05-04 11:17:24.626956"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:17:24.631290"], ["updated_at", "2016-05-04 11:17:24.631290"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:17:24.648006"], ["updated_at", "2016-05-04 11:17:24.648006"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:17:24.654907"], ["updated_at", "2016-05-04 11:17:24.654907"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:17:24.658065"], ["updated_at", "2016-05-04 11:17:24.658065"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:17:24.666472"], ["updated_at", "2016-05-04 11:17:24.666472"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:17:24.669843"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:17:24.674176"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$SVn8jAZNhn7w.3pE88TsXeMIeOb0flRsyAGwv0HAE9UWXyJawl./q"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:17:41.359156"], ["updated_at", "2016-05-04 11:17:41.359156"]]
  [1m[35m (49.3ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:17:41.435418"], ["updated_at", "2016-05-04 11:17:41.435418"]]
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:17:41.447047"], ["updated_at", "2016-05-04 11:17:41.447047"]]
  [1m[36m (5.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:17:41.458170"], ["updated_at", "2016-05-04 11:17:41.458170"]]
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:17:41.499266"], ["updated_at", "2016-05-04 11:17:41.499266"]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:17:41.522242"], ["updated_at", "2016-05-04 11:17:41.522242"]]
  [1m[35m (8.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:17:41.534438"], ["updated_at", "2016-05-04 11:17:41.534438"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:17:41.545479"], ["updated_at", "2016-05-04 11:17:41.545479"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:17:41.556390"], ["updated_at", "2016-05-04 11:17:41.556390"]]
  [1m[36m (5.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:17:41.564068"], ["updated_at", "2016-05-04 11:17:41.564068"]]
  [1m[35m (12.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:17:41.578980"], ["updated_at", "2016-05-04 11:17:41.578980"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:17:41.589437"], ["updated_at", "2016-05-04 11:17:41.589437"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:17:41.601592"], ["updated_at", "2016-05-04 11:17:41.601592"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:17:41.612510"], ["updated_at", "2016-05-04 11:17:41.612510"]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:17:41.623444"], ["updated_at", "2016-05-04 11:17:41.623444"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1543.1ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "12.08"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:17:43.220757"], ["updated_at", "2016-05-04 11:17:43.220757"]]
  [1m[36m (5.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:17:43.284960"], ["updated_at", "2016-05-04 11:17:43.284960"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:17:43.289049"], ["updated_at", "2016-05-04 11:17:43.289049"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:17:43.291713"], ["updated_at", "2016-05-04 11:17:43.291713"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:17:43.298211"], ["updated_at", "2016-05-04 11:17:43.298211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:17:43.301334"], ["updated_at", "2016-05-04 11:17:43.301334"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:17:43.310646"], ["updated_at", "2016-05-04 11:17:43.310646"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.7ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:17:43.315682"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:17:43.320886"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mOrderItem Load (0.6ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.7ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.7ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.7ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$g68FRjJJ65iyPkbH6FrQyuBUzTa8bgPxL0LSpDcOejnFPQgQ.5GTy"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:20:04.028666"], ["updated_at", "2016-05-04 11:20:04.028666"]]
  [1m[35m (50.9ms)[0m  COMMIT
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:20:04.103620"], ["updated_at", "2016-05-04 11:20:04.103620"]]
  [1m[35m (12.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:20:04.120622"], ["updated_at", "2016-05-04 11:20:04.120622"]]
  [1m[36m (7.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:20:04.131239"], ["updated_at", "2016-05-04 11:20:04.131239"]]
  [1m[35m (7.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:20:04.167913"], ["updated_at", "2016-05-04 11:20:04.167913"]]
  [1m[36m (15.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:20:04.195857"], ["updated_at", "2016-05-04 11:20:04.195857"]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:20:04.208567"], ["updated_at", "2016-05-04 11:20:04.208567"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:20:04.219726"], ["updated_at", "2016-05-04 11:20:04.219726"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:20:04.230688"], ["updated_at", "2016-05-04 11:20:04.230688"]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:20:04.241761"], ["updated_at", "2016-05-04 11:20:04.241761"]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:20:04.253152"], ["updated_at", "2016-05-04 11:20:04.253152"]]
  [1m[36m (7.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:20:04.264319"], ["updated_at", "2016-05-04 11:20:04.264319"]]
  [1m[35m (4.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:20:04.272218"], ["updated_at", "2016-05-04 11:20:04.272218"]]
  [1m[36m (10.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:20:04.287214"], ["updated_at", "2016-05-04 11:20:04.287214"]]
  [1m[35m (7.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:20:04.297764"], ["updated_at", "2016-05-04 11:20:04.297764"]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1606.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "0.46"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:20:05.961249"], ["updated_at", "2016-05-04 11:20:05.961249"]]
  [1m[36m (7.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:20:06.010635"], ["updated_at", "2016-05-04 11:20:06.010635"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:20:06.015104"], ["updated_at", "2016-05-04 11:20:06.015104"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:20:06.018179"], ["updated_at", "2016-05-04 11:20:06.018179"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:20:06.026036"], ["updated_at", "2016-05-04 11:20:06.026036"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:20:06.029391"], ["updated_at", "2016-05-04 11:20:06.029391"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:20:06.052555"], ["updated_at", "2016-05-04 11:20:06.052555"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:20:06.056220"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:20:06.061015"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "users"
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$rdtWgCR.UZkmQkvgYNGNBeob392knbc/MedbX73qrxVtm7.3xzSNy"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:20:26.412347"], ["updated_at", "2016-05-04 11:20:26.412347"]]
  [1m[35m (24.0ms)[0m  COMMIT
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:20:26.459381"], ["updated_at", "2016-05-04 11:20:26.459381"]]
  [1m[35m (11.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:20:26.475218"], ["updated_at", "2016-05-04 11:20:26.475218"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:20:26.486095"], ["updated_at", "2016-05-04 11:20:26.486095"]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:20:26.521967"], ["updated_at", "2016-05-04 11:20:26.521967"]]
  [1m[36m (15.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:20:26.550762"], ["updated_at", "2016-05-04 11:20:26.550762"]]
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:20:26.562971"], ["updated_at", "2016-05-04 11:20:26.562971"]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:20:26.573923"], ["updated_at", "2016-05-04 11:20:26.573923"]]
  [1m[35m (5.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:20:26.582041"], ["updated_at", "2016-05-04 11:20:26.582041"]]
  [1m[36m (10.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:20:26.596488"], ["updated_at", "2016-05-04 11:20:26.596488"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:20:26.607519"], ["updated_at", "2016-05-04 11:20:26.607519"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:20:26.618564"], ["updated_at", "2016-05-04 11:20:26.618564"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:20:26.630105"], ["updated_at", "2016-05-04 11:20:26.630105"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:20:26.641038"], ["updated_at", "2016-05-04 11:20:26.641038"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:20:26.651946"], ["updated_at", "2016-05-04 11:20:26.651946"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1599.8ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "38.71"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:20:28.314989"], ["updated_at", "2016-05-04 11:20:28.314989"]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:20:28.375252"], ["updated_at", "2016-05-04 11:20:28.375252"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:20:28.378382"], ["updated_at", "2016-05-04 11:20:28.378382"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:20:28.381066"], ["updated_at", "2016-05-04 11:20:28.381066"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:20:28.387539"], ["updated_at", "2016-05-04 11:20:28.387539"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:20:28.390315"], ["updated_at", "2016-05-04 11:20:28.390315"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:20:28.398706"], ["updated_at", "2016-05-04 11:20:28.398706"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:20:28.401679"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:20:28.405437"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$f/frPKjDvwrGQ71jWJpmfOxKFgCFQKMChiwzk14HR9o6Bdu.UjQ72"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:22:32.814753"], ["updated_at", "2016-05-04 11:22:32.814753"]]
  [1m[35m (11.1ms)[0m  COMMIT
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:22:32.850047"], ["updated_at", "2016-05-04 11:22:32.850047"]]
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:22:32.860754"], ["updated_at", "2016-05-04 11:22:32.860754"]]
  [1m[36m (10.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:22:32.874921"], ["updated_at", "2016-05-04 11:22:32.874921"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:22:32.910319"], ["updated_at", "2016-05-04 11:22:32.910319"]]
  [1m[36m (5.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:22:32.926561"], ["updated_at", "2016-05-04 11:22:32.926561"]]
  [1m[35m (11.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:22:32.940909"], ["updated_at", "2016-05-04 11:22:32.940909"]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:22:32.952241"], ["updated_at", "2016-05-04 11:22:32.952241"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:22:32.963238"], ["updated_at", "2016-05-04 11:22:32.963238"]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:22:32.974198"], ["updated_at", "2016-05-04 11:22:32.974198"]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:22:32.985556"], ["updated_at", "2016-05-04 11:22:32.985556"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:22:32.996469"], ["updated_at", "2016-05-04 11:22:32.996469"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:22:33.008260"], ["updated_at", "2016-05-04 11:22:33.008260"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:22:33.018661"], ["updated_at", "2016-05-04 11:22:33.018661"]]
  [1m[35m (9.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:22:33.029739"], ["updated_at", "2016-05-04 11:22:33.029739"]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1610.6ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "73.36"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:22:34.684467"], ["updated_at", "2016-05-04 11:22:34.684467"]]
  [1m[36m (16.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:22:34.743013"], ["updated_at", "2016-05-04 11:22:34.743013"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:22:34.747062"], ["updated_at", "2016-05-04 11:22:34.747062"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:22:34.763580"], ["updated_at", "2016-05-04 11:22:34.763580"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:22:34.769742"], ["updated_at", "2016-05-04 11:22:34.769742"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:22:34.773059"], ["updated_at", "2016-05-04 11:22:34.773059"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:22:34.781853"], ["updated_at", "2016-05-04 11:22:34.781853"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:22:34.785312"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:22:34.789715"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:22:34.797582"], ["updated_at", "2016-05-04 11:22:34.797582"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:22:34.801028"], ["updated_at", "2016-05-04 11:22:34.801028"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:22:34.803842"], ["updated_at", "2016-05-04 11:22:34.803842"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "users"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$NAtQbDnmD8SXcHHVpegjpefWW5iu2JTQgZoeTvtHHQXDnBNRiLGZW"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:24:37.173978"], ["updated_at", "2016-05-04 11:24:37.173978"]]
  [1m[35m (33.5ms)[0m  COMMIT
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:24:37.235280"], ["updated_at", "2016-05-04 11:24:37.235280"]]
  [1m[35m (15.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:24:37.257047"], ["updated_at", "2016-05-04 11:24:37.257047"]]
  [1m[36m (16.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:24:37.280083"], ["updated_at", "2016-05-04 11:24:37.280083"]]
  [1m[35m (15.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:24:37.328407"], ["updated_at", "2016-05-04 11:24:37.328407"]]
  [1m[36m (12.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:24:37.353301"], ["updated_at", "2016-05-04 11:24:37.353301"]]
  [1m[35m (10.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:24:37.366656"], ["updated_at", "2016-05-04 11:24:37.366656"]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:24:37.377901"], ["updated_at", "2016-05-04 11:24:37.377901"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:24:37.388650"], ["updated_at", "2016-05-04 11:24:37.388650"]]
  [1m[36m (5.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:24:37.396321"], ["updated_at", "2016-05-04 11:24:37.396321"]]
  [1m[35m (12.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:24:37.410972"], ["updated_at", "2016-05-04 11:24:37.410972"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:24:37.422189"], ["updated_at", "2016-05-04 11:24:37.422189"]]
  [1m[35m (8.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:24:37.433152"], ["updated_at", "2016-05-04 11:24:37.433152"]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:24:37.444247"], ["updated_at", "2016-05-04 11:24:37.444247"]]
  [1m[35m (8.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:24:37.455897"], ["updated_at", "2016-05-04 11:24:37.455897"]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1528.3ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "56.31"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:24:39.033802"], ["updated_at", "2016-05-04 11:24:39.033802"]]
  [1m[36m (28.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:24:39.120840"], ["updated_at", "2016-05-04 11:24:39.120840"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:24:39.125273"], ["updated_at", "2016-05-04 11:24:39.125273"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:24:39.127866"], ["updated_at", "2016-05-04 11:24:39.127866"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:24:39.136098"], ["updated_at", "2016-05-04 11:24:39.136098"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:24:39.140040"], ["updated_at", "2016-05-04 11:24:39.140040"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:24:39.149578"], ["updated_at", "2016-05-04 11:24:39.149578"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:24:39.153433"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:24:39.158224"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:24:39.167820"], ["updated_at", "2016-05-04 11:24:39.167820"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:24:39.172159"], ["updated_at", "2016-05-04 11:24:39.172159"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:24:39.175688"], ["updated_at", "2016-05-04 11:24:39.175688"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:24:39.183790"], ["updated_at", "2016-05-04 11:24:39.183790"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:24:39.186802"], ["updated_at", "2016-05-04 11:24:39.186802"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:24:39.189903"], ["updated_at", "2016-05-04 11:24:39.189903"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:24:39.193233"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:24:39.196230"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:24:39.199070"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$VaDdicv8czxw7gabwx8QneCFBNeArtAfCGA9L/t.tV2Z.yu8z5S6y"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:25:57.754412"], ["updated_at", "2016-05-04 11:25:57.754412"]]
  [1m[35m (3.1ms)[0m  COMMIT
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:25:57.781392"], ["updated_at", "2016-05-04 11:25:57.781392"]]
  [1m[35m (13.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:25:57.798724"], ["updated_at", "2016-05-04 11:25:57.798724"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:25:57.810273"], ["updated_at", "2016-05-04 11:25:57.810273"]]
  [1m[35m (6.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:25:57.846658"], ["updated_at", "2016-05-04 11:25:57.846658"]]
  [1m[36m (14.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:25:57.872675"], ["updated_at", "2016-05-04 11:25:57.872675"]]
  [1m[35m (11.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:25:57.886591"], ["updated_at", "2016-05-04 11:25:57.886591"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:25:57.897506"], ["updated_at", "2016-05-04 11:25:57.897506"]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:25:57.908759"], ["updated_at", "2016-05-04 11:25:57.908759"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:25:57.920013"], ["updated_at", "2016-05-04 11:25:57.920013"]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:25:57.931043"], ["updated_at", "2016-05-04 11:25:57.931043"]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:25:57.941933"], ["updated_at", "2016-05-04 11:25:57.941933"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:25:57.953064"], ["updated_at", "2016-05-04 11:25:57.953064"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:25:57.964072"], ["updated_at", "2016-05-04 11:25:57.964072"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:25:57.975481"], ["updated_at", "2016-05-04 11:25:57.975481"]]
  [1m[36m (4.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1614.2ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "98.25"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:25:59.647215"], ["updated_at", "2016-05-04 11:25:59.647215"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:25:59.717732"], ["updated_at", "2016-05-04 11:25:59.717732"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:25:59.721936"], ["updated_at", "2016-05-04 11:25:59.721936"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:25:59.724576"], ["updated_at", "2016-05-04 11:25:59.724576"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:25:59.731235"], ["updated_at", "2016-05-04 11:25:59.731235"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:25:59.734194"], ["updated_at", "2016-05-04 11:25:59.734194"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:25:59.743314"], ["updated_at", "2016-05-04 11:25:59.743314"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:25:59.746983"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:25:59.751335"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:25:59.760203"], ["updated_at", "2016-05-04 11:25:59.760203"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:25:59.764028"], ["updated_at", "2016-05-04 11:25:59.764028"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:25:59.767069"], ["updated_at", "2016-05-04 11:25:59.767069"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:25:59.774340"], ["updated_at", "2016-05-04 11:25:59.774340"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:25:59.777463"], ["updated_at", "2016-05-04 11:25:59.777463"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:25:59.781361"], ["updated_at", "2016-05-04 11:25:59.781361"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:25:59.784966"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:25:59.788145"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:25:59.790885"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:25:59.798951"], ["updated_at", "2016-05-04 11:25:59.798951"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:25:59.801575"], ["updated_at", "2016-05-04 11:25:59.801575"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:25:59.803807"], ["updated_at", "2016-05-04 11:25:59.803807"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:25:59.831503"], ["updated_at", "2016-05-04 11:25:59.831503"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:25:59.835209"], ["updated_at", "2016-05-04 11:25:59.835209"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:25:59.837542"], ["updated_at", "2016-05-04 11:25:59.837542"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$w/1h8uuycINIEB2In1ztlOYIt9OqAN.Tk13JkpayIezko2HnR9Sju"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:26:35.194589"], ["updated_at", "2016-05-04 11:26:35.194589"]]
  [1m[35m (17.7ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:26:35.236427"], ["updated_at", "2016-05-04 11:26:35.236427"]]
  [1m[35m (6.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:26:35.247429"], ["updated_at", "2016-05-04 11:26:35.247429"]]
  [1m[36m (9.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:26:35.261856"], ["updated_at", "2016-05-04 11:26:35.261856"]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:26:35.302991"], ["updated_at", "2016-05-04 11:26:35.302991"]]
  [1m[36m (9.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:26:35.327052"], ["updated_at", "2016-05-04 11:26:35.327052"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:26:35.339158"], ["updated_at", "2016-05-04 11:26:35.339158"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:26:35.350606"], ["updated_at", "2016-05-04 11:26:35.350606"]]
  [1m[35m (7.0ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:26:35.361813"], ["updated_at", "2016-05-04 11:26:35.361813"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:26:35.372520"], ["updated_at", "2016-05-04 11:26:35.372520"]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:26:35.384011"], ["updated_at", "2016-05-04 11:26:35.384011"]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:26:35.394966"], ["updated_at", "2016-05-04 11:26:35.394966"]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:26:35.406425"], ["updated_at", "2016-05-04 11:26:35.406425"]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:26:35.416688"], ["updated_at", "2016-05-04 11:26:35.416688"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:26:35.427898"], ["updated_at", "2016-05-04 11:26:35.427898"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1567.4ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "41.97"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:26:37.047907"], ["updated_at", "2016-05-04 11:26:37.047907"]]
  [1m[36m (5.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:26:37.113780"], ["updated_at", "2016-05-04 11:26:37.113780"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:26:37.118022"], ["updated_at", "2016-05-04 11:26:37.118022"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:26:37.120639"], ["updated_at", "2016-05-04 11:26:37.120639"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:26:37.127909"], ["updated_at", "2016-05-04 11:26:37.127909"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:26:37.131405"], ["updated_at", "2016-05-04 11:26:37.131405"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:26:37.140828"], ["updated_at", "2016-05-04 11:26:37.140828"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:26:37.145024"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:26:37.149968"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:26:37.161198"], ["updated_at", "2016-05-04 11:26:37.161198"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:26:37.166742"], ["updated_at", "2016-05-04 11:26:37.166742"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:26:37.171934"], ["updated_at", "2016-05-04 11:26:37.171934"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:26:37.183284"], ["updated_at", "2016-05-04 11:26:37.183284"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:26:37.186419"], ["updated_at", "2016-05-04 11:26:37.186419"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:26:37.188517"], ["updated_at", "2016-05-04 11:26:37.188517"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:26:37.191309"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:26:37.193927"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:26:37.196680"], ["id", 10]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:26:37.209275"], ["updated_at", "2016-05-04 11:26:37.209275"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:26:37.212240"], ["updated_at", "2016-05-04 11:26:37.212240"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:26:37.214853"], ["updated_at", "2016-05-04 11:26:37.214853"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$tgGdpcrdzh89suOgKFi9fulZYRL1EUljfg9lS/rO03PEwRuKGjU7."], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:29:25.747261"], ["updated_at", "2016-05-04 11:29:25.747261"]]
  [1m[35m (5.8ms)[0m  COMMIT
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:29:25.784537"], ["updated_at", "2016-05-04 11:29:25.784537"]]
  [1m[35m (13.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:29:25.803746"], ["updated_at", "2016-05-04 11:29:25.803746"]]
  [1m[36m (6.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:29:25.814428"], ["updated_at", "2016-05-04 11:29:25.814428"]]
  [1m[35m (4.0ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:29:25.848472"], ["updated_at", "2016-05-04 11:29:25.848472"]]
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:29:25.866252"], ["updated_at", "2016-05-04 11:29:25.866252"]]
  [1m[35m (10.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:29:25.880844"], ["updated_at", "2016-05-04 11:29:25.880844"]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:29:25.891806"], ["updated_at", "2016-05-04 11:29:25.891806"]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:29:25.902460"], ["updated_at", "2016-05-04 11:29:25.902460"]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:29:25.913383"], ["updated_at", "2016-05-04 11:29:25.913383"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:29:25.924504"], ["updated_at", "2016-05-04 11:29:25.924504"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:29:25.935673"], ["updated_at", "2016-05-04 11:29:25.935673"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:29:25.947350"], ["updated_at", "2016-05-04 11:29:25.947350"]]
  [1m[36m (7.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:29:25.957859"], ["updated_at", "2016-05-04 11:29:25.957859"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:29:25.968808"], ["updated_at", "2016-05-04 11:29:25.968808"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1544.8ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "93.48"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:29:27.566812"], ["updated_at", "2016-05-04 11:29:27.566812"]]
  [1m[36m (6.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:29:27.630150"], ["updated_at", "2016-05-04 11:29:27.630150"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:29:27.633910"], ["updated_at", "2016-05-04 11:29:27.633910"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:29:27.636479"], ["updated_at", "2016-05-04 11:29:27.636479"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:29:27.643341"], ["updated_at", "2016-05-04 11:29:27.643341"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:29:27.647385"], ["updated_at", "2016-05-04 11:29:27.647385"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:29:27.656547"], ["updated_at", "2016-05-04 11:29:27.656547"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:29:27.660702"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:29:27.666703"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:29:27.676952"], ["updated_at", "2016-05-04 11:29:27.676952"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:29:27.680584"], ["updated_at", "2016-05-04 11:29:27.680584"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:29:27.683578"], ["updated_at", "2016-05-04 11:29:27.683578"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:29:27.690439"], ["updated_at", "2016-05-04 11:29:27.690439"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:29:27.693208"], ["updated_at", "2016-05-04 11:29:27.693208"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:29:27.695842"], ["updated_at", "2016-05-04 11:29:27.695842"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:29:27.699355"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:29:27.702489"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:29:27.705464"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:29:27.716616"], ["updated_at", "2016-05-04 11:29:27.716616"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:29:27.719421"], ["updated_at", "2016-05-04 11:29:27.719421"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:29:27.721753"], ["updated_at", "2016-05-04 11:29:27.721753"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$HF98D.s3ju2MPMP/LA5lPuI6SL1LSRE/6VhvbSzeEmN5YEkw6GanO"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:30:36.119694"], ["updated_at", "2016-05-04 11:30:36.119694"]]
  [1m[35m (68.5ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:30:36.213485"], ["updated_at", "2016-05-04 11:30:36.213485"]]
  [1m[35m (52.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:30:36.271396"], ["updated_at", "2016-05-04 11:30:36.271396"]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:30:36.278213"], ["updated_at", "2016-05-04 11:30:36.278213"]]
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:30:36.323078"], ["updated_at", "2016-05-04 11:30:36.323078"]]
  [1m[36m (9.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:30:36.344114"], ["updated_at", "2016-05-04 11:30:36.344114"]]
  [1m[35m (11.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:30:36.358425"], ["updated_at", "2016-05-04 11:30:36.358425"]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:30:36.369546"], ["updated_at", "2016-05-04 11:30:36.369546"]]
  [1m[35m (9.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:30:36.380527"], ["updated_at", "2016-05-04 11:30:36.380527"]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:30:36.391669"], ["updated_at", "2016-05-04 11:30:36.391669"]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:30:36.402732"], ["updated_at", "2016-05-04 11:30:36.402732"]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:30:36.413698"], ["updated_at", "2016-05-04 11:30:36.413698"]]
  [1m[35m (9.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:30:36.424950"], ["updated_at", "2016-05-04 11:30:36.424950"]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:30:36.435986"], ["updated_at", "2016-05-04 11:30:36.435986"]]
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:30:36.447024"], ["updated_at", "2016-05-04 11:30:36.447024"]]
  [1m[36m (9.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1778.4ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "3.04"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:30:38.278023"], ["updated_at", "2016-05-04 11:30:38.278023"]]
  [1m[36m (17.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:30:38.355640"], ["updated_at", "2016-05-04 11:30:38.355640"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:30:38.358872"], ["updated_at", "2016-05-04 11:30:38.358872"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:30:38.361222"], ["updated_at", "2016-05-04 11:30:38.361222"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (1.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:30:38.372422"], ["updated_at", "2016-05-04 11:30:38.372422"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:30:38.375867"], ["updated_at", "2016-05-04 11:30:38.375867"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:30:38.386961"], ["updated_at", "2016-05-04 11:30:38.386961"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:30:38.390545"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:30:38.395297"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:30:38.407005"], ["updated_at", "2016-05-04 11:30:38.407005"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:30:38.411928"], ["updated_at", "2016-05-04 11:30:38.411928"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:30:38.415934"], ["updated_at", "2016-05-04 11:30:38.415934"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:30:38.424030"], ["updated_at", "2016-05-04 11:30:38.424030"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:30:38.426635"], ["updated_at", "2016-05-04 11:30:38.426635"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:30:38.431016"], ["updated_at", "2016-05-04 11:30:38.431016"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:30:38.436824"], ["id", 12]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:30:38.442583"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:30:38.445554"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$uylTuZAj90HaAM1tdMl2teeccV9IHn32iEnGpaPFSJUHa4K.9jAnW"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:31:25.946369"], ["updated_at", "2016-05-04 11:31:25.946369"]]
  [1m[35m (18.5ms)[0m  COMMIT
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:31:25.989990"], ["updated_at", "2016-05-04 11:31:25.989990"]]
  [1m[35m (5.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:31:25.999780"], ["updated_at", "2016-05-04 11:31:25.999780"]]
  [1m[36m (9.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:31:26.014750"], ["updated_at", "2016-05-04 11:31:26.014750"]]
  [1m[35m (7.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:31:26.051622"], ["updated_at", "2016-05-04 11:31:26.051622"]]
  [1m[36m (13.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:31:26.078599"], ["updated_at", "2016-05-04 11:31:26.078599"]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:31:26.091266"], ["updated_at", "2016-05-04 11:31:26.091266"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:31:26.102845"], ["updated_at", "2016-05-04 11:31:26.102845"]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:31:26.114153"], ["updated_at", "2016-05-04 11:31:26.114153"]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:31:26.124473"], ["updated_at", "2016-05-04 11:31:26.124473"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:31:26.135662"], ["updated_at", "2016-05-04 11:31:26.135662"]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:31:26.147090"], ["updated_at", "2016-05-04 11:31:26.147090"]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:31:26.158340"], ["updated_at", "2016-05-04 11:31:26.158340"]]
  [1m[36m (7.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:31:26.169468"], ["updated_at", "2016-05-04 11:31:26.169468"]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:31:26.180624"], ["updated_at", "2016-05-04 11:31:26.180624"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35mOrderItem Load (0.5ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (15591.5ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (3.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[35mSQL (1688.6ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:31:41.818645"], ["updated_at", "2016-05-04 11:31:41.818645"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:31:43.511361"], ["updated_at", "2016-05-04 11:31:43.511361"]]
  [1m[36m (1692.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:31:43.514588"], ["updated_at", "2016-05-04 11:31:43.514588"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.5ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (27.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "60.14"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:31:43.545154"], ["updated_at", "2016-05-04 11:31:43.545154"]]
  [1m[36m (15.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:31:43.604626"], ["updated_at", "2016-05-04 11:31:43.604626"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:31:43.608164"], ["updated_at", "2016-05-04 11:31:43.608164"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:31:43.611373"], ["updated_at", "2016-05-04 11:31:43.611373"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:31:43.619789"], ["updated_at", "2016-05-04 11:31:43.619789"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:31:43.622791"], ["updated_at", "2016-05-04 11:31:43.622791"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:31:43.630664"], ["updated_at", "2016-05-04 11:31:43.630664"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:31:43.634574"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:31:43.638702"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:31:43.646299"], ["updated_at", "2016-05-04 11:31:43.646299"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:31:43.650712"], ["updated_at", "2016-05-04 11:31:43.650712"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:31:43.653473"], ["updated_at", "2016-05-04 11:31:43.653473"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:31:43.660043"], ["updated_at", "2016-05-04 11:31:43.660043"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:31:43.663034"], ["updated_at", "2016-05-04 11:31:43.663034"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:31:43.665809"], ["updated_at", "2016-05-04 11:31:43.665809"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:31:43.668566"], ["id", 15]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:31:43.671342"], ["id", 14]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:31:43.673469"], ["id", 13]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:31:43.699942"], ["updated_at", "2016-05-04 11:31:43.699942"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:31:43.702644"], ["updated_at", "2016-05-04 11:31:43.702644"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:31:43.704466"], ["updated_at", "2016-05-04 11:31:43.704466"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$ra3okb5xZpkrfLl3q8BhAOl5sXDuCJMzWvkeLZsvdE3vPecBZCsCC"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:31:56.128781"], ["updated_at", "2016-05-04 11:31:56.128781"]]
  [1m[35m (21.4ms)[0m  COMMIT
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:31:56.181721"], ["updated_at", "2016-05-04 11:31:56.181721"]]
  [1m[35m (13.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:31:56.201062"], ["updated_at", "2016-05-04 11:31:56.201062"]]
  [1m[36m (6.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:31:56.211902"], ["updated_at", "2016-05-04 11:31:56.211902"]]
  [1m[35m (6.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:31:56.253995"], ["updated_at", "2016-05-04 11:31:56.253995"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:31:56.276446"], ["updated_at", "2016-05-04 11:31:56.276446"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:31:56.288691"], ["updated_at", "2016-05-04 11:31:56.288691"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:31:56.299508"], ["updated_at", "2016-05-04 11:31:56.299508"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:31:56.310660"], ["updated_at", "2016-05-04 11:31:56.310660"]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:31:56.321674"], ["updated_at", "2016-05-04 11:31:56.321674"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:31:56.332807"], ["updated_at", "2016-05-04 11:31:56.332807"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:31:56.343824"], ["updated_at", "2016-05-04 11:31:56.343824"]]
  [1m[35m (5.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:31:56.351245"], ["updated_at", "2016-05-04 11:31:56.351245"]]
  [1m[36m (12.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:31:56.366710"], ["updated_at", "2016-05-04 11:31:56.366710"]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:31:56.377538"], ["updated_at", "2016-05-04 11:31:56.377538"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1469.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "28.7"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:31:57.908352"], ["updated_at", "2016-05-04 11:31:57.908352"]]
  [1m[36m (17.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:31:57.985580"], ["updated_at", "2016-05-04 11:31:57.985580"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:31:57.988778"], ["updated_at", "2016-05-04 11:31:57.988778"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:31:57.992226"], ["updated_at", "2016-05-04 11:31:57.992226"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:31:57.998882"], ["updated_at", "2016-05-04 11:31:57.998882"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:31:58.001635"], ["updated_at", "2016-05-04 11:31:58.001635"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:31:58.010314"], ["updated_at", "2016-05-04 11:31:58.010314"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:31:58.013398"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:31:58.017495"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:31:58.026749"], ["updated_at", "2016-05-04 11:31:58.026749"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:31:58.031263"], ["updated_at", "2016-05-04 11:31:58.031263"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:31:58.035172"], ["updated_at", "2016-05-04 11:31:58.035172"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:31:58.043060"], ["updated_at", "2016-05-04 11:31:58.043060"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:31:58.046574"], ["updated_at", "2016-05-04 11:31:58.046574"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:31:58.050377"], ["updated_at", "2016-05-04 11:31:58.050377"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:31:58.055381"], ["id", 12]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:31:58.059821"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:31:58.062972"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:31:58.094003"], ["updated_at", "2016-05-04 11:31:58.094003"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:31:58.096599"], ["updated_at", "2016-05-04 11:31:58.096599"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:31:58.098582"], ["updated_at", "2016-05-04 11:31:58.098582"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$VcnGZRYK4NwmcRTiJ9eq1eJg1aHiwulTfG/kqQP6vCO9yPh6PNlj."], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:33:12.564268"], ["updated_at", "2016-05-04 11:33:12.564268"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:33:12.596553"], ["updated_at", "2016-05-04 11:33:12.596553"]]
  [1m[35m (12.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:33:12.613276"], ["updated_at", "2016-05-04 11:33:12.613276"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:33:12.624332"], ["updated_at", "2016-05-04 11:33:12.624332"]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:33:12.657895"], ["updated_at", "2016-05-04 11:33:12.657895"]]
  [1m[36m (7.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:33:12.676813"], ["updated_at", "2016-05-04 11:33:12.676813"]]
  [1m[35m (10.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:33:12.690347"], ["updated_at", "2016-05-04 11:33:12.690347"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:33:12.701784"], ["updated_at", "2016-05-04 11:33:12.701784"]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:33:12.712560"], ["updated_at", "2016-05-04 11:33:12.712560"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:33:12.723674"], ["updated_at", "2016-05-04 11:33:12.723674"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:33:12.734882"], ["updated_at", "2016-05-04 11:33:12.734882"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:33:12.745775"], ["updated_at", "2016-05-04 11:33:12.745775"]]
  [1m[35m (8.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:33:12.756429"], ["updated_at", "2016-05-04 11:33:12.756429"]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:33:12.767682"], ["updated_at", "2016-05-04 11:33:12.767682"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:33:12.778823"], ["updated_at", "2016-05-04 11:33:12.778823"]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1591.2ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "97.02"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:33:14.431768"], ["updated_at", "2016-05-04 11:33:14.431768"]]
  [1m[36m (6.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:33:14.495065"], ["updated_at", "2016-05-04 11:33:14.495065"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:33:14.498697"], ["updated_at", "2016-05-04 11:33:14.498697"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:33:14.501308"], ["updated_at", "2016-05-04 11:33:14.501308"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:33:14.507865"], ["updated_at", "2016-05-04 11:33:14.507865"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:33:14.511864"], ["updated_at", "2016-05-04 11:33:14.511864"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:33:14.520807"], ["updated_at", "2016-05-04 11:33:14.520807"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:33:14.524700"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:33:14.529341"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:33:14.538649"], ["updated_at", "2016-05-04 11:33:14.538649"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:33:14.542653"], ["updated_at", "2016-05-04 11:33:14.542653"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:33:14.545611"], ["updated_at", "2016-05-04 11:33:14.545611"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:33:14.551310"], ["updated_at", "2016-05-04 11:33:14.551310"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:33:14.554371"], ["updated_at", "2016-05-04 11:33:14.554371"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:33:14.557804"], ["updated_at", "2016-05-04 11:33:14.557804"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:33:14.560983"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:33:14.563731"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:33:14.566558"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:33:14.577842"], ["updated_at", "2016-05-04 11:33:14.577842"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:33:14.580707"], ["updated_at", "2016-05-04 11:33:14.580707"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:33:14.582992"], ["updated_at", "2016-05-04 11:33:14.582992"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$FrcBVAC6y7oviW4q1J9LzOuNb.MnCuDivMaZTd1gwArfYZQzkjQ7u"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:33:54.886895"], ["updated_at", "2016-05-04 11:33:54.886895"]]
  [1m[35m (32.3ms)[0m  COMMIT
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:33:54.944558"], ["updated_at", "2016-05-04 11:33:54.944558"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:33:54.958256"], ["updated_at", "2016-05-04 11:33:54.958256"]]
  [1m[36m (6.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:33:54.968383"], ["updated_at", "2016-05-04 11:33:54.968383"]]
  [1m[35m (6.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:33:55.004584"], ["updated_at", "2016-05-04 11:33:55.004584"]]
  [1m[36m (15.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:33:55.035771"], ["updated_at", "2016-05-04 11:33:55.035771"]]
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:33:55.045881"], ["updated_at", "2016-05-04 11:33:55.045881"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:33:55.056715"], ["updated_at", "2016-05-04 11:33:55.056715"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:33:55.067584"], ["updated_at", "2016-05-04 11:33:55.067584"]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:33:55.078758"], ["updated_at", "2016-05-04 11:33:55.078758"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:33:55.089813"], ["updated_at", "2016-05-04 11:33:55.089813"]]
  [1m[36m (4.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:33:55.097380"], ["updated_at", "2016-05-04 11:33:55.097380"]]
  [1m[35m (12.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:33:55.112600"], ["updated_at", "2016-05-04 11:33:55.112600"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:33:55.123880"], ["updated_at", "2016-05-04 11:33:55.123880"]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:33:55.134557"], ["updated_at", "2016-05-04 11:33:55.134557"]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1465.1ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "41.1"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:33:56.654115"], ["updated_at", "2016-05-04 11:33:56.654115"]]
  [1m[36m (18.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:33:56.733900"], ["updated_at", "2016-05-04 11:33:56.733900"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:33:56.737831"], ["updated_at", "2016-05-04 11:33:56.737831"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:33:56.740840"], ["updated_at", "2016-05-04 11:33:56.740840"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:33:56.749181"], ["updated_at", "2016-05-04 11:33:56.749181"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:33:56.752566"], ["updated_at", "2016-05-04 11:33:56.752566"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:33:56.761090"], ["updated_at", "2016-05-04 11:33:56.761090"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:33:56.765096"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:33:56.769823"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:33:56.778205"], ["updated_at", "2016-05-04 11:33:56.778205"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:33:56.781373"], ["updated_at", "2016-05-04 11:33:56.781373"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:33:56.784947"], ["updated_at", "2016-05-04 11:33:56.784947"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:33:56.791065"], ["updated_at", "2016-05-04 11:33:56.791065"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:33:56.793978"], ["updated_at", "2016-05-04 11:33:56.793978"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:33:56.796273"], ["updated_at", "2016-05-04 11:33:56.796273"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:33:56.799556"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:33:56.802478"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:33:56.804857"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:33:56.813557"], ["updated_at", "2016-05-04 11:33:56.813557"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:33:56.816030"], ["updated_at", "2016-05-04 11:33:56.816030"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:33:56.818041"], ["updated_at", "2016-05-04 11:33:56.818041"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$Onsd5O2Vq98nbwfpMPf4pu2YKcS7Bs8cNNqPojJd1tp1PCnL.KvP2"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:34:43.291629"], ["updated_at", "2016-05-04 11:34:43.291629"]]
  [1m[35m (20.2ms)[0m  COMMIT
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:34:43.332257"], ["updated_at", "2016-05-04 11:34:43.332257"]]
  [1m[35m (12.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:34:43.348776"], ["updated_at", "2016-05-04 11:34:43.348776"]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:34:43.359776"], ["updated_at", "2016-05-04 11:34:43.359776"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:34:43.393175"], ["updated_at", "2016-05-04 11:34:43.393175"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:34:43.411029"], ["updated_at", "2016-05-04 11:34:43.411029"]]
  [1m[35m (12.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:34:43.425777"], ["updated_at", "2016-05-04 11:34:43.425777"]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:34:43.436639"], ["updated_at", "2016-05-04 11:34:43.436639"]]
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:34:43.447696"], ["updated_at", "2016-05-04 11:34:43.447696"]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:34:43.458834"], ["updated_at", "2016-05-04 11:34:43.458834"]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:34:43.469897"], ["updated_at", "2016-05-04 11:34:43.469897"]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:34:43.481172"], ["updated_at", "2016-05-04 11:34:43.481172"]]
  [1m[35m (5.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:34:43.488626"], ["updated_at", "2016-05-04 11:34:43.488626"]]
  [1m[36m (12.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:34:43.503333"], ["updated_at", "2016-05-04 11:34:43.503333"]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:34:43.514454"], ["updated_at", "2016-05-04 11:34:43.514454"]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1666.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "78.65"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:34:45.243417"], ["updated_at", "2016-05-04 11:34:45.243417"]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:34:45.303794"], ["updated_at", "2016-05-04 11:34:45.303794"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:34:45.307340"], ["updated_at", "2016-05-04 11:34:45.307340"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:34:45.310414"], ["updated_at", "2016-05-04 11:34:45.310414"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:34:45.316820"], ["updated_at", "2016-05-04 11:34:45.316820"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:34:45.319972"], ["updated_at", "2016-05-04 11:34:45.319972"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:34:45.329190"], ["updated_at", "2016-05-04 11:34:45.329190"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:34:45.332678"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:34:45.337123"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:34:45.345720"], ["updated_at", "2016-05-04 11:34:45.345720"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:34:45.349197"], ["updated_at", "2016-05-04 11:34:45.349197"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:34:45.352156"], ["updated_at", "2016-05-04 11:34:45.352156"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:34:45.357730"], ["updated_at", "2016-05-04 11:34:45.357730"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:34:45.360328"], ["updated_at", "2016-05-04 11:34:45.360328"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:34:45.362433"], ["updated_at", "2016-05-04 11:34:45.362433"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:34:45.365803"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:34:45.369161"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:34:45.372263"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:34:45.382526"], ["updated_at", "2016-05-04 11:34:45.382526"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:34:45.385943"], ["updated_at", "2016-05-04 11:34:45.385943"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:34:45.389838"], ["updated_at", "2016-05-04 11:34:45.389838"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$hXElaoT.ixKqfDM1Gty2Cex7IrCq9kHg6vzGpOgba31DxfbKk6cD."], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:34:55.271784"], ["updated_at", "2016-05-04 11:34:55.271784"]]
  [1m[35m (83.3ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:34:55.389817"], ["updated_at", "2016-05-04 11:34:55.389817"]]
  [1m[35m (13.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:34:55.408574"], ["updated_at", "2016-05-04 11:34:55.408574"]]
  [1m[36m (6.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:34:55.419443"], ["updated_at", "2016-05-04 11:34:55.419443"]]
  [1m[35m (6.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:34:55.458354"], ["updated_at", "2016-05-04 11:34:55.458354"]]
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:34:55.483700"], ["updated_at", "2016-05-04 11:34:55.483700"]]
  [1m[35m (5.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:34:55.492160"], ["updated_at", "2016-05-04 11:34:55.492160"]]
  [1m[36m (12.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:34:55.507100"], ["updated_at", "2016-05-04 11:34:55.507100"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:34:55.518430"], ["updated_at", "2016-05-04 11:34:55.518430"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:34:55.529275"], ["updated_at", "2016-05-04 11:34:55.529275"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:34:55.540440"], ["updated_at", "2016-05-04 11:34:55.540440"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:34:55.551682"], ["updated_at", "2016-05-04 11:34:55.551682"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:34:55.562591"], ["updated_at", "2016-05-04 11:34:55.562591"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:34:55.573801"], ["updated_at", "2016-05-04 11:34:55.573801"]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:34:55.585494"], ["updated_at", "2016-05-04 11:34:55.585494"]]
  [1m[36m (7.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (1862.3ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "56.64"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:34:57.503154"], ["updated_at", "2016-05-04 11:34:57.503154"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:34:57.564951"], ["updated_at", "2016-05-04 11:34:57.564951"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:34:57.568426"], ["updated_at", "2016-05-04 11:34:57.568426"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:34:57.571389"], ["updated_at", "2016-05-04 11:34:57.571389"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:34:57.577885"], ["updated_at", "2016-05-04 11:34:57.577885"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:34:57.581218"], ["updated_at", "2016-05-04 11:34:57.581218"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:34:57.590389"], ["updated_at", "2016-05-04 11:34:57.590389"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:34:57.594028"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:34:57.598960"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:34:57.607226"], ["updated_at", "2016-05-04 11:34:57.607226"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:34:57.610753"], ["updated_at", "2016-05-04 11:34:57.610753"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:34:57.613555"], ["updated_at", "2016-05-04 11:34:57.613555"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:34:57.620050"], ["updated_at", "2016-05-04 11:34:57.620050"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:34:57.622572"], ["updated_at", "2016-05-04 11:34:57.622572"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:34:57.624731"], ["updated_at", "2016-05-04 11:34:57.624731"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:34:57.628174"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:34:57.630879"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:34:57.633305"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:34:57.643800"], ["updated_at", "2016-05-04 11:34:57.643800"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:34:57.646211"], ["updated_at", "2016-05-04 11:34:57.646211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:34:57.648107"], ["updated_at", "2016-05-04 11:34:57.648107"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$idSFJvuep5Cz7M1ccY4C2u/a/D8nbbfokluzEFx0LZew.pNu8.6LC"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:35:27.561379"], ["updated_at", "2016-05-04 11:35:27.561379"]]
  [1m[35m (35.6ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:35:27.620271"], ["updated_at", "2016-05-04 11:35:27.620271"]]
  [1m[35m (10.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:35:27.635688"], ["updated_at", "2016-05-04 11:35:27.635688"]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:35:27.642184"], ["updated_at", "2016-05-04 11:35:27.642184"]]
  [1m[35m (11.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:35:27.696973"], ["updated_at", "2016-05-04 11:35:27.696973"]]
  [1m[36m (10.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:35:27.723943"], ["updated_at", "2016-05-04 11:35:27.723943"]]
  [1m[35m (6.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:35:27.735017"], ["updated_at", "2016-05-04 11:35:27.735017"]]
  [1m[36m (6.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:35:27.745425"], ["updated_at", "2016-05-04 11:35:27.745425"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:35:27.756404"], ["updated_at", "2016-05-04 11:35:27.756404"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:35:27.767720"], ["updated_at", "2016-05-04 11:35:27.767720"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:35:27.779237"], ["updated_at", "2016-05-04 11:35:27.779237"]]
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:35:27.789973"], ["updated_at", "2016-05-04 11:35:27.789973"]]
  [1m[35m (8.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:35:27.801198"], ["updated_at", "2016-05-04 11:35:27.801198"]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:35:27.812115"], ["updated_at", "2016-05-04 11:35:27.812115"]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:35:27.823454"], ["updated_at", "2016-05-04 11:35:27.823454"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (3.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2005.2ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "28.83"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:35:29.886949"], ["updated_at", "2016-05-04 11:35:29.886949"]]
  [1m[36m (17.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:35:29.965809"], ["updated_at", "2016-05-04 11:35:29.965809"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:35:29.969799"], ["updated_at", "2016-05-04 11:35:29.969799"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:35:29.972294"], ["updated_at", "2016-05-04 11:35:29.972294"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:35:29.979167"], ["updated_at", "2016-05-04 11:35:29.979167"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:35:29.982547"], ["updated_at", "2016-05-04 11:35:29.982547"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:35:29.991091"], ["updated_at", "2016-05-04 11:35:29.991091"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:35:29.994547"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:35:29.999203"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:35:30.007690"], ["updated_at", "2016-05-04 11:35:30.007690"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:35:30.011380"], ["updated_at", "2016-05-04 11:35:30.011380"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:35:30.014721"], ["updated_at", "2016-05-04 11:35:30.014721"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:35:30.021391"], ["updated_at", "2016-05-04 11:35:30.021391"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:35:30.024065"], ["updated_at", "2016-05-04 11:35:30.024065"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:35:30.026681"], ["updated_at", "2016-05-04 11:35:30.026681"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:35:30.030206"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:35:30.033022"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:35:30.035841"], ["id", 10]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:35:30.048019"], ["updated_at", "2016-05-04 11:35:30.048019"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:35:30.050708"], ["updated_at", "2016-05-04 11:35:30.050708"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:35:30.052738"], ["updated_at", "2016-05-04 11:35:30.052738"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$k4NEGanTKtXxJSihOmKy2OK9RIm9bD5EjbEh1Z4EFMp8VNSyw0qUu"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:45:21.924665"], ["updated_at", "2016-05-04 11:45:21.924665"]]
  [1m[35m (71.7ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:45:22.035377"], ["updated_at", "2016-05-04 11:45:22.035377"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:45:22.050182"], ["updated_at", "2016-05-04 11:45:22.050182"]]
  [1m[36m (17.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:45:22.071919"], ["updated_at", "2016-05-04 11:45:22.071919"]]
  [1m[35m (6.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:45:22.117126"], ["updated_at", "2016-05-04 11:45:22.117126"]]
  [1m[36m (11.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:45:22.145931"], ["updated_at", "2016-05-04 11:45:22.145931"]]
  [1m[35m (10.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:45:22.160643"], ["updated_at", "2016-05-04 11:45:22.160643"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:45:22.170952"], ["updated_at", "2016-05-04 11:45:22.170952"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:45:22.182040"], ["updated_at", "2016-05-04 11:45:22.182040"]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:45:22.193490"], ["updated_at", "2016-05-04 11:45:22.193490"]]
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:45:22.204206"], ["updated_at", "2016-05-04 11:45:22.204206"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:45:22.215779"], ["updated_at", "2016-05-04 11:45:22.215779"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:45:22.227431"], ["updated_at", "2016-05-04 11:45:22.227431"]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:45:22.237550"], ["updated_at", "2016-05-04 11:45:22.237550"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:45:22.248725"], ["updated_at", "2016-05-04 11:45:22.248725"]]
  [1m[36m (8.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2203.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "72.15"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:45:24.512526"], ["updated_at", "2016-05-04 11:45:24.512526"]]
  [1m[36m (6.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:45:24.574057"], ["updated_at", "2016-05-04 11:45:24.574057"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:45:24.577341"], ["updated_at", "2016-05-04 11:45:24.577341"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:45:24.579604"], ["updated_at", "2016-05-04 11:45:24.579604"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:45:24.586204"], ["updated_at", "2016-05-04 11:45:24.586204"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:45:24.589459"], ["updated_at", "2016-05-04 11:45:24.589459"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:45:24.598486"], ["updated_at", "2016-05-04 11:45:24.598486"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:45:24.602060"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:45:24.606317"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:45:24.614316"], ["updated_at", "2016-05-04 11:45:24.614316"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:45:24.617702"], ["updated_at", "2016-05-04 11:45:24.617702"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:45:24.620454"], ["updated_at", "2016-05-04 11:45:24.620454"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:45:24.627275"], ["updated_at", "2016-05-04 11:45:24.627275"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:45:24.629990"], ["updated_at", "2016-05-04 11:45:24.629990"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:45:24.632510"], ["updated_at", "2016-05-04 11:45:24.632510"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:45:24.635821"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:45:24.638586"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:45:24.641416"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:45:24.652396"], ["updated_at", "2016-05-04 11:45:24.652396"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:45:24.654829"], ["updated_at", "2016-05-04 11:45:24.654829"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:45:24.656738"], ["updated_at", "2016-05-04 11:45:24.656738"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$sq.BqoakQem4k08CC98HdODu/NVPCNjlXpUAB.1Tey4eTs8Xtrun6"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:46:41.088454"], ["updated_at", "2016-05-04 11:46:41.088454"]]
  [1m[35m (9.7ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:46:41.134131"], ["updated_at", "2016-05-04 11:46:41.134131"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:46:41.148462"], ["updated_at", "2016-05-04 11:46:41.148462"]]
  [1m[36m (17.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:46:41.170373"], ["updated_at", "2016-05-04 11:46:41.170373"]]
  [1m[35m (6.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:46:41.220474"], ["updated_at", "2016-05-04 11:46:41.220474"]]
  [1m[36m (11.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:46:41.248408"], ["updated_at", "2016-05-04 11:46:41.248408"]]
  [1m[35m (16.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:46:41.269201"], ["updated_at", "2016-05-04 11:46:41.269201"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:46:41.280568"], ["updated_at", "2016-05-04 11:46:41.280568"]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:46:41.291414"], ["updated_at", "2016-05-04 11:46:41.291414"]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:46:41.302735"], ["updated_at", "2016-05-04 11:46:41.302735"]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:46:41.313946"], ["updated_at", "2016-05-04 11:46:41.313946"]]
  [1m[36m (17.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:46:41.336109"], ["updated_at", "2016-05-04 11:46:41.336109"]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:46:41.346988"], ["updated_at", "2016-05-04 11:46:41.346988"]]
  [1m[36m (8.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:46:41.358091"], ["updated_at", "2016-05-04 11:46:41.358091"]]
  [1m[35m (3.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:46:41.364647"], ["updated_at", "2016-05-04 11:46:41.364647"]]
  [1m[36m (12.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2096.6ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "87.96"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:46:43.531812"], ["updated_at", "2016-05-04 11:46:43.531812"]]
  [1m[36m (17.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:46:43.596043"], ["updated_at", "2016-05-04 11:46:43.596043"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:46:43.601901"], ["updated_at", "2016-05-04 11:46:43.601901"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:46:43.605452"], ["updated_at", "2016-05-04 11:46:43.605452"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:46:43.613042"], ["updated_at", "2016-05-04 11:46:43.613042"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:46:43.635456"], ["updated_at", "2016-05-04 11:46:43.635456"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.5ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:46:43.672089"], ["updated_at", "2016-05-04 11:46:43.672089"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:46:43.674514"], ["updated_at", "2016-05-04 11:46:43.674514"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:46:43.676295"], ["updated_at", "2016-05-04 11:46:43.676295"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:46:43.688427"], ["updated_at", "2016-05-04 11:46:43.688427"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:46:43.690576"], ["updated_at", "2016-05-04 11:46:43.690576"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:46:43.692415"], ["updated_at", "2016-05-04 11:46:43.692415"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$6ITj9xie.jAnsi6YndLwyODdwZYNY4FFP.MCfeo1TpLTflXASewIK"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:47:32.069206"], ["updated_at", "2016-05-04 11:47:32.069206"]]
  [1m[35m (37.8ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:47:32.139085"], ["updated_at", "2016-05-04 11:47:32.139085"]]
  [1m[35m (23.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:47:32.167880"], ["updated_at", "2016-05-04 11:47:32.167880"]]
  [1m[36m (6.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:47:32.178849"], ["updated_at", "2016-05-04 11:47:32.178849"]]
  [1m[35m (7.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:47:32.220795"], ["updated_at", "2016-05-04 11:47:32.220795"]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:47:32.242775"], ["updated_at", "2016-05-04 11:47:32.242775"]]
  [1m[35m (9.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:47:32.255506"], ["updated_at", "2016-05-04 11:47:32.255506"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:47:32.266405"], ["updated_at", "2016-05-04 11:47:32.266405"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:47:32.277906"], ["updated_at", "2016-05-04 11:47:32.277906"]]
  [1m[36m (7.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:47:32.289760"], ["updated_at", "2016-05-04 11:47:32.289760"]]
  [1m[35m (6.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:47:32.300808"], ["updated_at", "2016-05-04 11:47:32.300808"]]
  [1m[36m (6.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:47:32.311200"], ["updated_at", "2016-05-04 11:47:32.311200"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:47:32.322439"], ["updated_at", "2016-05-04 11:47:32.322439"]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:47:32.334025"], ["updated_at", "2016-05-04 11:47:32.334025"]]
  [1m[35m (2.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:47:32.340416"], ["updated_at", "2016-05-04 11:47:32.340416"]]
  [1m[36m (11.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2238.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "75.75"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:47:34.642486"], ["updated_at", "2016-05-04 11:47:34.642486"]]
  [1m[36m (14.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:47:34.719474"], ["updated_at", "2016-05-04 11:47:34.719474"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:47:34.724057"], ["updated_at", "2016-05-04 11:47:34.724057"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:47:34.726965"], ["updated_at", "2016-05-04 11:47:34.726965"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:47:34.733058"], ["updated_at", "2016-05-04 11:47:34.733058"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:47:34.736539"], ["updated_at", "2016-05-04 11:47:34.736539"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:47:34.779463"], ["updated_at", "2016-05-04 11:47:34.779463"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:47:34.782548"], ["updated_at", "2016-05-04 11:47:34.782548"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:47:34.785239"], ["updated_at", "2016-05-04 11:47:34.785239"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:47:34.799390"], ["updated_at", "2016-05-04 11:47:34.799390"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:47:34.801782"], ["updated_at", "2016-05-04 11:47:34.801782"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:47:34.803764"], ["updated_at", "2016-05-04 11:47:34.803764"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$lgBVYFK9uIhGYbBDb7FrquYJBtjwaNOtj0J0G56UDqRbMmZVJWVXS"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:47:57.849787"], ["updated_at", "2016-05-04 11:47:57.849787"]]
  [1m[35m (34.5ms)[0m  COMMIT
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:47:57.911756"], ["updated_at", "2016-05-04 11:47:57.911756"]]
  [1m[35m (10.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:47:57.927132"], ["updated_at", "2016-05-04 11:47:57.927132"]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:47:57.938173"], ["updated_at", "2016-05-04 11:47:57.938173"]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:47:57.977203"], ["updated_at", "2016-05-04 11:47:57.977203"]]
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:47:58.000964"], ["updated_at", "2016-05-04 11:47:58.000964"]]
  [1m[35m (11.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:47:58.014601"], ["updated_at", "2016-05-04 11:47:58.014601"]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:47:58.025854"], ["updated_at", "2016-05-04 11:47:58.025854"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:47:58.036759"], ["updated_at", "2016-05-04 11:47:58.036759"]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:47:58.047854"], ["updated_at", "2016-05-04 11:47:58.047854"]]
  [1m[35m (9.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:47:58.059296"], ["updated_at", "2016-05-04 11:47:58.059296"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:47:58.070098"], ["updated_at", "2016-05-04 11:47:58.070098"]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:47:58.081170"], ["updated_at", "2016-05-04 11:47:58.081170"]]
  [1m[36m (4.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:47:58.087782"], ["updated_at", "2016-05-04 11:47:58.087782"]]
  [1m[35m (13.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:47:58.103633"], ["updated_at", "2016-05-04 11:47:58.103633"]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2095.3ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "73.38"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:48:00.245790"], ["updated_at", "2016-05-04 11:48:00.245790"]]
  [1m[36m (16.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:48:00.315478"], ["updated_at", "2016-05-04 11:48:00.315478"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:48:00.318459"], ["updated_at", "2016-05-04 11:48:00.318459"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:48:00.321305"], ["updated_at", "2016-05-04 11:48:00.321305"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:48:00.327615"], ["updated_at", "2016-05-04 11:48:00.327615"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:48:00.330965"], ["updated_at", "2016-05-04 11:48:00.330965"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:48:00.368676"], ["updated_at", "2016-05-04 11:48:00.368676"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:48:00.371282"], ["updated_at", "2016-05-04 11:48:00.371282"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:48:00.373833"], ["updated_at", "2016-05-04 11:48:00.373833"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:48:00.385950"], ["updated_at", "2016-05-04 11:48:00.385950"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:48:00.389281"], ["updated_at", "2016-05-04 11:48:00.389281"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:48:00.391360"], ["updated_at", "2016-05-04 11:48:00.391360"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$zqwYZGUi8aM6349uFhGXJ.WyxPQfIzKih8p1Abx67c7BbZiCm3QiW"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:48:35.859219"], ["updated_at", "2016-05-04 11:48:35.859219"]]
  [1m[35m (37.3ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:48:35.927361"], ["updated_at", "2016-05-04 11:48:35.927361"]]
  [1m[35m (12.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:48:35.946815"], ["updated_at", "2016-05-04 11:48:35.946815"]]
  [1m[36m (339.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:48:36.291679"], ["updated_at", "2016-05-04 11:48:36.291679"]]
  [1m[35m (25.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:48:36.363418"], ["updated_at", "2016-05-04 11:48:36.363418"]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:48:36.389350"], ["updated_at", "2016-05-04 11:48:36.389350"]]
  [1m[35m (16.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:48:36.410477"], ["updated_at", "2016-05-04 11:48:36.410477"]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:48:36.421396"], ["updated_at", "2016-05-04 11:48:36.421396"]]
  [1m[35m (8.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:48:36.432750"], ["updated_at", "2016-05-04 11:48:36.432750"]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:48:36.443659"], ["updated_at", "2016-05-04 11:48:36.443659"]]
  [1m[35m (8.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:48:36.454619"], ["updated_at", "2016-05-04 11:48:36.454619"]]
  [1m[36m (3.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:48:36.461308"], ["updated_at", "2016-05-04 11:48:36.461308"]]
  [1m[35m (12.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:48:36.477523"], ["updated_at", "2016-05-04 11:48:36.477523"]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:48:36.487839"], ["updated_at", "2016-05-04 11:48:36.487839"]]
  [1m[35m (8.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:48:36.499016"], ["updated_at", "2016-05-04 11:48:36.499016"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2158.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "99.93"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:48:38.718293"], ["updated_at", "2016-05-04 11:48:38.718293"]]
  [1m[36m (16.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:48:38.789483"], ["updated_at", "2016-05-04 11:48:38.789483"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:48:38.793605"], ["updated_at", "2016-05-04 11:48:38.793605"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:48:38.796257"], ["updated_at", "2016-05-04 11:48:38.796257"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:48:38.803849"], ["updated_at", "2016-05-04 11:48:38.803849"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:48:38.807530"], ["updated_at", "2016-05-04 11:48:38.807530"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:48:38.816631"], ["updated_at", "2016-05-04 11:48:38.816631"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:48:38.820159"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:48:38.824442"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:48:38.832838"], ["updated_at", "2016-05-04 11:48:38.832838"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:48:38.836460"], ["updated_at", "2016-05-04 11:48:38.836460"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:48:38.839940"], ["updated_at", "2016-05-04 11:48:38.839940"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:48:38.847167"], ["updated_at", "2016-05-04 11:48:38.847167"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:48:38.849711"], ["updated_at", "2016-05-04 11:48:38.849711"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:48:38.852519"], ["updated_at", "2016-05-04 11:48:38.852519"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:48:38.855514"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:48:38.857933"], ["id", 11]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:48:38.861357"], ["id", 10]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:48:38.873354"], ["updated_at", "2016-05-04 11:48:38.873354"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:48:38.875817"], ["updated_at", "2016-05-04 11:48:38.875817"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:48:38.877785"], ["updated_at", "2016-05-04 11:48:38.877785"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$Wnxm3FCi.zKLSMg/FOa/5e9fKQ9ubfoVBQ5I1fkvlb91kS7JttkI."], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:49:28.317352"], ["updated_at", "2016-05-04 11:49:28.317352"]]
  [1m[35m (40.2ms)[0m  COMMIT
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:49:28.395621"], ["updated_at", "2016-05-04 11:49:28.395621"]]
  [1m[35m (17.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:49:28.418751"], ["updated_at", "2016-05-04 11:49:28.418751"]]
  [1m[36m (17.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:49:28.440112"], ["updated_at", "2016-05-04 11:49:28.440112"]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:49:28.480794"], ["updated_at", "2016-05-04 11:49:28.480794"]]
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:49:28.504759"], ["updated_at", "2016-05-04 11:49:28.504759"]]
  [1m[35m (8.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:49:28.517353"], ["updated_at", "2016-05-04 11:49:28.517353"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:49:28.528926"], ["updated_at", "2016-05-04 11:49:28.528926"]]
  [1m[35m (7.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:49:28.539844"], ["updated_at", "2016-05-04 11:49:28.539844"]]
  [1m[36m (7.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:49:28.550766"], ["updated_at", "2016-05-04 11:49:28.550766"]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:49:28.561676"], ["updated_at", "2016-05-04 11:49:28.561676"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:49:28.572697"], ["updated_at", "2016-05-04 11:49:28.572697"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:49:28.583814"], ["updated_at", "2016-05-04 11:49:28.583814"]]
  [1m[36m (8.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:49:28.594655"], ["updated_at", "2016-05-04 11:49:28.594655"]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:49:28.606507"], ["updated_at", "2016-05-04 11:49:28.606507"]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2409.3ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "50.77"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:49:31.070553"], ["updated_at", "2016-05-04 11:49:31.070553"]]
  [1m[36m (6.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:49:31.127281"], ["updated_at", "2016-05-04 11:49:31.127281"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:49:31.131073"], ["updated_at", "2016-05-04 11:49:31.131073"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:49:31.133138"], ["updated_at", "2016-05-04 11:49:31.133138"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:49:31.139002"], ["updated_at", "2016-05-04 11:49:31.139002"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:49:31.141955"], ["updated_at", "2016-05-04 11:49:31.141955"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:49:31.150610"], ["updated_at", "2016-05-04 11:49:31.150610"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:49:31.153778"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:49:31.157510"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:49:31.189886"], ["updated_at", "2016-05-04 11:49:31.189886"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:49:31.193361"], ["updated_at", "2016-05-04 11:49:31.193361"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:49:31.196268"], ["updated_at", "2016-05-04 11:49:31.196268"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:49:31.204605"], ["updated_at", "2016-05-04 11:49:31.204605"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:49:31.207419"], ["updated_at", "2016-05-04 11:49:31.207419"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:49:31.210134"], ["updated_at", "2016-05-04 11:49:31.210134"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:49:31.213161"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:49:31.215933"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:49:31.218473"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:49:31.230327"], ["updated_at", "2016-05-04 11:49:31.230327"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:49:31.233639"], ["updated_at", "2016-05-04 11:49:31.233639"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:49:31.235820"], ["updated_at", "2016-05-04 11:49:31.235820"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$D/n/TnbbdPRJ0hmWU.MZLum61YrJUMpwwroHK6zV1ZsYhQWt5am3a"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:49:42.431907"], ["updated_at", "2016-05-04 11:49:42.431907"]]
  [1m[35m (38.9ms)[0m  COMMIT
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:49:42.505865"], ["updated_at", "2016-05-04 11:49:42.505865"]]
  [1m[35m (9.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:49:42.520983"], ["updated_at", "2016-05-04 11:49:42.520983"]]
  [1m[36m (17.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:49:42.543317"], ["updated_at", "2016-05-04 11:49:42.543317"]]
  [1m[35m (17.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:49:42.597088"], ["updated_at", "2016-05-04 11:49:42.597088"]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:49:42.619910"], ["updated_at", "2016-05-04 11:49:42.619910"]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:49:42.630818"], ["updated_at", "2016-05-04 11:49:42.630818"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:49:42.641835"], ["updated_at", "2016-05-04 11:49:42.641835"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:49:42.652858"], ["updated_at", "2016-05-04 11:49:42.652858"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:49:42.663973"], ["updated_at", "2016-05-04 11:49:42.663973"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:49:42.675117"], ["updated_at", "2016-05-04 11:49:42.675117"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:49:42.686227"], ["updated_at", "2016-05-04 11:49:42.686227"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:49:42.697522"], ["updated_at", "2016-05-04 11:49:42.697522"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:49:42.708428"], ["updated_at", "2016-05-04 11:49:42.708428"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:49:42.719556"], ["updated_at", "2016-05-04 11:49:42.719556"]]
  [1m[36m (4.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.9ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2439.2ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "94.76"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:49:45.206016"], ["updated_at", "2016-05-04 11:49:45.206016"]]
  [1m[36m (15.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:49:45.287708"], ["updated_at", "2016-05-04 11:49:45.287708"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:49:45.291455"], ["updated_at", "2016-05-04 11:49:45.291455"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:49:45.293884"], ["updated_at", "2016-05-04 11:49:45.293884"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:49:45.301410"], ["updated_at", "2016-05-04 11:49:45.301410"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:49:45.305133"], ["updated_at", "2016-05-04 11:49:45.305133"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:49:45.314564"], ["updated_at", "2016-05-04 11:49:45.314564"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:49:45.319254"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:49:45.324022"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:49:45.333029"], ["updated_at", "2016-05-04 11:49:45.333029"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:49:45.337098"], ["updated_at", "2016-05-04 11:49:45.337098"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:49:45.340362"], ["updated_at", "2016-05-04 11:49:45.340362"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:49:45.347751"], ["updated_at", "2016-05-04 11:49:45.347751"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:49:45.350940"], ["updated_at", "2016-05-04 11:49:45.350940"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:49:45.353677"], ["updated_at", "2016-05-04 11:49:45.353677"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:49:45.356802"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:49:45.359653"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:49:45.362333"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:49:45.375759"], ["updated_at", "2016-05-04 11:49:45.375759"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:49:45.379097"], ["updated_at", "2016-05-04 11:49:45.379097"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:49:45.381321"], ["updated_at", "2016-05-04 11:49:45.381321"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$W7e76pTLald8j7k.VVgRjehYuWpEOk6Iart9d323wbXSqdu92DMti"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:50:04.147288"], ["updated_at", "2016-05-04 11:50:04.147288"]]
  [1m[35m (34.8ms)[0m  COMMIT
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:50:04.207063"], ["updated_at", "2016-05-04 11:50:04.207063"]]
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:50:04.220098"], ["updated_at", "2016-05-04 11:50:04.220098"]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:50:04.231109"], ["updated_at", "2016-05-04 11:50:04.231109"]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:50:04.265462"], ["updated_at", "2016-05-04 11:50:04.265462"]]
  [1m[36m (17.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:50:04.294401"], ["updated_at", "2016-05-04 11:50:04.294401"]]
  [1m[35m (10.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:50:04.307972"], ["updated_at", "2016-05-04 11:50:04.307972"]]
  [1m[36m (4.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:50:04.314779"], ["updated_at", "2016-05-04 11:50:04.314779"]]
  [1m[35m (13.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:50:04.330479"], ["updated_at", "2016-05-04 11:50:04.330479"]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:50:04.341573"], ["updated_at", "2016-05-04 11:50:04.341573"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:50:04.352715"], ["updated_at", "2016-05-04 11:50:04.352715"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:50:04.363752"], ["updated_at", "2016-05-04 11:50:04.363752"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:50:04.374720"], ["updated_at", "2016-05-04 11:50:04.374720"]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:50:04.385649"], ["updated_at", "2016-05-04 11:50:04.385649"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:50:04.396694"], ["updated_at", "2016-05-04 11:50:04.396694"]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2348.1ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "27.36"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:50:06.792726"], ["updated_at", "2016-05-04 11:50:06.792726"]]
  [1m[36m (16.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:50:06.866863"], ["updated_at", "2016-05-04 11:50:06.866863"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:50:06.870993"], ["updated_at", "2016-05-04 11:50:06.870993"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:50:06.873564"], ["updated_at", "2016-05-04 11:50:06.873564"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:50:06.880098"], ["updated_at", "2016-05-04 11:50:06.880098"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:50:06.883355"], ["updated_at", "2016-05-04 11:50:06.883355"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:50:06.892635"], ["updated_at", "2016-05-04 11:50:06.892635"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:50:06.896031"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:50:06.900461"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:50:06.908936"], ["updated_at", "2016-05-04 11:50:06.908936"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:50:06.912011"], ["updated_at", "2016-05-04 11:50:06.912011"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:50:06.914753"], ["updated_at", "2016-05-04 11:50:06.914753"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:50:06.920822"], ["updated_at", "2016-05-04 11:50:06.920822"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:50:06.923756"], ["updated_at", "2016-05-04 11:50:06.923756"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:50:06.925960"], ["updated_at", "2016-05-04 11:50:06.925960"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:50:06.928921"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:50:06.931859"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:50:06.934826"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:50:06.946180"], ["updated_at", "2016-05-04 11:50:06.946180"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:50:06.948628"], ["updated_at", "2016-05-04 11:50:06.948628"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:50:06.950789"], ["updated_at", "2016-05-04 11:50:06.950789"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$jx.b7MCL2qW6gix9ywlSaO8DyubqOOpvTyPzlJO8/q.Wz0gjXoelu"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:50:24.716260"], ["updated_at", "2016-05-04 11:50:24.716260"]]
  [1m[35m (22.4ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:50:24.768483"], ["updated_at", "2016-05-04 11:50:24.768483"]]
  [1m[35m (14.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:50:24.789123"], ["updated_at", "2016-05-04 11:50:24.789123"]]
  [1m[36m (9.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:50:24.806284"], ["updated_at", "2016-05-04 11:50:24.806284"]]
  [1m[35m (10.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:50:24.857225"], ["updated_at", "2016-05-04 11:50:24.857225"]]
  [1m[36m (14.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:50:24.887859"], ["updated_at", "2016-05-04 11:50:24.887859"]]
  [1m[35m (17.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:50:24.909783"], ["updated_at", "2016-05-04 11:50:24.909783"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:50:24.920478"], ["updated_at", "2016-05-04 11:50:24.920478"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:50:24.931496"], ["updated_at", "2016-05-04 11:50:24.931496"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:50:24.942334"], ["updated_at", "2016-05-04 11:50:24.942334"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:50:24.953683"], ["updated_at", "2016-05-04 11:50:24.953683"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:50:24.964931"], ["updated_at", "2016-05-04 11:50:24.964931"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:50:24.975642"], ["updated_at", "2016-05-04 11:50:24.975642"]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:50:24.987015"], ["updated_at", "2016-05-04 11:50:24.987015"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:50:24.998120"], ["updated_at", "2016-05-04 11:50:24.998120"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2430.8ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "52.02"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:50:27.489182"], ["updated_at", "2016-05-04 11:50:27.489182"]]
  [1m[36m (11.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:50:27.559880"], ["updated_at", "2016-05-04 11:50:27.559880"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:50:27.563619"], ["updated_at", "2016-05-04 11:50:27.563619"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:50:27.566302"], ["updated_at", "2016-05-04 11:50:27.566302"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:50:27.573326"], ["updated_at", "2016-05-04 11:50:27.573326"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:50:27.577109"], ["updated_at", "2016-05-04 11:50:27.577109"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:50:27.586843"], ["updated_at", "2016-05-04 11:50:27.586843"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:50:27.590652"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:50:27.596498"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:50:27.606843"], ["updated_at", "2016-05-04 11:50:27.606843"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:50:27.610252"], ["updated_at", "2016-05-04 11:50:27.610252"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:50:27.613789"], ["updated_at", "2016-05-04 11:50:27.613789"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:50:27.621240"], ["updated_at", "2016-05-04 11:50:27.621240"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:50:27.623991"], ["updated_at", "2016-05-04 11:50:27.623991"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:50:27.626643"], ["updated_at", "2016-05-04 11:50:27.626643"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:50:27.630237"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:50:27.633604"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:50:27.636451"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:50:27.649226"], ["updated_at", "2016-05-04 11:50:27.649226"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:50:27.651636"], ["updated_at", "2016-05-04 11:50:27.651636"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:50:27.653852"], ["updated_at", "2016-05-04 11:50:27.653852"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$CIhO4ypkfMTR9GZmkVxoYuETl8FIPcvJx5.pNxmu/pypO4hvqISku"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:50:52.300890"], ["updated_at", "2016-05-04 11:50:52.300890"]]
  [1m[35m (17.4ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:50:52.341936"], ["updated_at", "2016-05-04 11:50:52.341936"]]
  [1m[35m (9.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:50:52.356366"], ["updated_at", "2016-05-04 11:50:52.356366"]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:50:52.362926"], ["updated_at", "2016-05-04 11:50:52.362926"]]
  [1m[35m (11.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:50:52.405157"], ["updated_at", "2016-05-04 11:50:52.405157"]]
  [1m[36m (13.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:50:52.431386"], ["updated_at", "2016-05-04 11:50:52.431386"]]
  [1m[35m (9.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:50:52.444334"], ["updated_at", "2016-05-04 11:50:52.444334"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:50:52.455049"], ["updated_at", "2016-05-04 11:50:52.455049"]]
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:50:52.466161"], ["updated_at", "2016-05-04 11:50:52.466161"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:50:52.477686"], ["updated_at", "2016-05-04 11:50:52.477686"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:50:52.488671"], ["updated_at", "2016-05-04 11:50:52.488671"]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:50:52.500179"], ["updated_at", "2016-05-04 11:50:52.500179"]]
  [1m[35m (16.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:50:52.522372"], ["updated_at", "2016-05-04 11:50:52.522372"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:50:52.533185"], ["updated_at", "2016-05-04 11:50:52.533185"]]
  [1m[35m (17.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:50:52.555400"], ["updated_at", "2016-05-04 11:50:52.555400"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2914.1ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.6ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "70.88"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:50:55.524621"], ["updated_at", "2016-05-04 11:50:55.524621"]]
  [1m[36m (10.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:50:55.588674"], ["updated_at", "2016-05-04 11:50:55.588674"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:50:55.592426"], ["updated_at", "2016-05-04 11:50:55.592426"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:50:55.594977"], ["updated_at", "2016-05-04 11:50:55.594977"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:50:55.600747"], ["updated_at", "2016-05-04 11:50:55.600747"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:50:55.603751"], ["updated_at", "2016-05-04 11:50:55.603751"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:50:55.612962"], ["updated_at", "2016-05-04 11:50:55.612962"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:50:55.616933"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:50:55.621680"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.5ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:50:55.631398"], ["updated_at", "2016-05-04 11:50:55.631398"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:50:55.637812"], ["updated_at", "2016-05-04 11:50:55.637812"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:50:55.642782"], ["updated_at", "2016-05-04 11:50:55.642782"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:50:55.652066"], ["updated_at", "2016-05-04 11:50:55.652066"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:50:55.655583"], ["updated_at", "2016-05-04 11:50:55.655583"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:50:55.658440"], ["updated_at", "2016-05-04 11:50:55.658440"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:50:55.661627"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:50:55.664816"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:50:55.668045"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:50:55.675770"], ["updated_at", "2016-05-04 11:50:55.675770"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:50:55.679817"], ["updated_at", "2016-05-04 11:50:55.679817"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:50:55.682575"], ["updated_at", "2016-05-04 11:50:55.682575"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:50:55.707482"], ["updated_at", "2016-05-04 11:50:55.707482"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:50:55.710615"], ["updated_at", "2016-05-04 11:50:55.710615"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:50:55.713082"], ["updated_at", "2016-05-04 11:50:55.713082"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "7"], ["updated_at", "2016-05-04 11:50:55.716567"], ["id", 18]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:50:55.719511"], ["id", 17]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:50:55.722520"], ["id", 16]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$szmCwXe.2/FlbwXD8uUHOOnOrqHcUKmwPvOKsW1TN4raY9QsOZhIu"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:51:17.407325"], ["updated_at", "2016-05-04 11:51:17.407325"]]
  [1m[35m (43.9ms)[0m  COMMIT
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:51:17.485577"], ["updated_at", "2016-05-04 11:51:17.485577"]]
  [1m[35m (15.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:51:17.505916"], ["updated_at", "2016-05-04 11:51:17.505916"]]
  [1m[36m (6.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:51:17.517137"], ["updated_at", "2016-05-04 11:51:17.517137"]]
  [1m[35m (17.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:51:17.577064"], ["updated_at", "2016-05-04 11:51:17.577064"]]
  [1m[36m (12.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:51:17.606315"], ["updated_at", "2016-05-04 11:51:17.606315"]]
  [1m[35m (16.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:51:17.627197"], ["updated_at", "2016-05-04 11:51:17.627197"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:51:17.637971"], ["updated_at", "2016-05-04 11:51:17.637971"]]
  [1m[35m (8.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:51:17.649680"], ["updated_at", "2016-05-04 11:51:17.649680"]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:51:17.660594"], ["updated_at", "2016-05-04 11:51:17.660594"]]
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:51:17.671529"], ["updated_at", "2016-05-04 11:51:17.671529"]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:51:17.682745"], ["updated_at", "2016-05-04 11:51:17.682745"]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:51:17.693824"], ["updated_at", "2016-05-04 11:51:17.693824"]]
  [1m[36m (3.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:51:17.699994"], ["updated_at", "2016-05-04 11:51:17.699994"]]
  [1m[35m (13.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:51:17.715849"], ["updated_at", "2016-05-04 11:51:17.715849"]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.1ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2476.1ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "53.53"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:51:20.246287"], ["updated_at", "2016-05-04 11:51:20.246287"]]
  [1m[36m (15.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:51:20.326045"], ["updated_at", "2016-05-04 11:51:20.326045"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:51:20.330586"], ["updated_at", "2016-05-04 11:51:20.330586"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:51:20.333253"], ["updated_at", "2016-05-04 11:51:20.333253"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:51:20.339628"], ["updated_at", "2016-05-04 11:51:20.339628"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:51:20.343696"], ["updated_at", "2016-05-04 11:51:20.343696"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:51:20.352622"], ["updated_at", "2016-05-04 11:51:20.352622"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:51:20.356272"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:51:20.361304"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:51:20.371178"], ["updated_at", "2016-05-04 11:51:20.371178"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (1.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:51:20.376125"], ["updated_at", "2016-05-04 11:51:20.376125"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:51:20.379938"], ["updated_at", "2016-05-04 11:51:20.379938"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:51:20.387768"], ["updated_at", "2016-05-04 11:51:20.387768"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:51:20.390464"], ["updated_at", "2016-05-04 11:51:20.390464"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:51:20.393226"], ["updated_at", "2016-05-04 11:51:20.393226"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:51:20.396438"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:51:20.399488"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:51:20.402321"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:51:20.409912"], ["updated_at", "2016-05-04 11:51:20.409912"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:51:20.413097"], ["updated_at", "2016-05-04 11:51:20.413097"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:51:20.415775"], ["updated_at", "2016-05-04 11:51:20.415775"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:51:20.439608"], ["updated_at", "2016-05-04 11:51:20.439608"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:51:20.442405"], ["updated_at", "2016-05-04 11:51:20.442405"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:51:20.444422"], ["updated_at", "2016-05-04 11:51:20.444422"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$d9EiVQXM1Ctrh5IYaiZ4jORQcwXZ6GG4P/AwIyAhn1J4vdg2QXJ6S"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:51:44.952110"], ["updated_at", "2016-05-04 11:51:44.952110"]]
  [1m[35m (17.8ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:51:44.990197"], ["updated_at", "2016-05-04 11:51:44.990197"]]
  [1m[35m (12.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:51:45.007089"], ["updated_at", "2016-05-04 11:51:45.007089"]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:51:45.018011"], ["updated_at", "2016-05-04 11:51:45.018011"]]
  [1m[35m (3.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:51:45.046437"], ["updated_at", "2016-05-04 11:51:45.046437"]]
  [1m[36m (12.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:51:45.068979"], ["updated_at", "2016-05-04 11:51:45.068979"]]
  [1m[35m (12.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:51:45.084053"], ["updated_at", "2016-05-04 11:51:45.084053"]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:51:45.094931"], ["updated_at", "2016-05-04 11:51:45.094931"]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:51:45.106689"], ["updated_at", "2016-05-04 11:51:45.106689"]]
  [1m[36m (7.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:51:45.117761"], ["updated_at", "2016-05-04 11:51:45.117761"]]
  [1m[35m (8.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:51:45.128516"], ["updated_at", "2016-05-04 11:51:45.128516"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:51:45.140348"], ["updated_at", "2016-05-04 11:51:45.140348"]]
  [1m[35m (7.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:51:45.151112"], ["updated_at", "2016-05-04 11:51:45.151112"]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:51:45.161756"], ["updated_at", "2016-05-04 11:51:45.161756"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:51:45.173428"], ["updated_at", "2016-05-04 11:51:45.173428"]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2535.5ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "26.0"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:51:47.763318"], ["updated_at", "2016-05-04 11:51:47.763318"]]
  [1m[36m (6.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:51:47.828364"], ["updated_at", "2016-05-04 11:51:47.828364"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:51:47.833108"], ["updated_at", "2016-05-04 11:51:47.833108"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:51:47.836067"], ["updated_at", "2016-05-04 11:51:47.836067"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:51:47.842480"], ["updated_at", "2016-05-04 11:51:47.842480"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:51:47.845979"], ["updated_at", "2016-05-04 11:51:47.845979"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:51:47.855467"], ["updated_at", "2016-05-04 11:51:47.855467"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:51:47.859274"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:51:47.863411"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:51:47.871342"], ["updated_at", "2016-05-04 11:51:47.871342"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:51:47.875418"], ["updated_at", "2016-05-04 11:51:47.875418"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:51:47.878871"], ["updated_at", "2016-05-04 11:51:47.878871"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:51:47.886574"], ["updated_at", "2016-05-04 11:51:47.886574"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:51:47.889334"], ["updated_at", "2016-05-04 11:51:47.889334"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:51:47.892641"], ["updated_at", "2016-05-04 11:51:47.892641"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:51:47.896371"], ["id", 12]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:51:47.899462"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:51:47.902462"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:51:47.910437"], ["updated_at", "2016-05-04 11:51:47.910437"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:51:47.913847"], ["updated_at", "2016-05-04 11:51:47.913847"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:51:47.917016"], ["updated_at", "2016-05-04 11:51:47.917016"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:51:47.942088"], ["updated_at", "2016-05-04 11:51:47.942088"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:51:47.945163"], ["updated_at", "2016-05-04 11:51:47.945163"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:51:47.947636"], ["updated_at", "2016-05-04 11:51:47.947636"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$Z0/wephFcRD9iK3UzHAUIOmTvHOUwfs40W5NJZavMx/eGL6yh.Z4O"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:52:20.573999"], ["updated_at", "2016-05-04 11:52:20.573999"]]
  [1m[35m (16.4ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:52:20.612239"], ["updated_at", "2016-05-04 11:52:20.612239"]]
  [1m[35m (11.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:52:20.629359"], ["updated_at", "2016-05-04 11:52:20.629359"]]
  [1m[36m (7.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:52:20.639892"], ["updated_at", "2016-05-04 11:52:20.639892"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:52:20.682072"], ["updated_at", "2016-05-04 11:52:20.682072"]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:52:20.704281"], ["updated_at", "2016-05-04 11:52:20.704281"]]
  [1m[35m (9.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:52:20.716808"], ["updated_at", "2016-05-04 11:52:20.716808"]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:52:20.728075"], ["updated_at", "2016-05-04 11:52:20.728075"]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:52:20.739194"], ["updated_at", "2016-05-04 11:52:20.739194"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:52:20.749997"], ["updated_at", "2016-05-04 11:52:20.749997"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:52:20.761426"], ["updated_at", "2016-05-04 11:52:20.761426"]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:52:20.772525"], ["updated_at", "2016-05-04 11:52:20.772525"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:52:20.783446"], ["updated_at", "2016-05-04 11:52:20.783446"]]
  [1m[36m (7.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:52:20.794835"], ["updated_at", "2016-05-04 11:52:20.794835"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:52:20.805920"], ["updated_at", "2016-05-04 11:52:20.805920"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2420.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "74.76"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:52:23.275048"], ["updated_at", "2016-05-04 11:52:23.275048"]]
  [1m[36m (10.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:52:23.342715"], ["updated_at", "2016-05-04 11:52:23.342715"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:52:23.346207"], ["updated_at", "2016-05-04 11:52:23.346207"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:52:23.348577"], ["updated_at", "2016-05-04 11:52:23.348577"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:52:23.355499"], ["updated_at", "2016-05-04 11:52:23.355499"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:52:23.358864"], ["updated_at", "2016-05-04 11:52:23.358864"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:52:23.367880"], ["updated_at", "2016-05-04 11:52:23.367880"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:52:23.371653"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:52:23.376361"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:52:23.384952"], ["updated_at", "2016-05-04 11:52:23.384952"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:52:23.388511"], ["updated_at", "2016-05-04 11:52:23.388511"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:52:23.391570"], ["updated_at", "2016-05-04 11:52:23.391570"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:52:23.398848"], ["updated_at", "2016-05-04 11:52:23.398848"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:52:23.401289"], ["updated_at", "2016-05-04 11:52:23.401289"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:52:23.403585"], ["updated_at", "2016-05-04 11:52:23.403585"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:52:23.406933"], ["id", 12]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:52:23.410059"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:52:23.412814"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:52:23.420262"], ["updated_at", "2016-05-04 11:52:23.420262"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:52:23.423303"], ["updated_at", "2016-05-04 11:52:23.423303"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:52:23.426210"], ["updated_at", "2016-05-04 11:52:23.426210"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:52:23.450834"], ["updated_at", "2016-05-04 11:52:23.450834"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:52:23.454271"], ["updated_at", "2016-05-04 11:52:23.454271"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:52:23.456088"], ["updated_at", "2016-05-04 11:52:23.456088"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$9GXO5ZZlYhUhw3UYuTYOY.DD5HpeYegywZTAOiA0RY06EAzXzPKpm"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:52:44.782194"], ["updated_at", "2016-05-04 11:52:44.782194"]]
  [1m[35m (15.4ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:52:44.823253"], ["updated_at", "2016-05-04 11:52:44.823253"]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:52:44.835581"], ["updated_at", "2016-05-04 11:52:44.835581"]]
  [1m[36m (7.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:52:44.846458"], ["updated_at", "2016-05-04 11:52:44.846458"]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:52:44.883414"], ["updated_at", "2016-05-04 11:52:44.883414"]]
  [1m[36m (14.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:52:44.909450"], ["updated_at", "2016-05-04 11:52:44.909450"]]
  [1m[35m (10.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:52:44.923074"], ["updated_at", "2016-05-04 11:52:44.923074"]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:52:44.934357"], ["updated_at", "2016-05-04 11:52:44.934357"]]
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:52:44.945291"], ["updated_at", "2016-05-04 11:52:44.945291"]]
  [1m[36m (4.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:52:44.951630"], ["updated_at", "2016-05-04 11:52:44.951630"]]
  [1m[35m (14.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:52:44.967989"], ["updated_at", "2016-05-04 11:52:44.967989"]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:52:44.978721"], ["updated_at", "2016-05-04 11:52:44.978721"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:52:44.989756"], ["updated_at", "2016-05-04 11:52:44.989756"]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:52:45.001123"], ["updated_at", "2016-05-04 11:52:45.001123"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:52:45.011973"], ["updated_at", "2016-05-04 11:52:45.011973"]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.1ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2625.8ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "5.67"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:52:47.696910"], ["updated_at", "2016-05-04 11:52:47.696910"]]
  [1m[36m (17.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:52:47.769560"], ["updated_at", "2016-05-04 11:52:47.769560"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:52:47.773332"], ["updated_at", "2016-05-04 11:52:47.773332"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:52:47.775836"], ["updated_at", "2016-05-04 11:52:47.775836"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:52:47.782557"], ["updated_at", "2016-05-04 11:52:47.782557"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:52:47.785465"], ["updated_at", "2016-05-04 11:52:47.785465"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:52:47.796970"], ["updated_at", "2016-05-04 11:52:47.796970"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:52:47.801382"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:52:47.805983"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:52:47.815076"], ["updated_at", "2016-05-04 11:52:47.815076"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:52:47.818858"], ["updated_at", "2016-05-04 11:52:47.818858"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:52:47.822178"], ["updated_at", "2016-05-04 11:52:47.822178"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:52:47.829557"], ["updated_at", "2016-05-04 11:52:47.829557"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:52:47.832267"], ["updated_at", "2016-05-04 11:52:47.832267"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:52:47.834819"], ["updated_at", "2016-05-04 11:52:47.834819"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:52:47.838272"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:52:47.841514"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:52:47.844567"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:52:47.858863"], ["updated_at", "2016-05-04 11:52:47.858863"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:52:47.861637"], ["updated_at", "2016-05-04 11:52:47.861637"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:52:47.863787"], ["updated_at", "2016-05-04 11:52:47.863787"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$iGBTQEkiim7G1HCRv8FTzuSR9hrcMcgFKBapZzKFScYqGPfF37756"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:52:59.709319"], ["updated_at", "2016-05-04 11:52:59.709319"]]
  [1m[35m (37.2ms)[0m  COMMIT
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:52:59.777508"], ["updated_at", "2016-05-04 11:52:59.777508"]]
  [1m[35m (17.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:52:59.801524"], ["updated_at", "2016-05-04 11:52:59.801524"]]
  [1m[36m (17.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:52:59.823484"], ["updated_at", "2016-05-04 11:52:59.823484"]]
  [1m[35m (13.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:52:59.868712"], ["updated_at", "2016-05-04 11:52:59.868712"]]
  [1m[36m (16.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:52:59.898655"], ["updated_at", "2016-05-04 11:52:59.898655"]]
  [1m[35m (9.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:52:59.911482"], ["updated_at", "2016-05-04 11:52:59.911482"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:52:59.922261"], ["updated_at", "2016-05-04 11:52:59.922261"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:52:59.933723"], ["updated_at", "2016-05-04 11:52:59.933723"]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:52:59.944462"], ["updated_at", "2016-05-04 11:52:59.944462"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:52:59.955756"], ["updated_at", "2016-05-04 11:52:59.955756"]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:52:59.966602"], ["updated_at", "2016-05-04 11:52:59.966602"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:52:59.977543"], ["updated_at", "2016-05-04 11:52:59.977543"]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:52:59.988793"], ["updated_at", "2016-05-04 11:52:59.988793"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:52:59.999869"], ["updated_at", "2016-05-04 11:52:59.999869"]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.1ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2355.3ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "93.5"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:53:02.416927"], ["updated_at", "2016-05-04 11:53:02.416927"]]
  [1m[36m (13.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:53:02.489241"], ["updated_at", "2016-05-04 11:53:02.489241"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:53:02.493768"], ["updated_at", "2016-05-04 11:53:02.493768"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:53:02.496715"], ["updated_at", "2016-05-04 11:53:02.496715"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:53:02.503484"], ["updated_at", "2016-05-04 11:53:02.503484"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:53:02.506785"], ["updated_at", "2016-05-04 11:53:02.506785"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:53:02.515914"], ["updated_at", "2016-05-04 11:53:02.515914"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:53:02.519654"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:53:02.524295"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:53:02.532633"], ["updated_at", "2016-05-04 11:53:02.532633"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:53:02.536251"], ["updated_at", "2016-05-04 11:53:02.536251"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:53:02.539156"], ["updated_at", "2016-05-04 11:53:02.539156"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:53:02.545726"], ["updated_at", "2016-05-04 11:53:02.545726"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:53:02.548290"], ["updated_at", "2016-05-04 11:53:02.548290"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:53:02.550482"], ["updated_at", "2016-05-04 11:53:02.550482"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:53:02.553879"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:53:02.556762"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:53:02.559423"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:53:02.566427"], ["updated_at", "2016-05-04 11:53:02.566427"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:53:02.569196"], ["updated_at", "2016-05-04 11:53:02.569196"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:53:02.572193"], ["updated_at", "2016-05-04 11:53:02.572193"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:53:02.596019"], ["updated_at", "2016-05-04 11:53:02.596019"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:53:02.598533"], ["updated_at", "2016-05-04 11:53:02.598533"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:53:02.600366"], ["updated_at", "2016-05-04 11:53:02.600366"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$Tvqofc.vt37qznvVuMSwxOI8K2D1z8IUfUVB.71GI1H7N1iIC9Cfu"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:53:11.608822"], ["updated_at", "2016-05-04 11:53:11.608822"]]
  [1m[35m (24.5ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:53:11.670738"], ["updated_at", "2016-05-04 11:53:11.670738"]]
  [1m[35m (12.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:53:11.689455"], ["updated_at", "2016-05-04 11:53:11.689455"]]
  [1m[36m (10.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:53:11.705059"], ["updated_at", "2016-05-04 11:53:11.705059"]]
  [1m[35m (17.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:53:11.760789"], ["updated_at", "2016-05-04 11:53:11.760789"]]
  [1m[36m (16.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:53:11.792967"], ["updated_at", "2016-05-04 11:53:11.792967"]]
  [1m[35m (7.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:53:11.804285"], ["updated_at", "2016-05-04 11:53:11.804285"]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:53:11.815258"], ["updated_at", "2016-05-04 11:53:11.815258"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:53:11.826276"], ["updated_at", "2016-05-04 11:53:11.826276"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:53:11.837547"], ["updated_at", "2016-05-04 11:53:11.837547"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:53:11.848413"], ["updated_at", "2016-05-04 11:53:11.848413"]]
  [1m[36m (8.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:53:11.859604"], ["updated_at", "2016-05-04 11:53:11.859604"]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:53:11.870433"], ["updated_at", "2016-05-04 11:53:11.870433"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:53:11.881576"], ["updated_at", "2016-05-04 11:53:11.881576"]]
  [1m[35m (8.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:53:11.892555"], ["updated_at", "2016-05-04 11:53:11.892555"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2514.5ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "84.05"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:53:14.455988"], ["updated_at", "2016-05-04 11:53:14.455988"]]
  [1m[36m (17.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:53:14.526283"], ["updated_at", "2016-05-04 11:53:14.526283"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:53:14.530053"], ["updated_at", "2016-05-04 11:53:14.530053"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:53:14.532763"], ["updated_at", "2016-05-04 11:53:14.532763"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:53:14.539122"], ["updated_at", "2016-05-04 11:53:14.539122"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:53:14.542348"], ["updated_at", "2016-05-04 11:53:14.542348"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:53:14.551724"], ["updated_at", "2016-05-04 11:53:14.551724"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:53:14.555255"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:53:14.559775"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:53:14.567540"], ["updated_at", "2016-05-04 11:53:14.567540"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:53:14.571076"], ["updated_at", "2016-05-04 11:53:14.571076"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:53:14.574226"], ["updated_at", "2016-05-04 11:53:14.574226"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:53:14.580584"], ["updated_at", "2016-05-04 11:53:14.580584"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:53:14.583314"], ["updated_at", "2016-05-04 11:53:14.583314"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:53:14.585441"], ["updated_at", "2016-05-04 11:53:14.585441"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:53:14.588939"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:53:14.591647"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:53:14.593964"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:53:14.603885"], ["updated_at", "2016-05-04 11:53:14.603885"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:53:14.606538"], ["updated_at", "2016-05-04 11:53:14.606538"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:53:14.608460"], ["updated_at", "2016-05-04 11:53:14.608460"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$qWUlOV8e9NAZTFocaiPQueA/9xcA.Odx9lyOiox56.VZ284/0TY8W"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:54:03.373838"], ["updated_at", "2016-05-04 11:54:03.373838"]]
  [1m[35m (11.4ms)[0m  COMMIT
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:54:03.405886"], ["updated_at", "2016-05-04 11:54:03.405886"]]
  [1m[35m (13.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:54:03.424552"], ["updated_at", "2016-05-04 11:54:03.424552"]]
  [1m[36m (16.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:54:03.446692"], ["updated_at", "2016-05-04 11:54:03.446692"]]
  [1m[35m (16.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:54:03.504057"], ["updated_at", "2016-05-04 11:54:03.504057"]]
  [1m[36m (14.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:54:03.532906"], ["updated_at", "2016-05-04 11:54:03.532906"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:54:03.544473"], ["updated_at", "2016-05-04 11:54:03.544473"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:54:03.555431"], ["updated_at", "2016-05-04 11:54:03.555431"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:54:03.566568"], ["updated_at", "2016-05-04 11:54:03.566568"]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:54:03.577734"], ["updated_at", "2016-05-04 11:54:03.577734"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:54:03.588727"], ["updated_at", "2016-05-04 11:54:03.588727"]]
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:54:03.595086"], ["updated_at", "2016-05-04 11:54:03.595086"]]
  [1m[35m (13.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:54:03.611153"], ["updated_at", "2016-05-04 11:54:03.611153"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:54:03.622219"], ["updated_at", "2016-05-04 11:54:03.622219"]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:54:03.633636"], ["updated_at", "2016-05-04 11:54:03.633636"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2430.1ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "78.37"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:54:06.118457"], ["updated_at", "2016-05-04 11:54:06.118457"]]
  [1m[36m (17.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:54:06.194202"], ["updated_at", "2016-05-04 11:54:06.194202"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:54:06.198106"], ["updated_at", "2016-05-04 11:54:06.198106"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:54:06.200766"], ["updated_at", "2016-05-04 11:54:06.200766"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:54:06.207604"], ["updated_at", "2016-05-04 11:54:06.207604"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:54:06.211359"], ["updated_at", "2016-05-04 11:54:06.211359"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:54:06.219938"], ["updated_at", "2016-05-04 11:54:06.219938"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:54:06.223550"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:54:06.228017"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:54:06.236462"], ["updated_at", "2016-05-04 11:54:06.236462"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:54:06.240540"], ["updated_at", "2016-05-04 11:54:06.240540"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:54:06.244136"], ["updated_at", "2016-05-04 11:54:06.244136"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:54:06.251695"], ["updated_at", "2016-05-04 11:54:06.251695"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:54:06.254616"], ["updated_at", "2016-05-04 11:54:06.254616"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:54:06.257974"], ["updated_at", "2016-05-04 11:54:06.257974"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:54:06.261549"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:54:06.264714"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:54:06.267772"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:54:06.279450"], ["updated_at", "2016-05-04 11:54:06.279450"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:54:06.281804"], ["updated_at", "2016-05-04 11:54:06.281804"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:54:06.283708"], ["updated_at", "2016-05-04 11:54:06.283708"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$I2VzU9boz1c/O0rfOttreu0Q7wURqChvHxbmyX8B3UZGHyn83z43m"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:54:27.247467"], ["updated_at", "2016-05-04 11:54:27.247467"]]
  [1m[35m (72.6ms)[0m  COMMIT
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:54:27.359897"], ["updated_at", "2016-05-04 11:54:27.359897"]]
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:54:27.375626"], ["updated_at", "2016-05-04 11:54:27.375626"]]
  [1m[36m (16.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:54:27.397380"], ["updated_at", "2016-05-04 11:54:27.397380"]]
  [1m[35m (17.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:54:27.453048"], ["updated_at", "2016-05-04 11:54:27.453048"]]
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:54:27.482592"], ["updated_at", "2016-05-04 11:54:27.482592"]]
  [1m[35m (9.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:54:27.496358"], ["updated_at", "2016-05-04 11:54:27.496358"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:54:27.507366"], ["updated_at", "2016-05-04 11:54:27.507366"]]
  [1m[35m (8.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:54:27.518727"], ["updated_at", "2016-05-04 11:54:27.518727"]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:54:27.529248"], ["updated_at", "2016-05-04 11:54:27.529248"]]
  [1m[35m (8.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:54:27.540311"], ["updated_at", "2016-05-04 11:54:27.540311"]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:54:27.551558"], ["updated_at", "2016-05-04 11:54:27.551558"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:54:27.562628"], ["updated_at", "2016-05-04 11:54:27.562628"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:54:27.573962"], ["updated_at", "2016-05-04 11:54:27.573962"]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:54:27.584976"], ["updated_at", "2016-05-04 11:54:27.584976"]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2286.1ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "58.03"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:54:29.925350"], ["updated_at", "2016-05-04 11:54:29.925350"]]
  [1m[36m (18.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:54:29.998794"], ["updated_at", "2016-05-04 11:54:29.998794"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:54:30.002564"], ["updated_at", "2016-05-04 11:54:30.002564"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:54:30.005075"], ["updated_at", "2016-05-04 11:54:30.005075"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:54:30.012164"], ["updated_at", "2016-05-04 11:54:30.012164"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:54:30.015947"], ["updated_at", "2016-05-04 11:54:30.015947"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:54:30.024843"], ["updated_at", "2016-05-04 11:54:30.024843"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:54:30.028354"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:54:30.032851"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:54:30.040835"], ["updated_at", "2016-05-04 11:54:30.040835"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:54:30.044619"], ["updated_at", "2016-05-04 11:54:30.044619"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:54:30.047734"], ["updated_at", "2016-05-04 11:54:30.047734"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:54:30.054594"], ["updated_at", "2016-05-04 11:54:30.054594"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:54:30.057083"], ["updated_at", "2016-05-04 11:54:30.057083"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:54:30.059658"], ["updated_at", "2016-05-04 11:54:30.059658"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:54:30.063153"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:54:30.066080"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:54:30.068843"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:54:30.079885"], ["updated_at", "2016-05-04 11:54:30.079885"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:54:30.082094"], ["updated_at", "2016-05-04 11:54:30.082094"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:54:30.083760"], ["updated_at", "2016-05-04 11:54:30.083760"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "7"], ["updated_at", "2016-05-04 11:54:30.085941"], ["id", 15]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:54:30.088060"], ["id", 14]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:54:30.089999"], ["id", 13]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$iLUNILb7bPZAAZLxc2OtheJ46MeI40Kdi3mgA7FNZU3P9bxYOYQcW"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:57:15.456282"], ["updated_at", "2016-05-04 11:57:15.456282"]]
  [1m[35m (33.1ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:57:15.515938"], ["updated_at", "2016-05-04 11:57:15.515938"]]
  [1m[35m (6.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:57:15.527297"], ["updated_at", "2016-05-04 11:57:15.527297"]]
  [1m[36m (6.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:57:15.537974"], ["updated_at", "2016-05-04 11:57:15.537974"]]
  [1m[35m (6.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:57:15.573926"], ["updated_at", "2016-05-04 11:57:15.573926"]]
  [1m[36m (4.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:57:15.590268"], ["updated_at", "2016-05-04 11:57:15.590268"]]
  [1m[35m (10.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:57:15.604089"], ["updated_at", "2016-05-04 11:57:15.604089"]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:57:15.615315"], ["updated_at", "2016-05-04 11:57:15.615315"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:57:15.626619"], ["updated_at", "2016-05-04 11:57:15.626619"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:57:15.637499"], ["updated_at", "2016-05-04 11:57:15.637499"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:57:15.648646"], ["updated_at", "2016-05-04 11:57:15.648646"]]
  [1m[36m (8.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:57:15.659781"], ["updated_at", "2016-05-04 11:57:15.659781"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:57:15.670600"], ["updated_at", "2016-05-04 11:57:15.670600"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:57:15.681675"], ["updated_at", "2016-05-04 11:57:15.681675"]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:57:15.693413"], ["updated_at", "2016-05-04 11:57:15.693413"]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2361.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "19.96"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:57:18.111130"], ["updated_at", "2016-05-04 11:57:18.111130"]]
  [1m[36m (7.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:57:18.172186"], ["updated_at", "2016-05-04 11:57:18.172186"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:57:18.176858"], ["updated_at", "2016-05-04 11:57:18.176858"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:57:18.179747"], ["updated_at", "2016-05-04 11:57:18.179747"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:57:18.186338"], ["updated_at", "2016-05-04 11:57:18.186338"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:57:18.189367"], ["updated_at", "2016-05-04 11:57:18.189367"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:57:18.198565"], ["updated_at", "2016-05-04 11:57:18.198565"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:57:18.202555"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.7ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:57:18.209088"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:57:18.218573"], ["updated_at", "2016-05-04 11:57:18.218573"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:57:18.221567"], ["updated_at", "2016-05-04 11:57:18.221567"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:57:18.224537"], ["updated_at", "2016-05-04 11:57:18.224537"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:57:18.231805"], ["updated_at", "2016-05-04 11:57:18.231805"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:57:18.235346"], ["updated_at", "2016-05-04 11:57:18.235346"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:57:18.238806"], ["updated_at", "2016-05-04 11:57:18.238806"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:57:18.242509"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:57:18.245663"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:57:18.248748"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:57:49.139104"], ["updated_at", "2016-05-04 11:57:49.139104"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:57:49.144928"], ["updated_at", "2016-05-04 11:57:49.144928"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:57:49.151682"], ["updated_at", "2016-05-04 11:57:49.151682"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:57:49.194512"], ["updated_at", "2016-05-04 11:57:49.194512"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:57:49.199352"], ["updated_at", "2016-05-04 11:57:49.199352"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:57:49.204054"], ["updated_at", "2016-05-04 11:57:49.204054"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$Tl6IJpDkN9l6OL8s/IKtf.o7MBr0.xwlJumsO1BKeWkxxHoB9uyxe"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:58:36.759101"], ["updated_at", "2016-05-04 11:58:36.759101"]]
  [1m[35m (35.0ms)[0m  COMMIT
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:58:36.832053"], ["updated_at", "2016-05-04 11:58:36.832053"]]
  [1m[35m (5.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:58:36.843955"], ["updated_at", "2016-05-04 11:58:36.843955"]]
  [1m[36m (5.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:58:36.855080"], ["updated_at", "2016-05-04 11:58:36.855080"]]
  [1m[35m (5.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:58:36.901801"], ["updated_at", "2016-05-04 11:58:36.901801"]]
  [1m[36m (3.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:58:36.920097"], ["updated_at", "2016-05-04 11:58:36.920097"]]
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:58:36.931121"], ["updated_at", "2016-05-04 11:58:36.931121"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:58:36.942204"], ["updated_at", "2016-05-04 11:58:36.942204"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:58:36.953523"], ["updated_at", "2016-05-04 11:58:36.953523"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:58:36.964644"], ["updated_at", "2016-05-04 11:58:36.964644"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:58:36.975654"], ["updated_at", "2016-05-04 11:58:36.975654"]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:58:36.986838"], ["updated_at", "2016-05-04 11:58:36.986838"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:58:36.997971"], ["updated_at", "2016-05-04 11:58:36.997971"]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:58:37.009143"], ["updated_at", "2016-05-04 11:58:37.009143"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:58:37.019924"], ["updated_at", "2016-05-04 11:58:37.019924"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2355.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "63.18"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:58:39.427155"], ["updated_at", "2016-05-04 11:58:39.427155"]]
  [1m[36m (6.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:58:39.474825"], ["updated_at", "2016-05-04 11:58:39.474825"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:58:39.478582"], ["updated_at", "2016-05-04 11:58:39.478582"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:58:39.481915"], ["updated_at", "2016-05-04 11:58:39.481915"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:58:39.490808"], ["updated_at", "2016-05-04 11:58:39.490808"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:58:39.495047"], ["updated_at", "2016-05-04 11:58:39.495047"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:58:39.504780"], ["updated_at", "2016-05-04 11:58:39.504780"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:58:39.509167"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:58:39.514410"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:58:39.526419"], ["updated_at", "2016-05-04 11:58:39.526419"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:58:39.529834"], ["updated_at", "2016-05-04 11:58:39.529834"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:58:39.533327"], ["updated_at", "2016-05-04 11:58:39.533327"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:58:39.540806"], ["updated_at", "2016-05-04 11:58:39.540806"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:58:39.543859"], ["updated_at", "2016-05-04 11:58:39.543859"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:58:39.546600"], ["updated_at", "2016-05-04 11:58:39.546600"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:58:39.550834"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:58:39.554838"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:58:39.558104"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:58:39.566605"], ["updated_at", "2016-05-04 11:58:39.566605"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:58:39.570339"], ["updated_at", "2016-05-04 11:58:39.570339"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:58:39.595449"], ["updated_at", "2016-05-04 11:58:39.595449"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:58:39.617625"], ["updated_at", "2016-05-04 11:58:39.617625"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:58:39.619946"], ["updated_at", "2016-05-04 11:58:39.619946"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:58:39.621693"], ["updated_at", "2016-05-04 11:58:39.621693"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$ePcpjWZqeMm4W7d1NczbsOY6T2MPKQacoL0kNHImkmZr75Ug9yK2G"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:59:35.816129"], ["updated_at", "2016-05-04 11:59:35.816129"]]
  [1m[35m (19.2ms)[0m  COMMIT
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:59:35.856942"], ["updated_at", "2016-05-04 11:59:35.856942"]]
  [1m[35m (12.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:59:35.872946"], ["updated_at", "2016-05-04 11:59:35.872946"]]
  [1m[36m (7.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:59:35.884137"], ["updated_at", "2016-05-04 11:59:35.884137"]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:59:35.929635"], ["updated_at", "2016-05-04 11:59:35.929635"]]
  [1m[36m (4.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:59:35.951383"], ["updated_at", "2016-05-04 11:59:35.951383"]]
  [1m[35m (5.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:59:35.960896"], ["updated_at", "2016-05-04 11:59:35.960896"]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:59:35.971878"], ["updated_at", "2016-05-04 11:59:35.971878"]]
  [1m[35m (8.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:59:35.983047"], ["updated_at", "2016-05-04 11:59:35.983047"]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:59:35.994199"], ["updated_at", "2016-05-04 11:59:35.994199"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:59:36.005175"], ["updated_at", "2016-05-04 11:59:36.005175"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:59:36.016535"], ["updated_at", "2016-05-04 11:59:36.016535"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:59:36.027559"], ["updated_at", "2016-05-04 11:59:36.027559"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:59:36.038627"], ["updated_at", "2016-05-04 11:59:36.038627"]]
  [1m[35m (8.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:59:36.049646"], ["updated_at", "2016-05-04 11:59:36.049646"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2176.2ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "99.27"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:59:38.291628"], ["updated_at", "2016-05-04 11:59:38.291628"]]
  [1m[36m (4.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:59:38.349888"], ["updated_at", "2016-05-04 11:59:38.349888"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:59:38.353245"], ["updated_at", "2016-05-04 11:59:38.353245"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:59:38.355965"], ["updated_at", "2016-05-04 11:59:38.355965"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:59:38.361726"], ["updated_at", "2016-05-04 11:59:38.361726"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:59:38.364805"], ["updated_at", "2016-05-04 11:59:38.364805"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:59:38.373454"], ["updated_at", "2016-05-04 11:59:38.373454"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:59:38.376794"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:59:38.381060"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:59:38.387178"], ["updated_at", "2016-05-04 11:59:38.387178"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:59:38.391146"], ["updated_at", "2016-05-04 11:59:38.391146"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:59:38.394260"], ["updated_at", "2016-05-04 11:59:38.394260"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:59:38.399524"], ["updated_at", "2016-05-04 11:59:38.399524"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:59:38.402002"], ["updated_at", "2016-05-04 11:59:38.402002"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:59:38.403964"], ["updated_at", "2016-05-04 11:59:38.403964"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:59:38.407744"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:59:38.410686"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:59:38.413228"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:59:38.419841"], ["updated_at", "2016-05-04 11:59:38.419841"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:59:38.422312"], ["updated_at", "2016-05-04 11:59:38.422312"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:59:38.424745"], ["updated_at", "2016-05-04 11:59:38.424745"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$9oHFrC9okdvrVxFQWtBQBu2AuXtKWpEZTDu3ZAhz2NvxG/YyJLxHG"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:59:43.227936"], ["updated_at", "2016-05-04 11:59:43.227936"]]
  [1m[35m (63.0ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:59:43.318294"], ["updated_at", "2016-05-04 11:59:43.318294"]]
  [1m[35m (82.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:59:43.407098"], ["updated_at", "2016-05-04 11:59:43.407098"]]
  [1m[36m (3.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:59:43.417767"], ["updated_at", "2016-05-04 11:59:43.417767"]]
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:59:43.464887"], ["updated_at", "2016-05-04 11:59:43.464887"]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:59:43.483377"], ["updated_at", "2016-05-04 11:59:43.483377"]]
  [1m[35m (6.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:59:43.493882"], ["updated_at", "2016-05-04 11:59:43.493882"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:59:43.504900"], ["updated_at", "2016-05-04 11:59:43.504900"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:59:43.516018"], ["updated_at", "2016-05-04 11:59:43.516018"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:59:43.527093"], ["updated_at", "2016-05-04 11:59:43.527093"]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:59:43.538476"], ["updated_at", "2016-05-04 11:59:43.538476"]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:59:43.549529"], ["updated_at", "2016-05-04 11:59:43.549529"]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:59:43.560929"], ["updated_at", "2016-05-04 11:59:43.560929"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:59:43.571882"], ["updated_at", "2016-05-04 11:59:43.571882"]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:59:43.582872"], ["updated_at", "2016-05-04 11:59:43.582872"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2106.6ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "86.49"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:59:45.746550"], ["updated_at", "2016-05-04 11:59:45.746550"]]
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:59:45.813904"], ["updated_at", "2016-05-04 11:59:45.813904"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:59:45.817399"], ["updated_at", "2016-05-04 11:59:45.817399"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:59:45.819888"], ["updated_at", "2016-05-04 11:59:45.819888"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:59:45.828044"], ["updated_at", "2016-05-04 11:59:45.828044"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:59:45.831395"], ["updated_at", "2016-05-04 11:59:45.831395"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:59:45.841171"], ["updated_at", "2016-05-04 11:59:45.841171"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:59:45.844921"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:59:45.849204"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:59:45.855604"], ["updated_at", "2016-05-04 11:59:45.855604"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:59:45.859471"], ["updated_at", "2016-05-04 11:59:45.859471"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:59:45.862895"], ["updated_at", "2016-05-04 11:59:45.862895"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:59:45.867809"], ["updated_at", "2016-05-04 11:59:45.867809"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:59:45.871266"], ["updated_at", "2016-05-04 11:59:45.871266"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:59:45.873626"], ["updated_at", "2016-05-04 11:59:45.873626"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:59:45.878208"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:59:45.881071"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:59:45.883442"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:59:45.891568"], ["updated_at", "2016-05-04 11:59:45.891568"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:59:45.894597"], ["updated_at", "2016-05-04 11:59:45.894597"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:59:45.896610"], ["updated_at", "2016-05-04 11:59:45.896610"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "users"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$cfXMFYFTnMZ5f/0lM8TH/OJkHTCgUgp15Os/.FWNCD6AX0aNYlgNC"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 11:59:56.070093"], ["updated_at", "2016-05-04 11:59:56.070093"]]
  [1m[35m (22.6ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 11:59:56.118058"], ["updated_at", "2016-05-04 11:59:56.118058"]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:59:56.130685"], ["updated_at", "2016-05-04 11:59:56.130685"]]
  [1m[36m (6.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 11:59:56.141757"], ["updated_at", "2016-05-04 11:59:56.141757"]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:59:56.178815"], ["updated_at", "2016-05-04 11:59:56.178815"]]
  [1m[36m (2.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 11:59:56.197977"], ["updated_at", "2016-05-04 11:59:56.197977"]]
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 11:59:56.208411"], ["updated_at", "2016-05-04 11:59:56.208411"]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 11:59:56.218879"], ["updated_at", "2016-05-04 11:59:56.218879"]]
  [1m[35m (52.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 11:59:56.274593"], ["updated_at", "2016-05-04 11:59:56.274593"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 11:59:56.285413"], ["updated_at", "2016-05-04 11:59:56.285413"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 11:59:56.296449"], ["updated_at", "2016-05-04 11:59:56.296449"]]
  [1m[36m (7.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 11:59:56.307546"], ["updated_at", "2016-05-04 11:59:56.307546"]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 11:59:56.318467"], ["updated_at", "2016-05-04 11:59:56.318467"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 11:59:56.329726"], ["updated_at", "2016-05-04 11:59:56.329726"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 11:59:56.342072"], ["updated_at", "2016-05-04 11:59:56.342072"]]
  [1m[36m (5.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.6ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2299.9ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "16.41"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 11:59:58.702710"], ["updated_at", "2016-05-04 11:59:58.702710"]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:59:58.748960"], ["updated_at", "2016-05-04 11:59:58.748960"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:59:58.752469"], ["updated_at", "2016-05-04 11:59:58.752469"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:59:58.755358"], ["updated_at", "2016-05-04 11:59:58.755358"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:59:58.775351"], ["updated_at", "2016-05-04 11:59:58.775351"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:59:58.778532"], ["updated_at", "2016-05-04 11:59:58.778532"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:59:58.786862"], ["updated_at", "2016-05-04 11:59:58.786862"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:59:58.790651"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 11:59:58.794957"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 11:59:58.800249"], ["updated_at", "2016-05-04 11:59:58.800249"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 11:59:58.802942"], ["updated_at", "2016-05-04 11:59:58.802942"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 11:59:58.806322"], ["updated_at", "2016-05-04 11:59:58.806322"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:59:58.810548"], ["updated_at", "2016-05-04 11:59:58.810548"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:59:58.812605"], ["updated_at", "2016-05-04 11:59:58.812605"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:59:58.814323"], ["updated_at", "2016-05-04 11:59:58.814323"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 11:59:58.816840"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:59:58.819397"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 11:59:58.822656"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 11:59:58.829093"], ["updated_at", "2016-05-04 11:59:58.829093"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 11:59:58.831315"], ["updated_at", "2016-05-04 11:59:58.831315"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 11:59:58.832963"], ["updated_at", "2016-05-04 11:59:58.832963"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$jwNHMhPNytEsPg9aHSggIeFr32gZGGXrgjyp0bKdJfgMISr2chTLW"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:00:03.681170"], ["updated_at", "2016-05-04 12:00:03.681170"]]
  [1m[35m (43.6ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:00:03.754688"], ["updated_at", "2016-05-04 12:00:03.754688"]]
  [1m[35m (3.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:00:03.763219"], ["updated_at", "2016-05-04 12:00:03.763219"]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:00:03.774175"], ["updated_at", "2016-05-04 12:00:03.774175"]]
  [1m[35m (6.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:00:03.811197"], ["updated_at", "2016-05-04 12:00:03.811197"]]
  [1m[36m (3.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:00:03.826983"], ["updated_at", "2016-05-04 12:00:03.826983"]]
  [1m[35m (10.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:00:03.840015"], ["updated_at", "2016-05-04 12:00:03.840015"]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:00:03.850964"], ["updated_at", "2016-05-04 12:00:03.850964"]]
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:00:03.862349"], ["updated_at", "2016-05-04 12:00:03.862349"]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:00:03.873181"], ["updated_at", "2016-05-04 12:00:03.873181"]]
  [1m[35m (9.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:00:03.884373"], ["updated_at", "2016-05-04 12:00:03.884373"]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:00:03.895491"], ["updated_at", "2016-05-04 12:00:03.895491"]]
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:00:03.906556"], ["updated_at", "2016-05-04 12:00:03.906556"]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:00:03.917850"], ["updated_at", "2016-05-04 12:00:03.917850"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:00:03.929287"], ["updated_at", "2016-05-04 12:00:03.929287"]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.0ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2160.2ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "75.45"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:00:06.149161"], ["updated_at", "2016-05-04 12:00:06.149161"]]
  [1m[36m (5.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 12:00:06.214806"], ["updated_at", "2016-05-04 12:00:06.214806"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 12:00:06.218261"], ["updated_at", "2016-05-04 12:00:06.218261"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 12:00:06.220831"], ["updated_at", "2016-05-04 12:00:06.220831"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 12:00:06.227147"], ["updated_at", "2016-05-04 12:00:06.227147"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 12:00:06.230379"], ["updated_at", "2016-05-04 12:00:06.230379"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 12:00:06.239231"], ["updated_at", "2016-05-04 12:00:06.239231"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 12:00:06.242820"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 12:00:06.246935"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 12:00:06.255915"], ["updated_at", "2016-05-04 12:00:06.255915"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 12:00:06.259039"], ["updated_at", "2016-05-04 12:00:06.259039"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 12:00:06.262119"], ["updated_at", "2016-05-04 12:00:06.262119"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 12:00:06.270171"], ["updated_at", "2016-05-04 12:00:06.270171"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 12:00:06.272826"], ["updated_at", "2016-05-04 12:00:06.272826"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 12:00:06.275387"], ["updated_at", "2016-05-04 12:00:06.275387"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 12:00:06.278536"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 12:00:06.281811"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 12:00:06.285168"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 12:00:06.297163"], ["updated_at", "2016-05-04 12:00:06.297163"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 12:00:06.299937"], ["updated_at", "2016-05-04 12:00:06.299937"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 12:00:06.302090"], ["updated_at", "2016-05-04 12:00:06.302090"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$psvLBcdGHkbFtErqev8gOutYFpoEQr/HEv5q9ku8kKoksgkt79Y/K"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:00:50.892573"], ["updated_at", "2016-05-04 12:00:50.892573"]]
  [1m[35m (47.0ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:00:50.976155"], ["updated_at", "2016-05-04 12:00:50.976155"]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:00:50.990700"], ["updated_at", "2016-05-04 12:00:50.990700"]]
  [1m[36m (4.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:00:51.001300"], ["updated_at", "2016-05-04 12:00:51.001300"]]
  [1m[35m (5.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:00:51.051659"], ["updated_at", "2016-05-04 12:00:51.051659"]]
  [1m[36m (9.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:00:51.078415"], ["updated_at", "2016-05-04 12:00:51.078415"]]
  [1m[35m (5.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:00:51.088560"], ["updated_at", "2016-05-04 12:00:51.088560"]]
  [1m[36m (8.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:00:51.099637"], ["updated_at", "2016-05-04 12:00:51.099637"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:00:51.111286"], ["updated_at", "2016-05-04 12:00:51.111286"]]
  [1m[36m (6.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:00:51.122410"], ["updated_at", "2016-05-04 12:00:51.122410"]]
  [1m[35m (6.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:00:51.133604"], ["updated_at", "2016-05-04 12:00:51.133604"]]
  [1m[36m (6.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:00:51.144224"], ["updated_at", "2016-05-04 12:00:51.144224"]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:00:51.155437"], ["updated_at", "2016-05-04 12:00:51.155437"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:00:51.166544"], ["updated_at", "2016-05-04 12:00:51.166544"]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:00:51.177544"], ["updated_at", "2016-05-04 12:00:51.177544"]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.4ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.6ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2120.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "19.21"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:00:53.351121"], ["updated_at", "2016-05-04 12:00:53.351121"]]
  [1m[36m (6.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (14.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 12:00:53.417810"], ["updated_at", "2016-05-04 12:00:53.417810"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 12:00:53.421708"], ["updated_at", "2016-05-04 12:00:53.421708"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 12:00:53.424157"], ["updated_at", "2016-05-04 12:00:53.424157"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 12:00:53.430972"], ["updated_at", "2016-05-04 12:00:53.430972"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 12:00:53.434150"], ["updated_at", "2016-05-04 12:00:53.434150"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 12:00:53.444309"], ["updated_at", "2016-05-04 12:00:53.444309"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 12:00:53.449443"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 12:00:53.454213"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 12:00:53.462297"], ["updated_at", "2016-05-04 12:00:53.462297"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 12:00:53.465259"], ["updated_at", "2016-05-04 12:00:53.465259"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 12:00:53.468163"], ["updated_at", "2016-05-04 12:00:53.468163"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 12:00:53.475682"], ["updated_at", "2016-05-04 12:00:53.475682"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 12:00:53.479059"], ["updated_at", "2016-05-04 12:00:53.479059"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 12:00:53.481540"], ["updated_at", "2016-05-04 12:00:53.481540"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 12:00:53.484576"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 12:00:53.487334"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 12:00:53.489921"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 12:00:53.499572"], ["updated_at", "2016-05-04 12:00:53.499572"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 12:00:53.502307"], ["updated_at", "2016-05-04 12:00:53.502307"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 12:00:53.505700"], ["updated_at", "2016-05-04 12:00:53.505700"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$RGQ8eSZJSKxVMnVTcFVhMuCy3qVaD/ighjZuL8m4PYcPBPWv9s0uy"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:01:23.631022"], ["updated_at", "2016-05-04 12:01:23.631022"]]
  [1m[35m (35.6ms)[0m  COMMIT
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:01:23.690049"], ["updated_at", "2016-05-04 12:01:23.690049"]]
  [1m[35m (10.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:01:23.704326"], ["updated_at", "2016-05-04 12:01:23.704326"]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:01:23.715236"], ["updated_at", "2016-05-04 12:01:23.715236"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:23.750113"], ["updated_at", "2016-05-04 12:01:23.750113"]]
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:01:23.766898"], ["updated_at", "2016-05-04 12:01:23.766898"]]
  [1m[35m (11.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:01:23.781162"], ["updated_at", "2016-05-04 12:01:23.781162"]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:01:23.792282"], ["updated_at", "2016-05-04 12:01:23.792282"]]
  [1m[35m (9.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:01:23.804610"], ["updated_at", "2016-05-04 12:01:23.804610"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:01:23.815849"], ["updated_at", "2016-05-04 12:01:23.815849"]]
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:01:23.826988"], ["updated_at", "2016-05-04 12:01:23.826988"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:01:23.838165"], ["updated_at", "2016-05-04 12:01:23.838165"]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:01:23.849773"], ["updated_at", "2016-05-04 12:01:23.849773"]]
  [1m[36m (7.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:01:23.860680"], ["updated_at", "2016-05-04 12:01:23.860680"]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:01:23.871702"], ["updated_at", "2016-05-04 12:01:23.871702"]]
  [1m[36m (6.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.4ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2297.4ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "89.14"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:26.213815"], ["updated_at", "2016-05-04 12:01:26.213815"]]
  [1m[36m (6.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 12:01:26.276027"], ["updated_at", "2016-05-04 12:01:26.276027"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 12:01:26.279816"], ["updated_at", "2016-05-04 12:01:26.279816"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 12:01:26.282254"], ["updated_at", "2016-05-04 12:01:26.282254"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 12:01:26.288421"], ["updated_at", "2016-05-04 12:01:26.288421"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 12:01:26.291978"], ["updated_at", "2016-05-04 12:01:26.291978"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 12:01:26.300720"], ["updated_at", "2016-05-04 12:01:26.300720"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 12:01:26.305559"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 12:01:26.311188"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 12:01:26.318887"], ["updated_at", "2016-05-04 12:01:26.318887"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 12:01:26.322467"], ["updated_at", "2016-05-04 12:01:26.322467"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 12:01:26.325497"], ["updated_at", "2016-05-04 12:01:26.325497"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 12:01:26.332646"], ["updated_at", "2016-05-04 12:01:26.332646"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 12:01:26.336193"], ["updated_at", "2016-05-04 12:01:26.336193"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 12:01:26.339630"], ["updated_at", "2016-05-04 12:01:26.339630"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "7"], ["updated_at", "2016-05-04 12:01:26.343295"], ["id", 12]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 12:01:26.346287"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 12:01:26.349016"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 12:01:26.360442"], ["updated_at", "2016-05-04 12:01:26.360442"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 12:01:26.362729"], ["updated_at", "2016-05-04 12:01:26.362729"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 12:01:26.365460"], ["updated_at", "2016-05-04 12:01:26.365460"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$3Qw2dxYZDUq6DqkMb5Dxie.T69JjR5b.KvsKaqUEaFBUHCgdP2af6"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:01:33.103599"], ["updated_at", "2016-05-04 12:01:33.103599"]]
  [1m[35m (29.4ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:01:33.149264"], ["updated_at", "2016-05-04 12:01:33.149264"]]
  [1m[35m (5.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:01:33.159097"], ["updated_at", "2016-05-04 12:01:33.159097"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:01:33.170003"], ["updated_at", "2016-05-04 12:01:33.170003"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:33.190855"], ["updated_at", "2016-05-04 12:01:33.190855"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:01:33.209765"], ["updated_at", "2016-05-04 12:01:33.209765"]]
  [1m[35m (11.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:01:33.224921"], ["updated_at", "2016-05-04 12:01:33.224921"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:01:33.236054"], ["updated_at", "2016-05-04 12:01:33.236054"]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:01:33.247212"], ["updated_at", "2016-05-04 12:01:33.247212"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:01:33.258328"], ["updated_at", "2016-05-04 12:01:33.258328"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:01:33.269037"], ["updated_at", "2016-05-04 12:01:33.269037"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:01:33.280282"], ["updated_at", "2016-05-04 12:01:33.280282"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:01:33.291732"], ["updated_at", "2016-05-04 12:01:33.291732"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:01:33.301939"], ["updated_at", "2016-05-04 12:01:33.301939"]]
  [1m[35m (9.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:01:33.313882"], ["updated_at", "2016-05-04 12:01:33.313882"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.1ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2060.2ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Nine Coaches Waiting"], ["price", "63.91"], ["description", "Minus itaque corporis sed optio odit sit. Culpa maxime rerum sunt vitae harum illum. Blanditiis consequuntur expedita in totam eos nulla. Est ea labore perspiciatis sint enim."], ["in_stock", 153], ["created_at", "2016-05-04 12:01:35.604292"], ["updated_at", "2016-05-04 12:01:35.604292"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "No Longer at Ease"], ["price", "69.03"], ["description", "Dolores molestiae sint. Quis nostrum a veritatis reprehenderit voluptate alias dolore. Nisi molestiae sequi perferendis et."], ["in_stock", 31], ["best_seller", "t"], ["created_at", "2016-05-04 12:01:35.609232"], ["updated_at", "2016-05-04 12:01:35.609232"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Fame Is the Spur"], ["price", "23.34"], ["description", "Ut facilis et voluptas autem rerum quasi. Ducimus a impedit sequi voluptatibus natus corporis ex. Cum magni adipisci officia at. Amet voluptates sed vitae. Ab vel voluptatibus dolor blanditiis ratione."], ["in_stock", 87], ["best_seller", "t"], ["created_at", "2016-05-04 12:01:35.612629"], ["updated_at", "2016-05-04 12:01:35.612629"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE (best_seller = 'true')[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Nine Coaches Waiting"], ["price", "87.71"], ["description", "Et voluptate aut. A aut voluptatem ratione. Distinctio facere quia in occaecati aliquid doloribus ipsum."], ["in_stock", 40], ["created_at", "2016-05-04 12:01:35.619477"], ["updated_at", "2016-05-04 12:01:35.619477"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "The Golden Bowl"], ["price", "82.65"], ["description", "Similique magni et ratione. Id eos aliquid ullam soluta libero doloribus. Ut molestiae aut voluptas architecto tenetur aut. Ut repudiandae ipsam ut accusantium."], ["in_stock", 105], ["best_seller", "t"], ["created_at", "2016-05-04 12:01:35.623005"], ["updated_at", "2016-05-04 12:01:35.623005"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "The Torment of Others"], ["price", "13.78"], ["description", "Quidem enim est placeat ipsam rerum doloribus quam. Excepturi voluptatem magnam. Cupiditate excepturi accusamus ut recusandae expedita praesentium ut. In qui sit quo hic est. Architecto voluptates dolorem repellendus est."], ["in_stock", 166], ["best_seller", "t"], ["created_at", "2016-05-04 12:01:35.626505"], ["updated_at", "2016-05-04 12:01:35.626505"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "Recalled to Life"], ["price", "89.4"], ["description", "Ipsam distinctio explicabo voluptatibus quia tenetur ut eum. Deserunt tempora sunt maxime voluptatem veritatis vel odio. Eaque veritatis maxime reiciendis temporibus esse reprehenderit. Maiores et illo. Nisi perspiciatis tenetur veritatis deserunt voluptatem expedita recusandae."], ["in_stock", 147], ["created_at", "2016-05-04 12:01:35.630044"], ["updated_at", "2016-05-04 12:01:35.630044"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBook Load (0.3ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.7ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-05-04 12:01:35.659894"], ["updated_at", "2016-05-04 12:01:35.659894"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-05-04 12:01:35.664508"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'excepturi' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "excepturi"], ["created_at", "2016-05-04 12:01:35.678101"], ["updated_at", "2016-05-04 12:01:35.678101"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'quos' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "quos"], ["created_at", "2016-05-04 12:01:35.683287"], ["updated_at", "2016-05-04 12:01:35.683287"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "A Swiftly Tilting Planet"], ["price", "71.91"], ["description", "Consequatur sapiente ipsum. Beatae harum consectetur ratione nemo aliquid et delectus. Quia eos quibusdam rerum dolores aut. Quibusdam omnis magni sint qui ut voluptas."], ["in_stock", 163], ["category_id", 3], ["created_at", "2016-05-04 12:01:35.700720"], ["updated_at", "2016-05-04 12:01:35.700720"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Dulce et Decorum Est"], ["price", "57.33"], ["description", "Quas consequatur dolorum id. Et ad dolorem blanditiis reprehenderit natus saepe iste. Qui ea in. Sunt velit dolorum et fugiat veritatis. Impedit corrupti et quam."], ["in_stock", 74], ["category_id", 3], ["created_at", "2016-05-04 12:01:35.705176"], ["updated_at", "2016-05-04 12:01:35.705176"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Let Us Now Praise Famous Men"], ["price", "83.46"], ["description", "Omnis sit aut. Rerum et iure sit aliquam. Sequi aliquid qui ipsum. Aut exercitationem suscipit id. Aliquid voluptatem molestiae."], ["in_stock", 163], ["category_id", 3], ["created_at", "2016-05-04 12:01:35.708917"], ["updated_at", "2016-05-04 12:01:35.708917"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "books" WHERE "books"."category_id" = $1  [["category_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.4ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-05-04 12:01:35.732385"], ["updated_at", "2016-05-04 12:01:35.732385"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-05-04 12:01:35.734895"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.2ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "use", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "pv25mguyg"], ["use", "t"], ["created_at", "2016-05-04 12:01:35.888170"], ["updated_at", "2016-05-04 12:01:35.888170"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "9h4qs9dcw"], ["created_at", "2016-05-04 12:01:35.891115"], ["updated_at", "2016-05-04 12:01:35.891115"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "g2l3q83v2"], ["created_at", "2016-05-04 12:01:35.893463"], ["updated_at", "2016-05-04 12:01:35.893463"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCupon Load (0.3ms)[0m  SELECT  "cupons".* FROM "cupons" WHERE "cupons"."value" = $1  ORDER BY "cupons"."id" ASC LIMIT 1  [["value", "g2l3q83v2"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "46.17"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:35.899438"], ["updated_at", "2016-05-04 12:01:35.899438"]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 12:01:35.930479"], ["updated_at", "2016-05-04 12:01:35.930479"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 12:01:35.932630"], ["updated_at", "2016-05-04 12:01:35.932630"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 12:01:35.934342"], ["updated_at", "2016-05-04 12:01:35.934342"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 12:01:35.939944"], ["updated_at", "2016-05-04 12:01:35.939944"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 12:01:35.943282"], ["updated_at", "2016-05-04 12:01:35.943282"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 12:01:35.946784"], ["updated_at", "2016-05-04 12:01:35.946784"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 12:01:35.949729"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 12:01:35.961300"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 12:01:35.968799"], ["updated_at", "2016-05-04 12:01:35.968799"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 12:01:35.973207"], ["updated_at", "2016-05-04 12:01:35.973207"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 12:01:35.976133"], ["updated_at", "2016-05-04 12:01:35.976133"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 12:01:35.982332"], ["updated_at", "2016-05-04 12:01:35.982332"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 12:01:35.984414"], ["updated_at", "2016-05-04 12:01:35.984414"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 12:01:35.986178"], ["updated_at", "2016-05-04 12:01:35.986178"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "7"], ["updated_at", "2016-05-04 12:01:35.988895"], ["id", 12]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 12:01:35.991439"], ["id", 11]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 12:01:35.993758"], ["id", 10]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 12:01:36.005410"], ["updated_at", "2016-05-04 12:01:36.005410"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 12:01:36.007403"], ["updated_at", "2016-05-04 12:01:36.007403"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 12:01:36.009317"], ["updated_at", "2016-05-04 12:01:36.009317"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'lurline.lueilwitz@nicolas.co' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Neha"], ["lastname", "Breitenberg"], ["email", "lurline.lueilwitz@nicolas.co"], ["encrypted_password", "$2a$04$gRZyvbiSgD7cgPqbBnBhR.4L.BRrFCwFbAVRe3UCwEKdbkyDW6M1K"], ["created_at", "2016-05-04 12:01:36.017491"], ["updated_at", "2016-05-04 12:01:36.017491"]]
  [1m[36m (11.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "91.15"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.064084"], ["updated_at", "2016-05-04 12:01:36.064084"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "62.93"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.069128"], ["updated_at", "2016-05-04 12:01:36.069128"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.073064"], ["updated_at", "2016-05-04 12:01:36.073064"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "71.57"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.080656"], ["updated_at", "2016-05-04 12:01:36.080656"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "88.53"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.083157"], ["updated_at", "2016-05-04 12:01:36.083157"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "24.82"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.085376"], ["updated_at", "2016-05-04 12:01:36.085376"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "55.63"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.087573"], ["updated_at", "2016-05-04 12:01:36.087573"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "49.89"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.091780"], ["updated_at", "2016-05-04 12:01:36.091780"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "51.07"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.096664"], ["updated_at", "2016-05-04 12:01:36.096664"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "74.14"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.100980"], ["updated_at", "2016-05-04 12:01:36.100980"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "44.37"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.104760"], ["updated_at", "2016-05-04 12:01:36.104760"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "12.53"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.112440"], ["updated_at", "2016-05-04 12:01:36.112440"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "45.35"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.115291"], ["updated_at", "2016-05-04 12:01:36.115291"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "81.41"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.117662"], ["updated_at", "2016-05-04 12:01:36.117662"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "62.93"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.121844"], ["updated_at", "2016-05-04 12:01:36.121844"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "17.78"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.126228"], ["updated_at", "2016-05-04 12:01:36.126228"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "70.02"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.129246"], ["updated_at", "2016-05-04 12:01:36.129246"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "59.37"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.131861"], ["updated_at", "2016-05-04 12:01:36.131861"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "6.72"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.134567"], ["updated_at", "2016-05-04 12:01:36.134567"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "67.51"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.140933"], ["updated_at", "2016-05-04 12:01:36.140933"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "58.09"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.143658"], ["updated_at", "2016-05-04 12:01:36.143658"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "52.56"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.146111"], ["updated_at", "2016-05-04 12:01:36.146111"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "99.05"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.148429"], ["updated_at", "2016-05-04 12:01:36.148429"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "78.04"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.151207"], ["updated_at", "2016-05-04 12:01:36.151207"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "20.8"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.155148"], ["updated_at", "2016-05-04 12:01:36.155148"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "10.88"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.158124"], ["updated_at", "2016-05-04 12:01:36.158124"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "2.82"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.160489"], ["updated_at", "2016-05-04 12:01:36.160489"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_delivery"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "40.28"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.165555"], ["updated_at", "2016-05-04 12:01:36.165555"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "59.22"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.169536"], ["updated_at", "2016-05-04 12:01:36.169536"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "61.33"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.172540"], ["updated_at", "2016-05-04 12:01:36.172540"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "36.12"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.175032"], ["updated_at", "2016-05-04 12:01:36.175032"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "87.96"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.177462"], ["updated_at", "2016-05-04 12:01:36.177462"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "13.75"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.179794"], ["updated_at", "2016-05-04 12:01:36.179794"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "50.39"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.183592"], ["updated_at", "2016-05-04 12:01:36.183592"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "32.3"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:01:36.187100"], ["updated_at", "2016-05-04 12:01:36.187100"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "delivered"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'lurline.lueilwitz@nicolas.co' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'lurline.lueilwitz@nicolas.co' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (42.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$nm.Rds1uPbYJeQ6FgIb5UeWOP.tMbhnLevTO8B7.nWXN0WjSsVnYm"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:13:27.833482"], ["updated_at", "2016-05-04 12:13:27.833482"]]
  [1m[35m (14.4ms)[0m  COMMIT
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:13:27.884283"], ["updated_at", "2016-05-04 12:13:27.884283"]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:13:27.897990"], ["updated_at", "2016-05-04 12:13:27.897990"]]
  [1m[36m (11.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:13:27.915317"], ["updated_at", "2016-05-04 12:13:27.915317"]]
  [1m[35m (10.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:13:27.964290"], ["updated_at", "2016-05-04 12:13:27.964290"]]
  [1m[36m (17.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:13:27.998847"], ["updated_at", "2016-05-04 12:13:27.998847"]]
  [1m[35m (11.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:13:28.013778"], ["updated_at", "2016-05-04 12:13:28.013778"]]
  [1m[36m (13.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:13:28.029603"], ["updated_at", "2016-05-04 12:13:28.029603"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:13:28.040746"], ["updated_at", "2016-05-04 12:13:28.040746"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:13:28.051695"], ["updated_at", "2016-05-04 12:13:28.051695"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:13:28.062793"], ["updated_at", "2016-05-04 12:13:28.062793"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:13:28.073989"], ["updated_at", "2016-05-04 12:13:28.073989"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:13:28.085254"], ["updated_at", "2016-05-04 12:13:28.085254"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:13:28.096294"], ["updated_at", "2016-05-04 12:13:28.096294"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:13:28.107661"], ["updated_at", "2016-05-04 12:13:28.107661"]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2038.8ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$U/9nFLw0cDXrWugCRdKNjehgLLzmIpu7NaXMgd/DvkvPJZPpy3uj2"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:16:14.474638"], ["updated_at", "2016-05-04 12:16:14.474638"]]
  [1m[35m (12.1ms)[0m  COMMIT
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:16:14.507320"], ["updated_at", "2016-05-04 12:16:14.507320"]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:16:14.518728"], ["updated_at", "2016-05-04 12:16:14.518728"]]
  [1m[36m (13.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:16:14.534943"], ["updated_at", "2016-05-04 12:16:14.534943"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:16:14.567663"], ["updated_at", "2016-05-04 12:16:14.567663"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:16:14.588971"], ["updated_at", "2016-05-04 12:16:14.588971"]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:16:14.600927"], ["updated_at", "2016-05-04 12:16:14.600927"]]
  [1m[36m (8.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:16:14.612223"], ["updated_at", "2016-05-04 12:16:14.612223"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:16:14.623648"], ["updated_at", "2016-05-04 12:16:14.623648"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:16:14.634290"], ["updated_at", "2016-05-04 12:16:14.634290"]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:16:14.645804"], ["updated_at", "2016-05-04 12:16:14.645804"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:16:14.656608"], ["updated_at", "2016-05-04 12:16:14.656608"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:16:14.667612"], ["updated_at", "2016-05-04 12:16:14.667612"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:16:14.678764"], ["updated_at", "2016-05-04 12:16:14.678764"]]
  [1m[35m (8.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:16:14.689927"], ["updated_at", "2016-05-04 12:16:14.689927"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2483.3ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$HZz4fTSblNYPREjSdvM.0uPREzrXUgHol9N3fNz9n0huGBZugiwiO"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:16:46.835719"], ["updated_at", "2016-05-04 12:16:46.835719"]]
  [1m[35m (71.8ms)[0m  COMMIT
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:16:46.930036"], ["updated_at", "2016-05-04 12:16:46.930036"]]
  [1m[35m (17.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:16:46.950928"], ["updated_at", "2016-05-04 12:16:46.950928"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:16:46.961824"], ["updated_at", "2016-05-04 12:16:46.961824"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:16:46.993999"], ["updated_at", "2016-05-04 12:16:46.993999"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:16:47.014497"], ["updated_at", "2016-05-04 12:16:47.014497"]]
  [1m[35m (10.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:16:47.027947"], ["updated_at", "2016-05-04 12:16:47.027947"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:16:47.038885"], ["updated_at", "2016-05-04 12:16:47.038885"]]
  [1m[35m (3.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:16:47.044681"], ["updated_at", "2016-05-04 12:16:47.044681"]]
  [1m[36m (14.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:16:47.061002"], ["updated_at", "2016-05-04 12:16:47.061002"]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:16:47.072225"], ["updated_at", "2016-05-04 12:16:47.072225"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:16:47.083219"], ["updated_at", "2016-05-04 12:16:47.083219"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:16:47.094371"], ["updated_at", "2016-05-04 12:16:47.094371"]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:16:47.105505"], ["updated_at", "2016-05-04 12:16:47.105505"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:16:47.116506"], ["updated_at", "2016-05-04 12:16:47.116506"]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2071.9ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$cgzuLxtBq2u9UPjwzSYdL.XfNl8SzBEBHQe9gA284b9L8rBBwxuC6"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:17:18.015741"], ["updated_at", "2016-05-04 12:17:18.015741"]]
  [1m[35m (25.9ms)[0m  COMMIT
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:17:18.061486"], ["updated_at", "2016-05-04 12:17:18.061486"]]
  [1m[35m (31.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:17:18.096767"], ["updated_at", "2016-05-04 12:17:18.096767"]]
  [1m[36m (13.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:17:18.112957"], ["updated_at", "2016-05-04 12:17:18.112957"]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:17:18.146875"], ["updated_at", "2016-05-04 12:17:18.146875"]]
  [1m[36m (17.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:17:18.183581"], ["updated_at", "2016-05-04 12:17:18.183581"]]
  [1m[35m (13.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:17:18.201375"], ["updated_at", "2016-05-04 12:17:18.201375"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:17:18.212213"], ["updated_at", "2016-05-04 12:17:18.212213"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:17:18.223652"], ["updated_at", "2016-05-04 12:17:18.223652"]]
  [1m[36m (7.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:17:18.234443"], ["updated_at", "2016-05-04 12:17:18.234443"]]
  [1m[35m (18.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:17:18.256675"], ["updated_at", "2016-05-04 12:17:18.256675"]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:17:18.268048"], ["updated_at", "2016-05-04 12:17:18.268048"]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:17:18.278716"], ["updated_at", "2016-05-04 12:17:18.278716"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:17:18.289987"], ["updated_at", "2016-05-04 12:17:18.289987"]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:17:18.300995"], ["updated_at", "2016-05-04 12:17:18.300995"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.5ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2199.3ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$TGmEqNnyIR2xDBgoc/onC.wl/MWPl8uvJQd9tD.1h06iBu9KBbCM."], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:19:36.709891"], ["updated_at", "2016-05-04 12:19:36.709891"]]
  [1m[35m (52.2ms)[0m  COMMIT
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:19:36.811784"], ["updated_at", "2016-05-04 12:19:36.811784"]]
  [1m[35m (9.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:19:36.827636"], ["updated_at", "2016-05-04 12:19:36.827636"]]
  [1m[36m (17.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:19:36.849701"], ["updated_at", "2016-05-04 12:19:36.849701"]]
  [1m[35m (17.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:19:36.901096"], ["updated_at", "2016-05-04 12:19:36.901096"]]
  [1m[36m (10.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:19:36.926972"], ["updated_at", "2016-05-04 12:19:36.926972"]]
  [1m[35m (18.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:19:36.948667"], ["updated_at", "2016-05-04 12:19:36.948667"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:19:36.959721"], ["updated_at", "2016-05-04 12:19:36.959721"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:19:36.970729"], ["updated_at", "2016-05-04 12:19:36.970729"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:19:36.981783"], ["updated_at", "2016-05-04 12:19:36.981783"]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:19:36.993378"], ["updated_at", "2016-05-04 12:19:36.993378"]]
  [1m[36m (18.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:19:37.015552"], ["updated_at", "2016-05-04 12:19:37.015552"]]
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:19:37.026606"], ["updated_at", "2016-05-04 12:19:37.026606"]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:19:37.037946"], ["updated_at", "2016-05-04 12:19:37.037946"]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:19:37.048610"], ["updated_at", "2016-05-04 12:19:37.048610"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2384.2ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-05-04 12:19:39.537923"], ["updated_at", "2016-05-04 12:19:39.537923"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-05-04 12:19:39.542015"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$zCDf7SpOIQoPIDcrdZz5WOz4Jq0WlwOGwv49PJVL5MJQ2rje6x6gi"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:20:25.642888"], ["updated_at", "2016-05-04 12:20:25.642888"]]
  [1m[35m (26.3ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:20:25.689122"], ["updated_at", "2016-05-04 12:20:25.689122"]]
  [1m[35m (12.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:20:25.705871"], ["updated_at", "2016-05-04 12:20:25.705871"]]
  [1m[36m (7.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:20:25.716772"], ["updated_at", "2016-05-04 12:20:25.716772"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:20:25.748793"], ["updated_at", "2016-05-04 12:20:25.748793"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:20:25.770329"], ["updated_at", "2016-05-04 12:20:25.770329"]]
  [1m[35m (9.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:20:25.782965"], ["updated_at", "2016-05-04 12:20:25.782965"]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:20:25.794216"], ["updated_at", "2016-05-04 12:20:25.794216"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:20:25.805283"], ["updated_at", "2016-05-04 12:20:25.805283"]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:20:25.816218"], ["updated_at", "2016-05-04 12:20:25.816218"]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:20:25.827471"], ["updated_at", "2016-05-04 12:20:25.827471"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:20:25.838388"], ["updated_at", "2016-05-04 12:20:25.838388"]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:20:25.850087"], ["updated_at", "2016-05-04 12:20:25.850087"]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:20:25.860536"], ["updated_at", "2016-05-04 12:20:25.860536"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:20:25.871757"], ["updated_at", "2016-05-04 12:20:25.871757"]]
  [1m[36m (52.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2114.6ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-05-04 12:20:28.141851"], ["updated_at", "2016-05-04 12:20:28.141851"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-05-04 12:20:28.146373"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$JWId/d/CXvTAMlIYyypPY.dh6.i0r1Xm1lw7jAlr/brEzLTSOTXK6"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:27:58.863049"], ["updated_at", "2016-05-04 12:27:58.863049"]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:27:58.896129"], ["updated_at", "2016-05-04 12:27:58.896129"]]
  [1m[35m (10.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:27:58.910351"], ["updated_at", "2016-05-04 12:27:58.910351"]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:27:58.921578"], ["updated_at", "2016-05-04 12:27:58.921578"]]
  [1m[35m (6.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:27:58.967640"], ["updated_at", "2016-05-04 12:27:58.967640"]]
  [1m[36m (4.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:27:58.991705"], ["updated_at", "2016-05-04 12:27:58.991705"]]
  [1m[35m (2.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:27:58.998747"], ["updated_at", "2016-05-04 12:27:58.998747"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:27:59.009595"], ["updated_at", "2016-05-04 12:27:59.009595"]]
  [1m[35m (8.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:27:59.020404"], ["updated_at", "2016-05-04 12:27:59.020404"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:27:59.031497"], ["updated_at", "2016-05-04 12:27:59.031497"]]
  [1m[35m (8.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:27:59.042936"], ["updated_at", "2016-05-04 12:27:59.042936"]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:27:59.053953"], ["updated_at", "2016-05-04 12:27:59.053953"]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:27:59.065239"], ["updated_at", "2016-05-04 12:27:59.065239"]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:27:59.076148"], ["updated_at", "2016-05-04 12:27:59.076148"]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:27:59.087542"], ["updated_at", "2016-05-04 12:27:59.087542"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2359.5ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-05-04 12:28:01.547802"], ["updated_at", "2016-05-04 12:28:01.547802"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "an arbitrary value"], ["updated_at", "2016-05-04 12:28:01.551583"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'an arbitrary value' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$whQfc0pLyvvSdIgmedjbS.0jaB/813YYN/1ajTremz.Rv7XpgQYqS"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:31:47.044085"], ["updated_at", "2016-05-04 12:31:47.044085"]]
  [1m[35m (26.6ms)[0m  COMMIT
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:31:47.112024"], ["updated_at", "2016-05-04 12:31:47.112024"]]
  [1m[35m (15.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:31:47.134549"], ["updated_at", "2016-05-04 12:31:47.134549"]]
  [1m[36m (16.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:31:47.156447"], ["updated_at", "2016-05-04 12:31:47.156447"]]
  [1m[35m (17.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:31:47.212452"], ["updated_at", "2016-05-04 12:31:47.212452"]]
  [1m[36m (15.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:31:47.246527"], ["updated_at", "2016-05-04 12:31:47.246527"]]
  [1m[35m (9.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:31:47.259410"], ["updated_at", "2016-05-04 12:31:47.259410"]]
  [1m[36m (15.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:31:47.277227"], ["updated_at", "2016-05-04 12:31:47.277227"]]
  [1m[35m (18.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:31:47.299797"], ["updated_at", "2016-05-04 12:31:47.299797"]]
  [1m[36m (17.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:31:47.322028"], ["updated_at", "2016-05-04 12:31:47.322028"]]
  [1m[35m (18.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:31:47.344209"], ["updated_at", "2016-05-04 12:31:47.344209"]]
  [1m[36m (17.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:31:47.366293"], ["updated_at", "2016-05-04 12:31:47.366293"]]
  [1m[35m (18.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:31:47.388532"], ["updated_at", "2016-05-04 12:31:47.388532"]]
  [1m[36m (18.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:31:47.410460"], ["updated_at", "2016-05-04 12:31:47.410460"]]
  [1m[35m (19.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:31:47.432600"], ["updated_at", "2016-05-04 12:31:47.432600"]]
  [1m[36m (19.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2693.0ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$hnKHPZh6fwdTfU5r6alKiuSa81RWbfxmuaiV0unScGuDTi6hSfoe6"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:32:46.603236"], ["updated_at", "2016-05-04 12:32:46.603236"]]
  [1m[35m (10.5ms)[0m  COMMIT
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:32:46.636484"], ["updated_at", "2016-05-04 12:32:46.636484"]]
  [1m[35m (11.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:32:46.651584"], ["updated_at", "2016-05-04 12:32:46.651584"]]
  [1m[36m (18.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:32:46.673567"], ["updated_at", "2016-05-04 12:32:46.673567"]]
  [1m[35m (19.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:32:46.718479"], ["updated_at", "2016-05-04 12:32:46.718479"]]
  [1m[36m (11.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:32:46.747860"], ["updated_at", "2016-05-04 12:32:46.747860"]]
  [1m[35m (9.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:32:46.762166"], ["updated_at", "2016-05-04 12:32:46.762166"]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:32:46.773406"], ["updated_at", "2016-05-04 12:32:46.773406"]]
  [1m[35m (18.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:32:46.795524"], ["updated_at", "2016-05-04 12:32:46.795524"]]
  [1m[36m (19.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:32:46.817605"], ["updated_at", "2016-05-04 12:32:46.817605"]]
  [1m[35m (19.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:32:46.839714"], ["updated_at", "2016-05-04 12:32:46.839714"]]
  [1m[36m (18.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:32:46.861900"], ["updated_at", "2016-05-04 12:32:46.861900"]]
  [1m[35m (19.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:32:46.884056"], ["updated_at", "2016-05-04 12:32:46.884056"]]
  [1m[36m (19.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:32:46.906979"], ["updated_at", "2016-05-04 12:32:46.906979"]]
  [1m[35m (17.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:32:46.928571"], ["updated_at", "2016-05-04 12:32:46.928571"]]
  [1m[36m (18.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.6ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.0ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2466.2ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'greg.muller@weinat.org' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Jamie"], ["lastname", "Witting"], ["email", "greg.muller@weinat.org"], ["encrypted_password", "$2a$04$px1Xf98KnqWqWI0H7CL9.uXd1LjcT1HXIsGsHWqF2bikaGg6I2t1u"], ["created_at", "2016-05-04 12:32:49.539443"], ["updated_at", "2016-05-04 12:32:49.539443"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'greg.muller@weinat.org' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$heacYvA1GWZaEiOWu8BWDOjDkVTW8SLXehfEHY22g28VcxyBn7hVW"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:37:42.967938"], ["updated_at", "2016-05-04 12:37:42.967938"]]
  [1m[35m (31.2ms)[0m  COMMIT
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:37:43.033491"], ["updated_at", "2016-05-04 12:37:43.033491"]]
  [1m[35m (10.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:37:43.049451"], ["updated_at", "2016-05-04 12:37:43.049451"]]
  [1m[36m (17.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:37:43.071223"], ["updated_at", "2016-05-04 12:37:43.071223"]]
  [1m[35m (18.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:37:43.128289"], ["updated_at", "2016-05-04 12:37:43.128289"]]
  [1m[36m (15.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:37:43.164887"], ["updated_at", "2016-05-04 12:37:43.164887"]]
  [1m[35m (12.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:37:43.181691"], ["updated_at", "2016-05-04 12:37:43.181691"]]
  [1m[36m (18.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:37:43.203678"], ["updated_at", "2016-05-04 12:37:43.203678"]]
  [1m[35m (19.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:37:43.225982"], ["updated_at", "2016-05-04 12:37:43.225982"]]
  [1m[36m (18.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:37:43.247872"], ["updated_at", "2016-05-04 12:37:43.247872"]]
  [1m[35m (18.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:37:43.270512"], ["updated_at", "2016-05-04 12:37:43.270512"]]
  [1m[36m (18.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:37:43.292585"], ["updated_at", "2016-05-04 12:37:43.292585"]]
  [1m[35m (12.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:37:43.308058"], ["updated_at", "2016-05-04 12:37:43.308058"]]
  [1m[36m (14.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:37:43.325737"], ["updated_at", "2016-05-04 12:37:43.325737"]]
  [1m[35m (19.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:37:43.348192"], ["updated_at", "2016-05-04 12:37:43.348192"]]
  [1m[36m (18.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.7ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2510.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'libby@bednarwest.info' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Hillard"], ["lastname", "Sporer"], ["email", "libby@bednarwest.info"], ["encrypted_password", "$2a$04$BJ4c7Geuo9j5O6FJsLKvI.vwm7HoBSnUKcS..ff3WVbQ0boPDDy9e"], ["created_at", "2016-05-04 12:37:45.931684"], ["updated_at", "2016-05-04 12:37:45.931684"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'robin_kirlin@dibbert.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Bertrand"], ["lastname", "Gutkowski"], ["email", "robin_kirlin@dibbert.com"], ["encrypted_password", "$2a$04$sXIZMC6hL82uMsJ8dsVqceNaypG.61QuFldS8YJjO4d272aaSxpVm"], ["created_at", "2016-05-04 12:37:45.955044"], ["updated_at", "2016-05-04 12:37:45.955044"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'jey@gusikowski.info' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Josh"], ["lastname", "Balistreri"], ["email", "jey@gusikowski.info"], ["encrypted_password", "$2a$04$7fRw.5uYrsHxVQn0Fye38.gCH62aiYL.Bo.GY/yzyAVjdjdAkQ7ji"], ["created_at", "2016-05-04 12:37:45.972631"], ["updated_at", "2016-05-04 12:37:45.972631"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'norwood.brown@bartoletti.io' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Ned"], ["lastname", "Streich"], ["email", "norwood.brown@bartoletti.io"], ["encrypted_password", "$2a$04$CpowBqnw3kV8p6HXAC21UuQv.EsFq5eny0qpJsMf1q4FSUDweWnb2"], ["created_at", "2016-05-04 12:37:45.990783"], ["updated_at", "2016-05-04 12:37:45.990783"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'tierra_runolfsdottir@mitchell.biz' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Kale"], ["lastname", "Pagac"], ["email", "tierra_runolfsdottir@mitchell.biz"], ["encrypted_password", "$2a$04$c3yGlgPaO7lECsZuGHRn1.8big1NaiSYybhiwtgkhK9rSbQSa.QXq"], ["created_at", "2016-05-04 12:37:46.024143"], ["updated_at", "2016-05-04 12:37:46.024143"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'tierra_runolfsdottir@mitchell.biz' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'tierra_runolfsdottir@mitchell.biz' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'piper@gerlach.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Garry"], ["lastname", "McKenzie"], ["email", "piper@gerlach.com"], ["encrypted_password", "$2a$04$KYBtrrN3V1ElUbLjURcJ1O.KdyBhJlJJNfh4//CzqIFuZ87QybZR2"], ["created_at", "2016-05-04 12:37:46.070415"], ["updated_at", "2016-05-04 12:37:46.070415"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'eva.batz@stiedemann.net' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Lydia"], ["lastname", "Pfannerstill"], ["email", "eva.batz@stiedemann.net"], ["encrypted_password", "$2a$04$FczQC77/i1WqfDob.J/BNeisNIb/wyauN5A4s6V.U4BMAnH1zRUre"], ["created_at", "2016-05-04 12:37:46.085310"], ["updated_at", "2016-05-04 12:37:46.085310"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'isaias_reichel@reilly.biz' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Jana"], ["lastname", "Hyatt"], ["email", "isaias_reichel@reilly.biz"], ["encrypted_password", "$2a$04$FdirxwsMCmdg2N3WMmHbZ.vxXp9YwNgW2RpKYhETQn.FU15kuMEWa"], ["created_at", "2016-05-04 12:37:46.095617"], ["updated_at", "2016-05-04 12:37:46.095617"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'gideon@bayer.io' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Frank"], ["lastname", "Dibbert"], ["email", "gideon@bayer.io"], ["encrypted_password", "$2a$04$f.y8MkAnG45qNz1065z4SON3OawQXgTfIove4ZEaoNzo2zqhF.LGm"], ["created_at", "2016-05-04 12:37:46.108171"], ["updated_at", "2016-05-04 12:37:46.108171"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'mariam@herman.org' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Betty"], ["lastname", "Aufderhar"], ["email", "mariam@herman.org"], ["encrypted_password", "$2a$04$4TVaHjLJtdGy/UuzWk0L5e4YhneDCXCtykPmQVeGHBKN0UBKEVfrW"], ["created_at", "2016-05-04 12:37:46.120614"], ["updated_at", "2016-05-04 12:37:46.120614"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$qy0HyEcGfy8XtG258JmoH.JMkihPM6Zg6NOah35lc0CoVUGKqfpha"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:41:50.188585"], ["updated_at", "2016-05-04 12:41:50.188585"]]
  [1m[35m (3.4ms)[0m  COMMIT
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:41:50.214045"], ["updated_at", "2016-05-04 12:41:50.214045"]]
  [1m[35m (18.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:41:50.236405"], ["updated_at", "2016-05-04 12:41:50.236405"]]
  [1m[36m (11.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:41:50.252204"], ["updated_at", "2016-05-04 12:41:50.252204"]]
  [1m[35m (13.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:41:50.302214"], ["updated_at", "2016-05-04 12:41:50.302214"]]
  [1m[36m (18.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:41:50.340329"], ["updated_at", "2016-05-04 12:41:50.340329"]]
  [1m[35m (12.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:41:50.357985"], ["updated_at", "2016-05-04 12:41:50.357985"]]
  [1m[36m (19.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:41:50.380085"], ["updated_at", "2016-05-04 12:41:50.380085"]]
  [1m[35m (19.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:41:50.402390"], ["updated_at", "2016-05-04 12:41:50.402390"]]
  [1m[36m (19.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:41:50.424681"], ["updated_at", "2016-05-04 12:41:50.424681"]]
  [1m[35m (19.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:41:50.446733"], ["updated_at", "2016-05-04 12:41:50.446733"]]
  [1m[36m (19.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:41:50.468821"], ["updated_at", "2016-05-04 12:41:50.468821"]]
  [1m[35m (19.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:41:50.491557"], ["updated_at", "2016-05-04 12:41:50.491557"]]
  [1m[36m (18.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:41:50.513873"], ["updated_at", "2016-05-04 12:41:50.513873"]]
  [1m[35m (18.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:41:50.535781"], ["updated_at", "2016-05-04 12:41:50.535781"]]
  [1m[36m (19.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2918.9ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'rowena@crooks.org' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Dangelo"], ["lastname", "Ebert"], ["email", "rowena@crooks.org"], ["encrypted_password", "$2a$04$s6OOjVbCC4OkB0YVa7FHLes9yucRt.mK6gdoC4jzx.ZbdGhiTOCma"], ["created_at", "2016-05-04 12:41:53.528599"], ["updated_at", "2016-05-04 12:41:53.528599"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'vicente@rau.biz' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Ruth"], ["lastname", "Spencer"], ["email", "vicente@rau.biz"], ["encrypted_password", "$2a$04$Q/iwiq.mhJ2sPCE6IIz3A.zxm2PL3W5kWvIdCsW.uAwO5.R7pavPC"], ["created_at", "2016-05-04 12:41:53.549790"], ["updated_at", "2016-05-04 12:41:53.549790"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'guy.swaniawski@jacobs.org' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Shania"], ["lastname", "Terry"], ["email", "guy.swaniawski@jacobs.org"], ["encrypted_password", "$2a$04$RCpcQBynN45BUFnOGr8L1OPPvYkvm9hYcmjqcF1Z8jX20xq9TxNgG"], ["created_at", "2016-05-04 12:41:53.566454"], ["updated_at", "2016-05-04 12:41:53.566454"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'eloise@corkerymcdermott.net' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Theo"], ["lastname", "Bogisich"], ["email", "eloise@corkerymcdermott.net"], ["encrypted_password", "$2a$04$2lXjKtHO2gQ6LmKpoMmdZOnrxGp0sNtvlkm08oIqyNYlepWP88I7K"], ["created_at", "2016-05-04 12:41:53.584391"], ["updated_at", "2016-05-04 12:41:53.584391"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'edwin.funk@waelchiwillms.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Hildegard"], ["lastname", "Bradtke"], ["email", "edwin.funk@waelchiwillms.com"], ["encrypted_password", "$2a$04$Z/Wy4i2rCHZ6ApGglYdcROvKh8YvJFvk0cE0BJ634CT.itCSuZP9W"], ["created_at", "2016-05-04 12:41:53.615279"], ["updated_at", "2016-05-04 12:41:53.615279"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'edwin.funk@waelchiwillms.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'edwin.funk@waelchiwillms.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'annetta_hayes@carterschuster.net' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Kole"], ["lastname", "Strosin"], ["email", "annetta_hayes@carterschuster.net"], ["encrypted_password", "$2a$04$QkE1e/8o5H/ql0tIGFbfG.EDKwhhesi0KZws9oN2w6MAzbvTnszru"], ["created_at", "2016-05-04 12:41:53.660830"], ["updated_at", "2016-05-04 12:41:53.660830"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'tad@ward.biz' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Jarvis"], ["lastname", "Rodriguez"], ["email", "tad@ward.biz"], ["encrypted_password", "$2a$04$lcMGu4lugvHmscy8oT3ir.IzjNn8j6hQfhP15qOnOhp3VzkeLIqki"], ["created_at", "2016-05-04 12:41:53.678325"], ["updated_at", "2016-05-04 12:41:53.678325"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'jarret@spencer.co' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Alex"], ["lastname", "Krajcik"], ["email", "jarret@spencer.co"], ["encrypted_password", "$2a$04$uqarp7Xgmj90ydWN3CSrGO.K/uqvSMkmA0CgItgWKhaS8phb70f8y"], ["created_at", "2016-05-04 12:41:53.689934"], ["updated_at", "2016-05-04 12:41:53.689934"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'kara@jacobiheel.co' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Maya"], ["lastname", "Watsica"], ["email", "kara@jacobiheel.co"], ["encrypted_password", "$2a$04$vxiGB6bljR1iyrtkviG6ReQj24ulKlo/leiyOGN/TG7Debr1ZZkx2"], ["created_at", "2016-05-04 12:41:53.701310"], ["updated_at", "2016-05-04 12:41:53.701310"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'maudie@robel.org' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Celia"], ["lastname", "Beatty"], ["email", "maudie@robel.org"], ["encrypted_password", "$2a$04$br73XIOrzmapVd27.XAGF.Mu5.vkNrMWJaWwU9ewmtEIHA3xyFyhe"], ["created_at", "2016-05-04 12:41:53.715497"], ["updated_at", "2016-05-04 12:41:53.715497"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$bMJvdwukO3gs31HqXL83T.xQWUeBnju14o02700zDk1k.0jkDbzym"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:44:12.731552"], ["updated_at", "2016-05-04 12:44:12.731552"]]
  [1m[35m (215.1ms)[0m  COMMIT
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:44:12.982929"], ["updated_at", "2016-05-04 12:44:12.982929"]]
  [1m[35m (22.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:44:13.011458"], ["updated_at", "2016-05-04 12:44:13.011458"]]
  [1m[36m (10.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:44:13.026866"], ["updated_at", "2016-05-04 12:44:13.026866"]]
  [1m[35m (13.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:13.074365"], ["updated_at", "2016-05-04 12:44:13.074365"]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:44:13.100385"], ["updated_at", "2016-05-04 12:44:13.100385"]]
  [1m[35m (17.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:44:13.121014"], ["updated_at", "2016-05-04 12:44:13.121014"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:44:13.132128"], ["updated_at", "2016-05-04 12:44:13.132128"]]
  [1m[35m (19.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:44:13.154528"], ["updated_at", "2016-05-04 12:44:13.154528"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:44:13.165428"], ["updated_at", "2016-05-04 12:44:13.165428"]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:44:13.176504"], ["updated_at", "2016-05-04 12:44:13.176504"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:44:13.187736"], ["updated_at", "2016-05-04 12:44:13.187736"]]
  [1m[35m (8.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:44:13.198711"], ["updated_at", "2016-05-04 12:44:13.198711"]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:44:13.210279"], ["updated_at", "2016-05-04 12:44:13.210279"]]
  [1m[35m (18.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:44:13.232302"], ["updated_at", "2016-05-04 12:44:13.232302"]]
  [1m[36m (19.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (2.0ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2505.7ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'annabelle_little@schowalter.biz' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Isom"], ["lastname", "Stiedemann"], ["email", "annabelle_little@schowalter.biz"], ["encrypted_password", "$2a$04$OwTwR7CqOX783iSIkRqxFu/FTYJUUvTIuwSkA4/zOtirasfrmJ8LW"], ["created_at", "2016-05-04 12:44:15.898044"], ["updated_at", "2016-05-04 12:44:15.898044"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'annabelle_little@schowalter.biz' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'admin@gmail.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "firstname", "lastname", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@gmail.com"], ["encrypted_password", "$2a$04$SfTu7HNGgZzYrDGo0c24pOmHMf3K9CX0qsJnco.AXdtAgpitYwkWW"], ["firstname", "Admin"], ["lastname", "Adminovitch"], ["admin", "t"], ["created_at", "2016-05-04 12:44:29.060654"], ["updated_at", "2016-05-04 12:44:29.060654"]]
  [1m[35m (36.2ms)[0m  COMMIT
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "books"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "image", "order_counter", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Rspec Book"], ["description", "Behaviour-Driven Development (BDD) gives you the best of Test Driven Development, Domain Driven Design, and Acceptance Test Driven Planning techniques, so you can create better software with self-documenting, executable tests that bring users and developers together with a common language.\n\t\t\t\t\t\t\t\t\t\t\t\t\tGet the most out of BDD in Ruby with The RSpec Book, written by the lead developer of RSpec, David Chelimsky.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYou'll get started right away with RSpec 2 and Cucumber by developing a simple game, using Cucumber to express high-level requirements in language your customer understands, and RSpec to express more granular requirements that focus on the behavior of individual objects in the system. You'll learn how to use test doubles (mocks and stubs) to control the environment and focus the RSpec examples on one object at a time, and how to customize RSpec to \"speak\" in the language of your domain."], ["price", "17.6"], ["in_stock", 228], ["image", nil], ["order_counter", 25], ["best_seller", "t"], ["created_at", "2016-05-04 12:44:29.114724"], ["updated_at", "2016-05-04 12:44:29.114724"]]
  [1m[35m (16.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "The Ruby On Rails Tutorial"], ["description", "The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book."], ["price", "20.0"], ["in_stock", 128], ["order_counter", 64], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:44:29.136968"], ["updated_at", "2016-05-04 12:44:29.136968"]]
  [1m[36m (17.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "books" ("title", "description", "price", "in_stock", "order_counter", "image", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "The Ruby Programming Language"], ["description", "The Ruby Programming Language is the authoritative guide to Ruby and provides comprehensive coverage of versions 1.8 and 1.9 of the language. It was written (and illustrated!) by an all-star team    David Flanagan, bestselling author of programming language \"bibles\" (including JavaScript: The Definitive Guide and Java in a Nutshell) and committer to the Ruby Subversion repository.\n\t\t\t\t\t\t\t\t\t\t\t\t\tYukihiro \"Matz\" Matsumoto, creator, designer and lead developer of Ruby and author of Ruby in a Nutshell, which has been expanded and revised to become this book.\n\t\t\t\t\t\t\t\t\t\t\t\t\twhy the lucky stiff, artist and Ruby programmer extraordinaire."], ["price", "32.6"], ["in_stock", 328], ["order_counter", 48], ["image", nil], ["best_seller", "t"], ["created_at", "2016-05-04 12:44:29.158731"], ["updated_at", "2016-05-04 12:44:29.158731"]]
  [1m[35m (18.1ms)[0m  COMMIT
  [1m[36m (5.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:29.198529"], ["updated_at", "2016-05-04 12:44:29.198529"]]
  [1m[36m (10.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "asdasdasd"], ["created_at", "2016-05-04 12:44:29.220038"], ["updated_at", "2016-05-04 12:44:29.220038"]]
  [1m[35m (22.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "Sk8fS0F23"], ["created_at", "2016-05-04 12:44:29.246798"], ["updated_at", "2016-05-04 12:44:29.246798"]]
  [1m[36m (30.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "J3fS03fDs"], ["created_at", "2016-05-04 12:44:29.279245"], ["updated_at", "2016-05-04 12:44:29.279245"]]
  [1m[35m (20.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "23Lss02Fw"], ["created_at", "2016-05-04 12:44:29.302248"], ["updated_at", "2016-05-04 12:44:29.302248"]]
  [1m[36m (19.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "KdGn39n3v"], ["created_at", "2016-05-04 12:44:29.324246"], ["updated_at", "2016-05-04 12:44:29.324246"]]
  [1m[35m (19.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Fskf9D2mf"], ["discount", 10], ["created_at", "2016-05-04 12:44:29.346441"], ["updated_at", "2016-05-04 12:44:29.346441"]]
  [1m[36m (31.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "9fSk3k2nv"], ["discount", 10], ["created_at", "2016-05-04 12:44:29.380132"], ["updated_at", "2016-05-04 12:44:29.380132"]]
  [1m[35m (20.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Ls02nFsd1"], ["discount", 10], ["created_at", "2016-05-04 12:44:29.402754"], ["updated_at", "2016-05-04 12:44:29.402754"]]
  [1m[36m (18.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "KJsfne30v"], ["discount", 20], ["created_at", "2016-05-04 12:44:29.425104"], ["updated_at", "2016-05-04 12:44:29.425104"]]
  [1m[35m (18.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cupons" ("value", "discount", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "Anutochka"], ["discount", 20], ["created_at", "2016-05-04 12:44:29.446985"], ["updated_at", "2016-05-04 12:44:29.446985"]]
  [1m[36m (19.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "ratings" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "authors" DISABLE TRIGGER ALL;ALTER TABLE "books" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "order_items" DISABLE TRIGGER ALL;ALTER TABLE "orders" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "countries" DISABLE TRIGGER ALL;ALTER TABLE "credit_cards" DISABLE TRIGGER ALL;ALTER TABLE "cupons" DISABLE TRIGGER ALL
  [1m[36m (1.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (0.9ms)[0m  select table_name from information_schema.views where table_schema = 'bookstore_test'
  [1m[36m (2516.1ms)[0m  [1mTRUNCATE TABLE "public"."ratings", "public"."addresses", "public"."authors", "public"."books", "public"."users", "public"."order_items", "public"."orders", "public"."categories", "public"."countries", "public"."credit_cards", "public"."cupons" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "ratings" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "authors" ENABLE TRIGGER ALL;ALTER TABLE "books" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "order_items" ENABLE TRIGGER ALL;ALTER TABLE "orders" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "countries" ENABLE TRIGGER ALL;ALTER TABLE "credit_cards" ENABLE TRIGGER ALL;ALTER TABLE "cupons" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Absalom, Absalom!"], ["price", "31.4"], ["description", "Rerum eaque laboriosam sunt doloribus. Voluptatem ut neque doloribus dolores aut est. Sequi temporibus esse minus et fugit iure corrupti. Sit voluptatem commodi ut et. Corrupti quis incidunt sapiente quo facilis asperiores."], ["in_stock", 145], ["created_at", "2016-05-04 12:44:32.214966"], ["updated_at", "2016-05-04 12:44:32.214966"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "The Waste Land"], ["price", "86.26"], ["description", "Eius cupiditate a deserunt et ea quae consequatur. Est eveniet expedita. Inventore beatae dolorem nam ut quia eum molestiae."], ["in_stock", 49], ["best_seller", "t"], ["created_at", "2016-05-04 12:44:32.218437"], ["updated_at", "2016-05-04 12:44:32.218437"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Everything is Illuminated"], ["price", "90.91"], ["description", "Quam sed impedit. Sed placeat incidunt quia nihil. Reiciendis libero omnis perspiciatis cumque."], ["in_stock", 174], ["best_seller", "t"], ["created_at", "2016-05-04 12:44:32.222622"], ["updated_at", "2016-05-04 12:44:32.222622"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE (best_seller = 'true')[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["title", "Paths of Glory"], ["price", "57.86"], ["description", "Est non minus. Assumenda recusandae dolor veritatis reiciendis voluptatem nemo. Dolorum illum eius accusamus doloribus."], ["in_stock", 84], ["created_at", "2016-05-04 12:44:32.229941"], ["updated_at", "2016-05-04 12:44:32.229941"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "Look Homeward, Angel"], ["price", "55.85"], ["description", "Cum expedita veritatis. Inventore autem provident dolorum. Blanditiis fugiat et quasi est aut. Et culpa perspiciatis eos dolores. Error placeat dolor vitae doloremque magni saepe est."], ["in_stock", 89], ["best_seller", "t"], ["created_at", "2016-05-04 12:44:32.233984"], ["updated_at", "2016-05-04 12:44:32.233984"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "best_seller", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Little Hands Clapping"], ["price", "21.46"], ["description", "Ut nihil qui sed ipsa. Quo accusamus qui. A sunt vitae."], ["in_stock", 48], ["best_seller", "t"], ["created_at", "2016-05-04 12:44:32.238307"], ["updated_at", "2016-05-04 12:44:32.238307"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["title", "The World, the Flesh and the Devil (1891 novel)"], ["price", "3.52"], ["description", "Modi dicta dolor omnis. Aspernatur molestiae iusto animi quisquam. Reprehenderit dolores id in corporis."], ["in_stock", 50], ["created_at", "2016-05-04 12:44:32.241379"], ["updated_at", "2016-05-04 12:44:32.241379"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBook Load (0.2ms)[0m  SELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Load (0.6ms)[0m  SELECT  "categories".* FROM "categories"  ORDER BY "categories"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-05-04 12:44:32.270894"], ["updated_at", "2016-05-04 12:44:32.270894"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "categories" SET "title" = $1, "updated_at" = $2 WHERE "categories"."id" = $3[0m  [["title", "an arbitrary value"], ["updated_at", "2016-05-04 12:44:32.273504"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'et' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "et"], ["created_at", "2016-05-04 12:44:32.285872"], ["updated_at", "2016-05-04 12:44:32.285872"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'harum' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["title", "harum"], ["created_at", "2016-05-04 12:44:32.291170"], ["updated_at", "2016-05-04 12:44:32.291170"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "The Widening Gyre"], ["price", "89.49"], ["description", "Et voluptas fugit eveniet officiis. Eaque accusantium non. Officia beatae enim a ea dolor aliquam."], ["in_stock", 112], ["category_id", 3], ["created_at", "2016-05-04 12:44:32.308908"], ["updated_at", "2016-05-04 12:44:32.308908"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["title", "The Mirror Crack'd from Side to Side"], ["price", "8.13"], ["description", "Perferendis quia repellendus. Amet rerum dolorem. Ratione ut voluptas dolorum praesentium consequatur veritatis. Mollitia quasi debitis. Ipsum non perspiciatis sint debitis."], ["in_stock", 200], ["category_id", 3], ["created_at", "2016-05-04 12:44:32.313744"], ["updated_at", "2016-05-04 12:44:32.313744"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "books" ("title", "price", "description", "in_stock", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Consider Phlebas"], ["price", "49.6"], ["description", "Tenetur amet voluptate aut doloribus. Quam quae eum est. Et voluptatem ut veniam voluptatem ut omnis et."], ["in_stock", 32], ["category_id", 3], ["created_at", "2016-05-04 12:44:32.317819"], ["updated_at", "2016-05-04 12:44:32.317819"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "books" WHERE "books"."category_id" = $1  [["category_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mCountry Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mCountry Load (0.3ms)[0m  SELECT  "countries".* FROM "countries"  ORDER BY "countries"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "countries" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-05-04 12:44:32.340058"], ["updated_at", "2016-05-04 12:44:32.340058"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "countries" SET "name" = $1, "updated_at" = $2 WHERE "countries"."id" = $3[0m  [["name", "an arbitrary value"], ["updated_at", "2016-05-04 12:44:32.342396"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCountry Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mCountry Exists (0.3ms)[0m  SELECT  1 AS one FROM "countries" WHERE "countries"."name" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "cupons" ("value", "use", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["value", "zrvn1h78b"], ["use", "t"], ["created_at", "2016-05-04 12:44:32.475162"], ["updated_at", "2016-05-04 12:44:32.475162"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["value", "hbgxg2fe4"], ["created_at", "2016-05-04 12:44:32.480318"], ["updated_at", "2016-05-04 12:44:32.480318"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cupons" ("value", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["value", "ukjqt9ub8"], ["created_at", "2016-05-04 12:44:32.484210"], ["updated_at", "2016-05-04 12:44:32.484210"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCupon Load (0.3ms)[0m  SELECT  "cupons".* FROM "cupons" WHERE "cupons"."value" = $1  ORDER BY "cupons"."id" ASC LIMIT 1  [["value", "ukjqt9ub8"]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "79.23"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.489916"], ["updated_at", "2016-05-04 12:44:32.489916"]]
  [1m[35m (16.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "order_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 12:44:32.528202"], ["updated_at", "2016-05-04 12:44:32.528202"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 12:44:32.530564"], ["updated_at", "2016-05-04 12:44:32.530564"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 12:44:32.532384"], ["updated_at", "2016-05-04 12:44:32.532384"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "order_items"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 12:44:32.542761"], ["updated_at", "2016-05-04 12:44:32.542761"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 12:44:32.545633"], ["updated_at", "2016-05-04 12:44:32.545633"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 12:44:32.549593"], ["updated_at", "2016-05-04 12:44:32.549593"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 12:44:32.560613"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.3ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3  [["quantity", "4"], ["updated_at", "2016-05-04 12:44:32.565195"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 3], ["quantity", "2"], ["created_at", "2016-05-04 12:44:32.575669"], ["updated_at", "2016-05-04 12:44:32.575669"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 2], ["quantity", "3"], ["created_at", "2016-05-04 12:44:32.578439"], ["updated_at", "2016-05-04 12:44:32.578439"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("order_id", "book_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 1], ["book_id", 1], ["quantity", "1"], ["created_at", "2016-05-04 12:44:32.580987"], ["updated_at", "2016-05-04 12:44:32.580987"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 12:44:32.586528"], ["updated_at", "2016-05-04 12:44:32.586528"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 12:44:32.588587"], ["updated_at", "2016-05-04 12:44:32.588587"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 12:44:32.590531"], ["updated_at", "2016-05-04 12:44:32.590531"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "7"], ["updated_at", "2016-05-04 12:44:32.593365"], ["id", 12]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 12:44:32.596166"], ["id", 11]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", "4"], ["updated_at", "2016-05-04 12:44:32.600075"], ["id", 10]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 1]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 2]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 3]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.1ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "3"], ["book_id", 1], ["order_id", 1], ["created_at", "2016-05-04 12:44:32.609668"], ["updated_at", "2016-05-04 12:44:32.609668"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", "1"], ["book_id", 2], ["order_id", 1], ["created_at", "2016-05-04 12:44:32.611563"], ["updated_at", "2016-05-04 12:44:32.611563"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", "5"], ["book_id", 3], ["order_id", 1], ["created_at", "2016-05-04 12:44:32.613135"], ["updated_at", "2016-05-04 12:44:32.613135"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 1]]
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1[0m  [["order_id", 1], ["book_id", 2]]
  [1m[35mOrderItem Load (0.2ms)[0m  SELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2  ORDER BY "order_items"."id" ASC LIMIT 1  [["order_id", 1], ["book_id", 3]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'hollie_cormier@romaguera.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["firstname", "Adalberto"], ["lastname", "Conroy"], ["email", "hollie_cormier@romaguera.com"], ["encrypted_password", "$2a$04$tHeWGu85o63iN2zEzBvhEe4siAiqi5.wgSRgA7fWGNzX54HXv4y/a"], ["created_at", "2016-05-04 12:44:32.621544"], ["updated_at", "2016-05-04 12:44:32.621544"]]
  [1m[36m (17.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["total_price", "46.33"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.669883"], ["updated_at", "2016-05-04 12:44:32.669883"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["total_price", "43.14"], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.674288"], ["updated_at", "2016-05-04 12:44:32.674288"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("user_id", "total_price", "order_total", "book_count", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["user_id", 1], ["total_price", "0.0"], ["order_total", "5.0"], ["book_count", 0], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.678227"], ["updated_at", "2016-05-04 12:44:32.678227"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "92.19"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.685755"], ["updated_at", "2016-05-04 12:44:32.685755"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "20.73"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.691246"], ["updated_at", "2016-05-04 12:44:32.691246"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "57.87"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.696451"], ["updated_at", "2016-05-04 12:44:32.696451"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "84.79"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.700357"], ["updated_at", "2016-05-04 12:44:32.700357"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "55.47"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.703744"], ["updated_at", "2016-05-04 12:44:32.703744"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "9.32"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.707146"], ["updated_at", "2016-05-04 12:44:32.707146"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "13.69"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.710338"], ["updated_at", "2016-05-04 12:44:32.710338"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "5.77"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.713344"], ["updated_at", "2016-05-04 12:44:32.713344"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  ORDER BY "orders"."id" DESC LIMIT 1[0m  [["user_id", 1], ["state", "in_queue"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "1.43"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.720944"], ["updated_at", "2016-05-04 12:44:32.720944"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "4.3"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.726332"], ["updated_at", "2016-05-04 12:44:32.726332"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "27.59"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.730542"], ["updated_at", "2016-05-04 12:44:32.730542"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "59.63"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.734600"], ["updated_at", "2016-05-04 12:44:32.734600"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "81.73"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.737268"], ["updated_at", "2016-05-04 12:44:32.737268"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "88.14"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.740071"], ["updated_at", "2016-05-04 12:44:32.740071"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "51.52"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.742850"], ["updated_at", "2016-05-04 12:44:32.742850"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "51.38"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.746535"], ["updated_at", "2016-05-04 12:44:32.746535"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "in_queue"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "12.22"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.755835"], ["updated_at", "2016-05-04 12:44:32.755835"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "26.93"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.758806"], ["updated_at", "2016-05-04 12:44:32.758806"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "75.29"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.761468"], ["updated_at", "2016-05-04 12:44:32.761468"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "24.47"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.764067"], ["updated_at", "2016-05-04 12:44:32.764067"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "87.11"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.766801"], ["updated_at", "2016-05-04 12:44:32.766801"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "2.96"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.769516"], ["updated_at", "2016-05-04 12:44:32.769516"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "30.56"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.772088"], ["updated_at", "2016-05-04 12:44:32.772088"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "21.29"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.774644"], ["updated_at", "2016-05-04 12:44:32.774644"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2[0m  [["user_id", 1], ["state", "in_delivery"]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "69.44"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.782856"], ["updated_at", "2016-05-04 12:44:32.782856"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "16.52"], ["state", "in_delivery"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.785861"], ["updated_at", "2016-05-04 12:44:32.785861"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "4.78"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.788337"], ["updated_at", "2016-05-04 12:44:32.788337"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "68.97"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.790780"], ["updated_at", "2016-05-04 12:44:32.790780"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "81.27"], ["state", "delivered"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.793071"], ["updated_at", "2016-05-04 12:44:32.793071"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "99.25"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.795300"], ["updated_at", "2016-05-04 12:44:32.795300"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["total_price", "4.68"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.797387"], ["updated_at", "2016-05-04 12:44:32.797387"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("total_price", "state", "user_id", "completed_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["total_price", "99.59"], ["state", "in_queue"], ["user_id", 1], ["completed_date", "2016-05-07"], ["created_at", "2016-05-04 12:44:32.799671"], ["updated_at", "2016-05-04 12:44:32.799671"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2  [["user_id", 1], ["state", "delivered"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'javier@ondricka.io' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("firstname", "lastname", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["firstname", "Maritza"], ["lastname", "Kuhlman"], ["email", "javier@ondricka.io"], ["encrypted_password", "$2a$04$P15qo2VeRiSjWIJqRZeEAOKfHZTSDQydhRDFQr3uYLXgN9jsVaZue"], ["created_at", "2016-05-04 12:44:32.918546"], ["updated_at", "2016-05-04 12:44:32.918546"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'javier@ondricka.io' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
